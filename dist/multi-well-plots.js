!function(e){var t={};function n(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(l,i,function(t){return e[t]}.bind(null,i));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",l=e[3];if(!l)return n;if(t&&"function"==typeof btoa){var i=(o=l,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=l.sources.map((function(e){return"/*# sourceURL="+l.sourceRoot+e+" */"}));return[n].concat(s).concat([i]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var l={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(l[s]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&l[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var l,i,s={},o=(l=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=l.apply(this,arguments)),i}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},r=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var l=a.call(this,e,n);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch(e){l=null}t[e]=l}return t[e]}}(),f=null,c=0,d=[],p=n(7);function g(e,t){for(var n=0;n<e.length;n++){var l=e[n],i=s[l.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](l.parts[o]);for(;o<l.parts.length;o++)i.parts.push(y(l.parts[o],t))}else{var a=[];for(o=0;o<l.parts.length;o++)a.push(y(l.parts[o],t));s[l.id]={id:l.id,refs:1,parts:a}}}}function u(e,t){for(var n=[],l={},i=0;i<e.length;i++){var s=e[i],o=t.base?s[0]+t.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};l[o]?l[o].parts.push(a):n.push(l[o]={id:o,parts:[a]})}return n}function m(e,t){var n=r(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var l=d[d.length-1];if("top"===e.insertAt)l?l.nextSibling?n.insertBefore(t,l.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(e.insertAt.before,n);n.insertBefore(t,i)}}function x(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var l=function(){0;return n.nc}();l&&(e.attrs.nonce=l)}return b(t,e.attrs),m(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,l,i,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var o=c++;n=f||(f=h(t)),l=k.bind(null,n,o,!1),i=k.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),m(e,t),t}(t),l=L.bind(null,n,t),i=function(){x(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),l=S.bind(null,n),i=function(){x(n)});return l(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;l(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=u(e,t);return g(n,t),function(e){for(var l=[],i=0;i<n.length;i++){var o=n[i];(a=s[o.id]).refs--,l.push(a)}e&&g(u(e,t),t);for(i=0;i<l.length;i++){var a;if(0===(a=l[i]).refs){for(var r=0;r<a.parts.length;r++)a.parts[r]();delete s[a.id]}}}};var v,w=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function k(e,t,n,l){var i=n?"":l.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function S(e,t){var n=t.css,l=t.media;if(l&&e.setAttribute("media",l),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function L(e,t,n){var l=n.css,i=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||s)&&(l=p(l)),i&&(l+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([l],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(e,t,n){function l(e){let t="object"!=typeof e?JSON.parse(e):e,n="";for(var l=0;l<t.length;l++){let e="";for(let n in t[l])""!=e&&(e+=","),e+=t[l][n];n+=e+"\r\n"}return n}function i(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];try{return JSON.parse(e)}catch(e){return[]}}function s(e){if("string"==typeof e)try{const t=JSON.parse(e);return!!Array.isArray(t)}catch(e){return!1}else if(Array.isArray(e))return!0;return!1}t.convertToCSV=l,t.exportCSVFile=function(e,t,n){e&&t.unshift(e);let i=l(JSON.stringify(t)),s=n+".csv"||!1,o=new Blob([i],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,s);else{let e=document.createElement("a");document.body.appendChild(e),e.style="display: none",url=window.URL.createObjectURL(o),e.href=url,e.download=s,e.click(),window.URL.revokeObjectURL(url)}},t.getWellColor=function(e){let t=e.color;if(s(t)){let n=i(t);return n[(e._idx||0)%n.length]}return e.color},t.toArray=i,t.isArray=s,t.palette2RGB=function(e,t){return e&&Object.keys(e).length?`rgb(${e.red},${e.green},${e.blue},${t?e.alpha/2:1})`:"transparent"}},function(e,t,n){e.exports={multiWellCrossplot:n(4),multiCrossplot:n(23),multiWellHistogram:n(27),multiHistogram:n(41)}},function(module,exports,__webpack_require__){var componentName="multiWellCrossplot";module.exports.name=componentName,__webpack_require__(5);const regression=__webpack_require__(8),utils=__webpack_require__(2);var PrintableController=Printable.klass,component=Printable.component;const _DECIMAL_LEN=4,_PICKETT_LIMIT=5,_POLYGON_LIMIT=5;var app=angular.module(componentName,["sideBar","wiTreeView","wiTreeViewVirtual","wiTableView","wiApi","editable","wiDialog","wiDroppable","wiDropdownList","angularResizable","plot-toolkit","printSettings","wiLoading","line-style"]);function multiWellCrossplotController($scope,$timeout,$element,$compile,wiToken,wiApi,wiDialog,wiLoading){window.crossCtrl=this;let self=this;function getCurvesInWell(e){let t=[];return e.datasets.forEach(e=>{t.push(...e.curves)}),t}function onTabChange(){5!=$scope.tab&&self.polygons.forEach(e=>{e.mode=null})}function setOnChangeFn(e){e&&(e.onChange||(e.onChange=function(e){this.value=(e||{}).name}.bind(e)))}function getSelectionList(e,t){let n={},l=[];switch(t.forEach(e=>{let t=getCurvesInWell(e);l.push(...t)}),e){case"curve":l.forEach(e=>{n[e.name]=1});break;case"family":l.forEach(e=>{let t=wiApi.getFamily(e.idFamily);t&&(n[t.name]=1)});break;case"family-group":l.forEach(e=>{let t=wiApi.getFamily(e.idFamily);t&&(n[t.familyGroup]=1)})}self.selectionList=Object.keys(n).map(e=>({data:{label:e},properties:{name:e}})),self.selectionList.sort((e,t)=>e.data.label.localeCompare(t.data.label))}function clickFunction(e,t,n,l){let i=self.wellSpec.find(e=>e.idWell===l.idWell&&e._idx===l._idx);switch(l.isSettingAxis){case"X":i.xAxis={},i.xAxis.idCurve=t.idCurve,i.xAxis.idDataset=t.idDataset;break;case"Y":i.yAxis={},i.yAxis.idCurve=t.idCurve,i.yAxis.idDataset=t.idDataset;break;case"Z1":i.z1Axis={},i.z1Axis.idCurve=t.idCurve,i.z1Axis.idDataset=t.idDataset;break;case"Z2":i.z2Axis={},i.z2Axis.idCurve=t.idCurve,i.z2Axis.idDataset=t.idDataset;break;case"Z3":i.z3Axis={},i.z3Axis.idCurve=t.idCurve,i.z3Axis.idDataset=t.idDataset}}async function getTree(e,t){self.treeConfig.findIndex(t=>t.idWell===e.idWell&&t._idx===e._idx);let n=await wiApi.getCachedWellPromise(e.idWell);return e.name=n.name,n=Object.assign({},n),n.isSettingAxis="X",n._idx=e._idx,$timeout(()=>{self.treeConfig.push(n)}),n}async function getTrees(e){wiLoading.show($element.find(".main")[0],self.silent),self.treeConfig.length=0;for(let e of self.wellSpec)try{let t=await wiApi.getCachedWellPromise(e.idWell||e);e.name=t.name,t=Object.assign({},t),t.isSettingAxis="X",t._idx=e._idx,$timeout(()=>{self.treeConfig.push(t)})}catch(t){e.notFound=!0;let n=`Well ${e.name} not found`;__toastr&&__toastr.error(n),console.error(t)}self.wellSpec=self.wellSpec.filter(e=>!e.notFound),$scope.$root.$$phase||$scope.$digest(),e&&e(),wiLoading.hide()}function getZonesetsFromWells(e){if(!e.length)return;let t;for(let n of e){let e=n.zone_sets;if(t){if(!t.length)break;t=intersectAndMerge(t,e)}else t=angular.copy(e)}self.zonesetList=(t||[]).map(e=>({data:{label:e.name},properties:e})),self.zonesetList.splice(0,0,{data:{label:"ZonationAll"},properties:genZonationAllZS(0,1)});let n=(self.zonesetList.find(e=>e.properties.name===self.zonesetName)||{}).properties;n||(n=self.zonesetList[0].properties),self.onZonesetSelectionChanged(n,!1),$scope.$root.$$phase||$scope.$digest()}function intersectAndMerge(e,t){return e.filter(e=>{let n=t.find(t=>e.name===t.name);if(!n)return!1;for(let t of n.zones){e.zones.find(e=>e.zone_template.name==t.zone_template.name)||e.zones.push(angular.copy(t))}return!0})}function getCurve(e,t){let n=getWellSpec(e);if(!Object.keys(n).length)return{};let l=t||self.getAxisKey(e.isSettingAxis),i=getCurvesInWell(e).filter(e=>self.runWellMatch(e,self.getFilterForWell(l))),s=n[l]&&n[l].idCurve&&i.find(e=>e.idCurve===n[l].idCurve)||i[0];if(!s)return void(n[l]={});null==n[l]&&(n[l]={}),n[l].curveName=s.name,n[l].idCurve=s.idCurve,n[l].idDataset=s.idDataset;let o=self.getChildren(e),a=n[l]&&n[l].idDataset?o.find(e=>e.idDataset===n[l].idDataset):o[0];return n[l].datasetName=a.name,n[l].datasetTop=parseFloat(a.top),n[l].datasetBottom=parseFloat(a.bottom),n[l].datasetStep=parseFloat(a.step),s}PrintableController.call(this,$scope,$element,$timeout,$compile,wiApi,wiLoading),self.treeConfig=[],self.silent=!0,self.selectedNode=null,self.datasets={},self.logsData=[],$scope.tab=1,self.selectionTab=self.selectionTab||"Wells",$scope.setTab=function(e){$scope.tab=e},$scope.isSet=function(e){return $scope.tab===e},this.getDataset=function(e){wiApi.getCachedWellPromise(e.idWell).then(e=>{self.datasets[e]=e.datasets}).catch(e=>console.error(e))},this.getFamilyTable=function(){return wiApi.getFamilyTable()},this.getPals=function(){return wiApi.getPalettes()},this.defaultBindings=function(){self.token&&wiToken.setToken(self.token),self.verticalMargin=0,self.horizontalMargin=0,self.pickettAdjusterArray=[],self.allPickettLines=[],self.pickettSets=self.pickettSets||[{rw:.03,m:2,n:2,a:1,color:"blue"}],self.pickettSets.forEach(e=>{e._used=!1}),void 0!==self.showPickettSetAt&&(self.pickettSets[self.showPickettSetAt]._used=!0),self.pickettSets[0]._notHidden=!0,self.swParamList=self.swParamList||[{sw:1},{sw:.5},{sw:.3},{sw:.2}],self.pointSize=self.pointSize||10,self.isSettingChange=!0,self.defaultConfig=self.defaultConfig||{},self.showTooltip=null==self.showTooltip||self.showTooltip,self.wellSpec=self.wellSpec||[],self.listOverlayLine=self.listOverlayLine||[],self.selectionType=self.selectionType||"family-group",self.zoneTree=[],self.zonesetName=self.zonesetName||"ZonationAll",self.config=self.config||{familyX:"",familyY:"",familyZ1:"",familyZ2:"",familyZ3:"",grid:!0,displayMode:"bar",colorMode:"zone",stackMode:"well",binGap:5,title:self.title||"",rowsNumPropMap:5,colsNumPropMap:7,polynomialOrder:2},self.polygons=self.polygons||[],self.polygonExclude=self.polygonExclude||!1,self.selectionValueList=self.selectionValueList||self.initSelectionValueList(),self.selectionValueList.forEach(e=>{setOnChangeFn(e)}),self.statisticHeaders=["X-Axis","Y-Axis","Z1-Axis","Z2-Axis","Z3-Axis","Filter","Points","MSE","Correlation"],self.statisticHeaderMasks=[!0,!0,self.getSelectionValue("Z1").isUsed,self.getSelectionValue("Z2").isUsed,self.getSelectionValue("Z3").isUsed,!0,!0,!0,!0],self.regressionType=self.regressionType||"Linear",self.regressionTypeList=[{data:{label:"Linear"},properties:{name:"Linear"}},{data:{label:"Exponential"},properties:{name:"Exponential"}},{data:{label:"Power"},properties:{name:"Power"}},{data:{label:"Polynomial"},properties:{name:"Polynomial"}}],self.udlsAssetId?initUDL():(self.udls=[],self.udls.name="Untitled"),self.overlayLine&&(self.overlayLineSpec={idOverlayLine:self.overlayLine.idOverlayLine,name:self.overlayLine.name}),$scope.vPadding=50,$scope.hPadding=60,self.paramGroupPointsFn=self.paramGroupPointsFn||function(e){return e.points},this.getParamGroupX=this.getParamGroupX||function(e){return e.params[0].value},this.getParamGroupY=this.getParamGroupY||function(e){let t=self.getSelectionValueList("X");if(t.family){return e.params.find(e=>e.$res.family===t.family).value}return e.params[1].value},this.setParamGroupX=this.setParamGroupX||function(e,t){e.params[0].value=t},this.setParamGroupY=this.setParamGroupY||function(e,t){e.params[1].value=t},self.paramGroups=self.paramGroups||[],self.getPickettSetRw=self.getPickettSetRw||function(e,t){return e.rw||"[empty]"},self.setPickettSetRw=self.setPickettSetRw||function(e,t,n){e.rw=n},self.getPickettSetA=self.getPickettSetA||function(e,t){return e.a||"[empty]"},self.setPickettSetA=self.setPickettSetA||function(e,t,n){e.a=n},self.getPickettSetM=self.getPickettSetM||function(e,t){return e.m||"[empty]"},self.setPickettSetM=self.setPickettSetM||function(e,t,n){e.m=n},self.getPickettSetN=self.getPickettSetN||function(e,t){return e.n||"[empty]"},self.setPickettSetN=self.setPickettSetN||function(e,t,n){e.n=n},self.getPickettSetName=self.getPickettSetName||function(e,t){return self.pickettSets[t].name||"[empty]"},self.setPickettSetName=self.setPickettSetName||function(e,t,n){self.pickettSets[t].name=n},self.getPickettSetColor=self.getPickettSetColor||function(e,t){return e.color||"black"},self.xUnitList=self.xUnitList||[],self.yUnitList=self.yUnitList||[]},this.exportStatistic=function(){if(!self.layers.length){let e="No statistic data to export";return __toastr&&__toastr.error(e),void console.error(e)}let e=self.getZoneNames(),t=self.getHeaders(),n=[],l={Layer:"Layer"};t.forEach((e,t)=>{l[e]=e}),e.forEach((e,l)=>{let i={Layer:e};t.forEach((e,t)=>{i[e]=self.statsValue([l,t])}),n.push(i)});let i=self.getConfigTitle();utils.exportCSVFile(l,n,i)},this.$onInit=function(){self.doInit(),self.onInitFn&&self.onInitFn(self),$timeout(()=>{$scope.$watch(()=>self.getFamilyTable(),(e,t)=>{self.familyTable=e}),$scope.$watch(()=>self.getPals(),(e,t)=>{self.palTable=e}),$scope.$watch(()=>self.config,(e,t)=>{self.isSettingChange=!0},!0),$scope.$watch(()=>self.selectionType,(e,t)=>{e!==t&&(self.isSettingChange=!0,self.selectionValueList.forEach(e=>e.value=""),getSelectionList(self.selectionType,self.treeConfig),updateDefaultConfig())}),$scope.$watch(()=>self.wellSpec.map(e=>`${e.xAxis?e.xAxis.idCurve:""}-\n                        ${e.yAxis?e.yAxis.idCurve:""}-\n                        ${e.z1Axis?e.z1Axis.idCurve:""}-\n                        ${e.z2Axis?e.z2Axis.idCurve:""}-\n                        ${e.z3Axis?e.z3Axis.idCurve:""}`).join(""),()=>{self.isSettingChange=!0,updateDefaultConfig()},!0),$scope.$watch(()=>""+JSON.stringify(self.selectionValueList),()=>{self.isSettingChange=!0,self.updateShowZStats(),updateDefaultConfig()}),$scope.$watch(()=>self.treeConfig.map(e=>e.idWell),()=>{self.isSettingChange=!0,getSelectionList(self.selectionType,self.treeConfig),getZonesetsFromWells(self.treeConfig),updateDefaultConfig()},!0),$scope.$watch(()=>`${self.regressionType}-${JSON.stringify(self.polygons)}`,()=>{self.isSettingChange=!0,self.updateRegressionLine(self.regressionType,self.polygons)}),$scope.$watch("tab",()=>{onTabChange()}),$scope.$watch(()=>self.pickettSets.map(e=>`\n                    ${self.getPickettSetRw(e)}-\n                    ${self.getPickettSetM(e)}-\n                    ${self.getPickettSetN(e)}-\n                    ${self.getPickettSetA(e)}\n                    `).join(""),()=>{self.updatePickettAdjusterArrayDebounce()}),$scope.$watch(()=>self.layers.map(e=>e._use4PropMap).join(""),()=>{updatePropMap()}),getTrees()},700)},this.showPickettTabCondition=function(){return self.validPlotRegion()&&self.conditionForPickettPlot()&&self.allPickettLines&&!self.notShowPickett},this.sortableUpdate=function(){$scope.$digest()},this.eqnOffsetY=function(e){return`calc(${100*e}% + ${$scope.vPadding}px)`},self.updateShowZStats=function(){let e=self.statisticHeaders.indexOf("z1Axis"),t=self.statisticHeaders.indexOf("z2Axis"),n=self.statisticHeaders.indexOf("z3Axis");self.statisticHeaderMasks[e]=self.getSelectionValue("Z1").isUsed,self.statisticHeaderMasks[t]=self.getSelectionValue("Z2").isUsed,self.statisticHeaderMasks[n]=self.getSelectionValue("Z3").isUsed},self.statsValue=function([e,t]){let n=self.layers;try{switch(_headers[t]){case"X-Axis":return n[e].curveXInfo||"N/A";case"Y-Axis":return n[e].curveYInfo||"N/A";case"Z1-Axis":return n[e].curveZ1Info||"N/A";case"Z2-Axis":return n[e].curveZ2Info||"N/A";case"Z3-Axis":return n[e].curveZ3Info||"N/A";case"Filter":return n[e].conditionExpr||"N/A";case"Points":return n[e].numPoints;case"MSE":return n[e].mse||"N/A";case"Correlation":return n[e].correlation;default:return"this default"}}catch{return"N/A"}},self.getStatsRowIcons=function(e){return["rectangle"]},self.getStatsIconStyle=function(e){return{"background-color":self.layers[e].layerColor}},this.calcMSE=function(e,t){let n=0;for(let l=0;l<e.length;l++)n+=Math.pow(t[l]-e[l],2);return n/e.length},this.calcCorrelation=function(e,t){let n=i(e),l=i(t);return(_.sum(n.map((function(e,t){return e*l[t]})))/Math.sqrt(_.sum(n.map((function(e){return Math.pow(e,2)})))*_.sum(l.map((function(e){return Math.pow(e,2)}))))).toFixed(4);function i(e){var t,n,l,i;for(t=_.mean(e),n=e.length,l=new Array(n),i=0;i<n;i++)l[i]=e[i]-t;return l}},this.onSelectionValueListChange=function(e){switch(e){case"X":delete self.config.left,delete self.config.right,delete self.config.xLabel,delete self.config.logaX;break;case"Y":delete self.config.top,delete self.config.bottom,delete self.config.yLabel,delete self.config.logaY}},this.initSelectionValueList=()=>[{name:"X",label:"X Axis",value:"",isUsed:!0},{name:"Y",label:"Y Axis",value:"",isUsed:!0},{name:"Z1",label:"Z1 Axis",value:""},{name:"Z2",label:"Z2 Axis",value:""},{name:"Z3",label:"Z3 Axis",value:""}],this.getSelectionValue=e=>{if(!self.selectionValueList.length)return"";return self.selectionValueList.find(t=>t.name==e)},this.getLabel=function(e){return e.name},this.getIcon=function(e){return e.idCurve?"curve-16x16":e.idDataset?"curve-data-16x16":e.idWell?"well-16x16":void 0},this.getChildren=function(e){return e.idDataset?e.curves:e.idWell?e.datasets:[]},this.clickFunction=clickFunction,this.refresh=function(){function e(){getTrees(()=>{getZonesetsFromWells(self.treeConfig),self.genLayers(),self.isSettingChange=!0}),wiApi.updatePalettes(()=>{self.palTable=wiApi.getPalettes(),self.wiDropdownCtrl.items=Object.keys(self.palTable).map(e=>({data:{label:e},properties:{name:e,palette:self.palTable[e]}}))})}self.onReload?self.onReload(e):e()},this.getAxisKey=function(e){switch(e){case"X":return"xAxis";case"Y":return"yAxis";case"Z1":return"z1Axis";case"Z2":return"z2Axis";case"Z3":return"z3Axis"}},this.getCurve=getCurve;const EMPTY_ARRAY=[];function clearDefaultConfig(){self.defaultConfig={}}function updateDefaultConfig(){if(clearDefaultConfig(),self.selectionValueList.forEach(e=>{e.isUsed&&function e(t,n){if(n>=self.treeConfig.length)return;let l=getCurve(self.treeConfig[n],t);if(l){let e=wiApi.getFamily(l.idFamily);if(!e)return;switch(async function(e,t,n){let l=await wiApi.getListUnit({idFamily:t,idCurve:n});switch(l=l.map(e=>({data:{label:e.name},properties:{name:e.name}})),e){case"xAxis":self.xUnitList=l;break;case"yAxis":self.yUnitList=l;break;case"z1Axis":self.z1UnitList=l;break;case"z2Axis":self.z2UnitList=l;break;case"z3Axis":self.z3UnitList=l}}(t,e.idFamily,l.idCurve),t){case"xAxis":self.defaultConfig.xLabel=self.getSelectionValue("X").value,self.defaultConfig.left=e.family_spec[0].minScale,self.defaultConfig.right=e.family_spec[0].maxScale,self.defaultConfig.logaX="logarithmic"===e.family_spec[0].displayType.toLowerCase(),self.defaultConfig.xUnit=e.family_spec[0].unit,e.idFamily!=self.config.xIdFamily&&(self.config.xIdFamily=e.idFamily,delete self.config.xUnit,delete self.config.left,delete self.config.right,delete self.config.logaX);break;case"yAxis":self.defaultConfig.yLabel=self.getSelectionValue("Y").value,self.defaultConfig.top=e.family_spec[0].maxScale,self.defaultConfig.bottom=e.family_spec[0].minScale,self.defaultConfig.logaY="logarithmic"===e.family_spec[0].displayType.toLowerCase(),self.defaultConfig.yUnit=e.family_spec[0].unit,e.idFamily!=self.config.yIdFamily&&(self.config.yIdFamily=e.idFamily,delete self.config.yUnit,delete self.config.top,delete self.config.bottom,delete self.config.logaY);break;case"z1Axis":self.defaultConfig.z1Max=e.family_spec[0].maxScale||100,self.defaultConfig.z1Min=e.family_spec[0].minScale||0,self.defaultConfig.z1Unit=e.family_spec[0].unit,self.defaultConfig.z1N=5,e.idFamily!=self.config.z1IdFamily&&(self.config.z1IdFamily=e.idFamily,delete self.config.z1Unit,delete self.config.z1Max,delete self.config.z1Min,delete self.config.z1N);break;case"z2Axis":self.defaultConfig.z2Max=e.family_spec[0].maxScale||100,self.defaultConfig.z2Min=e.family_spec[0].minScale||0,self.defaultConfig.z2N=5,self.defaultConfig.z2Unit=e.family_spec[0].unit,e.idFamily!=self.config.z2IdFamily&&(self.config.z2IdFamily=e.idFamily,delete self.config.z2Unit,delete self.config.z2Max,delete self.config.z2Min,delete self.config.z2N);break;case"z3Axis":self.defaultConfig.z3Max=e.family_spec[0].maxScale||100,self.defaultConfig.z3Min=e.family_spec[0].minScale||0,self.defaultConfig.z3Unit=e.family_spec[0].unit,self.defaultConfig.z3N=5,e.idFamily!=self.config.z3IdFamily&&(self.config.z3IdFamily=e.idFamily,delete self.config.z3Unit,delete self.config.z3Max,delete self.config.z3Min,delete self.config.z3N)}}else e(t,n+1)}(self.getAxisKey(e.name),0)}),self.treeConfig.length){let e=self.treeConfig[0],t=self.getCurve(e,"xAxis"),n=self.getCurve(e,"yAxis");t&&n&&t.idCurve&&n.idCurve&&wiApi.getOverlayLinesPromise(t.idCurve,n.idCurve).then(e=>{$timeout(()=>{if(self.listOverlayLine=e,self.overlayLineSpec&&(self.overlayLineSpec.idOverlayLine||self.overlayLineSpec.name)){let e=self.listOverlayLine.find(e=>e.idOverlayLine===self.overlayLineSpec.idOverlayLine||self.overlayLineSpec.name===e.name);e?clickOvlFunction(null,e):self.overlayLineSpec=void 0}})}).catch(e=>{console.error(e)})}}function genZonationAllZS(e,t,n="blue"){return{name:"ZonationAll",zones:[{startDepth:e,endDepth:t,zone_template:{name:"ZonationAll",background:n}}]}}function filterData(e,t){return e.filter(e=>(t.startDepth-e.depth)*(t.endDepth-e.depth)<=0)}this.noChildren=function(e){return EMPTY_ARRAY},this.noLabel=function(){return""},this.getConfigLeft=function(){return self.config=self.config||{},isNaN(self.config.left)?"[empty]":wiApi.bestNumberFormat(self.config.left,3)},this.getConfigLimitTop=function(){return self.config=self.config||{},isNaN(self.config.limitTop)?"[empty]":wiApi.bestNumberFormat(self.config.limitTop,3)},this.getConfigLimitBottom=function(){return self.config=self.config||{},isNaN(self.config.limitBottom)?"[empty]":wiApi.bestNumberFormat(self.config.limitBottom,3)},this.setConfigLimitTop=function(e,t){self.config.limitTop=parseFloat(t)},this.setConfigLimitBottom=function(e,t){self.config.limitBottom=parseFloat(t)},this.setConfigLeft=function(e,t){self.config.left=parseFloat(t)},this.getConfigRight=function(){return self.config=self.config||{},isNaN(self.config.right)?"[empty]":wiApi.bestNumberFormat(self.config.right,3)},this.setConfigRight=function(e,t){self.config.right=parseFloat(t)},this.getConfigMajorX=function(){return self.config=self.config||{},isNaN(self.config.majorX)?"[empty]":self.config.majorX},this.setConfigMajorX=function(e,t){self.config.majorX=parseFloat(t)},this.getConfigMajorY=function(){return self.config=self.config||{},isNaN(self.config.majorY)?"[empty]":self.config.majorY},this.setConfigMajorY=function(e,t){self.config.majorY=parseFloat(t)},this.getConfigMinorX=function(){return self.config=self.config||{},isNaN(self.config.minorX)?"[empty]":self.config.minorX},this.setConfigMinorX=function(e,t){self.config.minorX=parseFloat(t)},this.getConfigMinorY=function(){return self.config=self.config||{},isNaN(self.config.minorY)?"[empty]":self.config.minorY},this.setConfigMinorY=function(e,t){self.config.minorY=parseFloat(t)},this.getConfigTop=function(){return self.config=self.config||{},isNaN(self.config.top)?"[empty]":wiApi.bestNumberFormat(self.config.top,3)},this.setConfigTop=function(e,t){self.config.top=parseFloat(t)},this.getConfigBottom=function(){return self.config=self.config||{},isNaN(self.config.bottom)?"[empty]":wiApi.bestNumberFormat(self.config.bottom,3)},this.setConfigBottom=function(e,t){self.config.bottom=parseFloat(t)},this.getConfigTitle=function(){return self.config=self.config||{},(self.config.title||"").length?self.config.title:"New Crossplot"},this.setConfigTitle=function(e,t){self.config.title=t},this.getConfigXLabel=function(){return self.config=self.config||{},(self.config.xLabel||"").length?self.config.xLabel:(self.getSelectionValue("X")||{}).value||"[Unknown]"},this.setConfigXLabel=function(e,t){self.config.xLabel=t},this.getConfigYLabel=function(){return self.config=self.config||{},(self.config.yLabel||"").length?self.config.yLabel:(self.getSelectionValue("Y")||{}).value||"[Unknown]"},this.setConfigYLabel=function(e,t){self.config.yLabel=t},this.getConfigZ1Label=function(){return self.config=self.config||{},(self.config.z1Label||"").length?self.config.z1Label:(self.getSelectionValue("Z1")||{}).value||"[Unknown]"},this.setConfigZ1Label=function(e,t){self.config.z1Label=t},this.getConfigZ2Label=function(){return self.config=self.config||{},(self.config.z2Label||"").length?self.config.z2Label:(self.getSelectionValue("Z2")||{}).value||"[Unknown]"},this.setConfigZ2Label=function(e,t){self.config.z2Label=t},this.getConfigZ3Label=function(){return self.config=self.config||{},(self.config.z3Label||"").length?self.config.z3Label:(self.getSelectionValue("Z3")||{}).value||"[Unknown]"},this.setConfigZ3Label=function(e,t){self.config.z3Label=t},this.setZ1Min=function(e,t){self.config.z1Min=parseFloat(t)},this.getConfigZ1Min=function(){return self.config=self.config||{},isNaN(self.config.z1Min)?"[empty]":wiApi.bestNumberFormat(self.config.z1Min,3)},this.setZ1Max=function(e,t){self.config.z1Max=parseFloat(t)},this.getConfigZ1Max=function(){return self.config=self.config||{},isNaN(self.config.z1Max)?"[empty]":wiApi.bestNumberFormat(self.config.z1Max,3)},this.setZ1N=function(e,t){self.config.z1N=parseFloat(t)},this.setZ2Min=function(e,t){self.config.z2Min=parseFloat(t)},this.getConfigZ2Min=function(){return self.config=self.config||{},isNaN(self.config.z2Min)?"[empty]":wiApi.bestNumberFormat(self.config.z2Min,3)},this.setZ2Max=function(e,t){self.config.z2Max=parseFloat(t)},this.getConfigZ2Max=function(){return self.config=self.config||{},isNaN(self.config.z2Max)?"[empty]":wiApi.bestNumberFormat(self.config.z2Max,3)},this.setZ2N=function(e,t){self.config.z2N=parseFloat(t)},this.setZ3Min=function(e,t){self.config.z3Min=parseFloat(t)},this.getConfigZ3Min=function(){return self.config=self.config||{},isNaN(self.config.z3Min)?"[empty]":wiApi.bestNumberFormat(self.config.z3Min,3)},this.setZ3Max=function(e,t){self.config.z3Max=parseFloat(t)},this.getConfigZ3Max=function(){return self.config=self.config||{},isNaN(self.config.z3Max)?"[empty]":wiApi.bestNumberFormat(self.config.z3Max,3)},this.setZ3N=function(e,t){self.config.z3N=parseFloat(t)},this.getZ1Min=()=>isNaN(self.config.z1Min)?isNaN(self.defaultConfig.z1Min)?"[empty]":self.defaultConfig.z1Min:self.config.z1Min,this.getZ1Max=()=>isNaN(self.config.z1Max)?isNaN(self.defaultConfig.z1Max)?"[empty]":self.defaultConfig.z1Max:self.config.z1Max,this.getZ1N=()=>isNaN(self.config.z1N)?isNaN(self.defaultConfig.z1N)?"[empty]":self.defaultConfig.z1N:self.config.z1N,this.getZ2Min=()=>isNaN(self.config.z2Min)?isNaN(self.defaultConfig.z2Min)?"[empty]":self.defaultConfig.z2Min:self.config.z2Min,this.getZ2Max=()=>isNaN(self.config.z2Max)?isNaN(self.defaultConfig.z2Max)?"[empty]":self.defaultConfig.z2Max:self.config.z2Max,this.getZ2N=()=>isNaN(self.config.z2N)?isNaN(self.defaultConfig.z2N)?"[empty]":self.defaultConfig.z2N:self.config.z2N,this.getZ3Min=()=>isNaN(self.config.z3Min)?isNaN(self.defaultConfig.z3Min)?"[empty]":self.defaultConfig.z3Min:self.config.z3Min,this.getZ3Max=()=>isNaN(self.config.z3Max)?isNaN(self.defaultConfig.z3Max)?"[empty]":self.defaultConfig.z3Max:self.config.z3Max,this.getZ3N=()=>isNaN(self.config.z3N)?isNaN(self.defaultConfig.z3N)?"[empty]":self.defaultConfig.z3N:self.config.z3N,this.getTop=()=>isNaN(self.config.top)?self.scaleTop||self.defaultConfig.top||0:self.config.top,this.getBottom=()=>isNaN(self.config.bottom)?self.scaleBottom||self.defaultConfig.bottom||0:self.config.bottom,this.getLeft=()=>isNaN(self.config.left)?self.scaleLeft||self.defaultConfig.left||0:self.config.left,this.getRight=function(){return isNaN(self.config.right)?self.scaleRight||self.defaultConfig.right||0:self.config.right},this.getMajorX=()=>isNaN(self.config.majorX)?self.defaultConfig.majorX||5:self.config.majorX,this.getMajorY=()=>isNaN(self.config.majorY)?self.defaultConfig.majorY||5:self.config.majorY,this.getMinorX=()=>isNaN(self.config.minorX)?self.defaultConfig.minorX||1:self.config.minorX,this.getMinorY=()=>isNaN(self.config.minorY)?self.defaultConfig.minorY||1:self.config.minorY,this.getLogaX=()=>null==self.config.logaX?self.logaX||self.defaultConfig.logaX||!1:self.config.logaX,this.getLogaY=()=>null==self.config.logaY?self.logaY||self.defaultConfig.logaY||!1:self.config.logaY,this.getColorMode=()=>self.config.colorMode||self.defaultConfig.colorMode||"zone",this.getColor=(e,t,n)=>{let l=self.getColorMode();switch(l){case"zone":return e.zone_template.background;case"index":if(!n)return e.zone_template.background;let i=self.palTable.RandomColor||self.palTable.HFU;return utils.palette2RGB(i[n%i.length],!1);default:return"well"===l?utils.getWellColor(t):"red"}},this.getFitX=()=>self.config.fitX||"NaN",this.setFitX=(e,t)=>{self.config.fitX=parseFloat(t)},this.getFitY=()=>self.config.fitY||"NaN",this.setFitY=(e,t)=>{self.config.fitY=parseFloat(t)},this.getPointSize=()=>self.pointSize,this.setPointSize=(e,t)=>{self.isSettingChange=!0,self.pointSize=parseFloat(t)},this.getPolynomialOrder=()=>self.config.polynomialOrder||2,this.setPolynomialOrder=(e,t)=>{self.isSettingChange=!0,self.config.polynomialOrder=parseFloat(t)},this.onXUnitChange=function(e){let t=self.config.xUnit;self.config.xUnit=(e||{}).name,self.config.left=wiApi.convertUnit(self.getLeft(),t,self.config.xUnit),self.config.left=parseFloat(wiApi.bestNumberFormat(self.config.left),4),self.config.right=wiApi.convertUnit(self.getRight(),t,self.config.xUnit),self.config.right=parseFloat(wiApi.bestNumberFormat(self.config.right),4)},this.onYUnitChange=function(e){let t=self.config.yUnit;self.config.yUnit=(e||{}).name,self.config.top=wiApi.convertUnit(self.getTop(),t,self.config.yUnit),self.config.top=parseFloat(wiApi.bestNumberFormat(self.config.top),4),self.config.bottom=wiApi.convertUnit(self.getBottom(),t,self.config.yUnit),self.config.bottom=parseFloat(wiApi.bestNumberFormat(self.config.bottom),4)},this.onZ1UnitChange=function(e){let t=self.config.z1Unit;self.config.z1Unit=(e||{}).name,self.config.z1Min=wiApi.convertUnit(self.getZ1Min(),t,self.config.z1Unit),self.config.z1Min=parseFloat(wiApi.bestNumberFormat(self.config.z1Min),4),self.config.z1Max=wiApi.convertUnit(self.getZ1Max(),t,self.config.z1Unit),self.config.z1Max=parseFloat(wiApi.bestNumberFormat(self.config.z1Max),4)},this.onZ2UnitChange=function(e){let t=self.config.z2Unit;self.config.z2Unit=(e||{}).name,self.config.z2Min=wiApi.convertUnit(self.getZ2Min(),t,self.config.z2Unit),self.config.z2Min=parseFloat(wiApi.bestNumberFormat(self.config.z2Min),4),self.config.z2Max=wiApi.convertUnit(self.getZ2Max(),t,self.config.z2Unit),self.config.z2Max=parseFloat(wiApi.bestNumberFormat(self.config.z2Max),4)},this.onZ3UnitChange=function(e){let t=self.config.z3Unit;self.config.z3Unit=(e||{}).name,self.config.z3Min=wiApi.convertUnit(self.getZ3Min(),t,self.config.z3Unit),self.config.z3Min=parseFloat(wiApi.bestNumberFormat(self.config.z3Min),4),self.config.z3Max=wiApi.convertUnit(self.getZ3Max(),t,self.config.z3Unit),self.config.z3Max=parseFloat(wiApi.bestNumberFormat(self.config.z3Max),4)},this.saveToAsset=function(e){let t={wellSpec:self.wellSpec,zonesetName:self.zonesetName,selectionType:self.selectionType,selectionValueList:self.selectionValueList,polygons:self.polygons,polygonExclude:self.polygonExclude,regressionType:self.regressionType,config:self.config,pointSize:self.pointSize,udlsAssetId:self.udlsAssetId,pickettSets:self.pickettSets,swParamList:self.swParamList,showTooltip:self.showTooltip};self.overlayLineSpec&&(t.overlayLine={idOverlayLine:self.overlayLineSpec.idOverlayLine,name:self.overlayLineSpec.name}),self.idCrossplot?(wiLoading.show($element.find(".main")[0],self.silent),t.idParameterSet=self.idParameterSet,wiApi.editAssetPromise(self.idCrossplot,t).then(t=>{wiLoading.hide(),__toastr&&__toastr.success("Successfully saved Crossplot "+t.name),e&&e(),self.afterNewPlotCreated&&self.afterNewPlotCreated(t)}).catch(e=>{wiLoading.hide()})):wiDialog.promptDialog({title:"New Crossplot",inputName:"Crossplot Name",input:self.getConfigTitle()},(function(n){wiLoading.show($element.find(".main")[0],self.silent),wiApi.newAssetPromise(self.idProject,n,"CROSSPLOT",t).then(t=>{self.idCrossplot=t.idParameterSet,wiLoading.hide(),e&&e(),self.onSave&&self.onSave(t),__toastr&&__toastr.success("Successfully saved Crossplot "+n),self.afterNewPlotCreated&&self.afterNewPlotCreated(t)}).catch(e=>{wiLoading.hide();let t=`Asset ${n} has been existed`;__toastr&&__toastr.error(t),self.saveToAsset()})}))},this.saveAs=function(){wiDialog.promptDialog({title:"Save As Crossplot",inputName:"Crossplot Name",input:""},(function(e){let t={wellSpec:self.wellSpec,zonesetName:self.zonesetName,selectionType:self.selectionType,selectionValueList:self.selectionValueList,polygons:self.polygons,polygonExclude:self.polygonExclude,regressionType:self.regressionType,config:self.config,pointSize:self.pointSize,udlsAssetId:self.udlsAssetId,pickettSets:self.pickettSets,swParamList:self.swParamList,showTooltip:self.showTooltip};self.overlayLineSpec&&(t.overlayLine={idOverlayLine:self.overlayLineSpec.idOverlayLine,name:self.overlayLineSpec.name}),wiApi.newAssetPromise(self.idProject,e,"CROSSPLOT",t).then(t=>{self.onSaveAs&&self.onSaveAs(t),__toastr&&__toastr.success("Successfully saved Crossplot "+e),self.afterNewPlotCreated&&self.afterNewPlotCreated(t)}).catch(t=>{let n=`Asset ${e} has been existed`;__toastr&&__toastr.error(n),self.saveAs()})}))};let _zoneNames=[];self.getZoneNames=function(){return _zoneNames.length=0,Object.assign(_zoneNames,self.layers.map(e=>e.name)),_zoneNames},this.isLayerUsed=function(e){return!self.layers[e]._notUsed};let _headers=[];function getZoneset(e,t=""){let n=e.zone_sets;return""===t||"ZonationAll"===t?null:n.find(e=>e.name===t)}function getWellSpec(e){return e?self.wellSpec.find(t=>t.idWell===e.idWell&&e._idx===t._idx):{}}function clickOvlFunction(e,t){let n=t._used;if(self.listOverlayLine.forEach(e=>{e._used=!1}),n)self.overlayLineSpec=void 0;else{t._used=!0;let e=self.wellSpec[0].xAxis.idCurve,n=self.wellSpec[0].yAxis.idCurve;wiApi.getOverlayLinePromise(t.idOverlayLine,e,n).then(e=>{$timeout(()=>{self.addLog("success","Change Overlayline");let t=e.data.isSwap;self.overlayLineSpec=e.data,self.overlayLineSpec.idOverlayLine=e.idOverlayLine,self.overlayLineSpec.name=e.name,t&&reverseOverlayLine()})}).catch(e=>{console.error(e)})}}function normalizeFormation(e){return e.replace(/\+-/g,"-").replace(/--/g,"+")}function setUDLFn(udl){udl.fn=function(x){return eval(this.text)}.bind(udl)}function setParamForPickettLine(e,t,n){self.allPickettLines.filter(t=>t.pickettSetIdx==e).forEach(e=>{e[t]=n})}async function getCurveData(e,t){let n=await wiApi.getCachedCurveDataPromise(e.idCurve);return n.name&&"Error"==n.name?(wiLoading.hide(),__toastr&&__toastr.error(`Can not get data of ${e.name}-${t.name} or it is empty`),void console.error(new Error(`Can not get data of ${e.name}-${t.name} or it is empty`))):n}function convertUnitData(e,t,n){return t&&n&&t!=n&&(e=e.map(e=>wiApi.convertUnit(e,t,n))),e}function isParamGroupsIncludeZone(e,t){return self.paramGroups.some((n,l)=>{let i=n.properties;return e.zone_template.name===i.zone_template.name.replace("All","ZonationAll")&&t===(i.__depthIndex||0)})}function getPointSet(e,t,n,l,i){let s=[];return e.forEach(e=>{e.depth;if(!e.x)return;let o,a,r,f=wiApi.binarySearch(t,(function(t){return parseFloat(e.depth.toFixed(4)-t.depth.toFixed(4))}),0,t.length-1);f&&f.x&&(!n||(o=wiApi.binarySearch(n,(function(t){return(e.depth-t.depth).parseFloat(4)}),0,n.length-1),o&&o.x))&&(!l||(a=wiApi.binarySearch(l,(function(t){return(e.depth-t.depth).parseFloat(4)}),0,l.length-1),a&&a.x))&&(!i||(r=wiApi.binarySearch(i,(function(t){return(e.depth-t.depth).parseFloat(4)}),0,i.length-1),r&&r.x))&&s.push({x:e.x,y:f.x,z1:o?o.x:void 0,z2:a?a.x:void 0,z3:r?r.x:void 0,depth:e.depth})}),s}function getTransformZ1(){let e=[self.getZ1Min(),self.getZ1Max()],t=e[0]>e[1];return d3.scaleQuantize().domain(sort(e)).range(t?clone(self.zColors).reverse():self.zColors)}function getTransformZ2(){let e=[self.getZ2Min(),self.getZ2Max()],t=e[0]>e[1];return d3.scaleQuantize().domain(sort(e)).range(t?clone(self.zSizes).reverse():self.zSizes)}function getTransformZ3(){let e=[self.getZ3Min(),self.getZ3Max()],t=e[0]>e[1];return d3.scaleQuantize().domain(sort(e)).range(t?clone(self.zSymbols).reverse():self.zSymbols)}function zColorsFn(e,t){if(!t)return[];if(e<=0)return[];let n=[];if(self.palProps&&self.palProps.palette)for(let t=0;t<e;t++)n.push(utils.palette2RGB(self.palProps.palette[t%self.palProps.palette.length],!1));else{if(1==e)return["rgb(255, 0, 0)"];let t=Math.round(e/3),l=points(e),i=angular.copy(l).rotate(t),s=angular.copy(i).rotate(t);for(let t=0;t<e;t++)n.push("rgb("+l[t]+","+i[t]+","+s[t]+")")}return n}function zSizesFn(e,t){if(!t)return[];if(e<=0)return[];const n=self.getPointSize();let l=[];for(let t=0;t<e;t++)l.push(n+2*t);return l}function zSymbolsFn(e,t){if(!t)return[];if(e<=0)return[];let n=[];for(let t=0;t<e;t++)n.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[t]);return n}function points(e){let t=[],n=255/(e-1);for(let l=0;l<e;l++)t.push(0+l*n);return t}function sort(e){return e.sort((function(e,t){return e-t}))}function clone(e){return JSON.parse(JSON.stringify(e))}self.getHeaders=function(){return _headers.length=0,Object.assign(_headers,self.statisticHeaders.filter((e,t)=>self.statisticHeaderMasks[t])),_headers},this.hideSelectedZone=function(){self.selectedZones&&(self.selectedZones.forEach(e=>{e._notUsed=!0}),$timeout(()=>{self.onUseZoneChange(self.selectedZones)}))},this.showSelectedZone=function(){self.selectedZones&&(self.selectedZones.forEach(e=>{e._notUsed=!1}),$timeout(()=>{self.onUseZoneChange(self.selectedZones)}))},this.hideAllZone=function(){self.zoneTreeUniq.forEach(e=>{e._notUsed=!0}),$timeout(()=>{self.layers.length=0})},this.showAllZone=function(){self.zoneTreeUniq.forEach(e=>{e._notUsed=!1}),$timeout(()=>{self.isSettingChange=!0,self.genLayers()})},self._hiddenZone=[],this.getHiddenZone=function(){return self._hiddenZone},this.getZoneIcon=e=>e&&!e._notUsed?"zone-16x16":"fa fa-eye-slash",this._notUsedLayer=[],this.click2ToggleZone=function(e,t,n){self.isSettingChange=!0,t._notUsed=!t._notUsed,self.selectedZones=Object.values(n).map(e=>e.data)},this.onUseZoneChange=e=>{switch(self.getColorMode()){case"zone":e.forEach(e=>{if(e._notUsed){self.layers.filter(t=>t.zone==""+e.name).forEach(e=>{self._notUsedLayer.push(e),self.layers.splice(self.layers.indexOf(e),1)})}else{let t=self._notUsedLayer.filter(t=>t.zone==""+e.name);self.layers=self.layers.concat(t),self._notUsedLayer=self._notUsedLayer.filter(t=>t.zone!=""+e.name)}});break;case"well":self.genLayers()}},this.onZonesetSelectionChanged=function(e,t=!0){self.isSettingChange=!0,wiApi.indexZonesForCorrelation((e||{}).zones),self.zoneTree=(e||{}).zones,self.zoneTreeUniq=_.uniqBy(self.zoneTree.map(e=>({name:e.zone_template.name})),e=>e.name),self.zonesetName=(e||{}).name||"ZonationAll",t&&self.addLog("success","Change zoneset")},this.runZoneMatch=function(e,t){let n=t.toLowerCase();return e.name.toLowerCase().includes(n)},this.getZoneLabel=function(e){return e?""+e.name:"aaa"},this.getParamGroupLabel=e=>e.properties.zone_template.name||"N/A",this.getParamGroupIcon=e=>e&&!e._notShow?"parameter-management-16x16":"fa fa-eye-slash",this.runParamGroupMatch=(e,t)=>{let n=t.toLowerCase();return self.getParamGroupLabel(e).toLowerCase().includes(n)},this.click2ToggleParamGroup=function(e,t,n){t._notShow=!t._notShow,self.selectedParamGroup=Object.values(n).map(e=>e.data)},this.showAllParamGroup=function(){self.paramGroups.forEach(e=>{e._notShow=!1})},this.hideAllParamGroup=function(){self.paramGroups.forEach(e=>{e._notShow=!0})},this.showSelectedParamGroup=function(){self.selectedParamGroup&&self.selectedParamGroup.length&&self.selectedParamGroup.forEach(e=>{e._notShow=!1})},this.hideSelectedParamGroup=function(){self.selectedParamGroup&&self.selectedParamGroup.length&&self.selectedParamGroup.forEach(e=>{e._notShow=!0})},this.getWellSpec=getWellSpec,this.onDrop=function(e,t,n){let l=t.data("idWells");l&&l.length&&$timeout(()=>{async.eachSeries(l,(e,t)=>{wiApi.getCachedWellPromise(e).then(n=>{let l=n.zone_sets,i="ZonationAll"==self.zonesetName||l.some(e=>e.name==self.zonesetName);$timeout(()=>{if(i){let t=_.max(self.wellSpec.filter(t=>t.idWell===e).map(e=>e._idx));t=(t>=0?t:-1)+1,self.wellSpec.push({idWell:e,_idx:t}),self.addLog("success","Add well "+n.name);getTree(self.wellSpec[self.wellSpec.length-1]);let l=getCurve({...n,_idx:t},"xAxis"),i=getCurve({...n,_idx:t},"yAxis");if(self.getSelectionValue("X").value&&!l||self.getSelectionValue("Y").value&&!i){let e=`Well ${n.name} does not meet requirement`;__toastr&&__toastr.warning(e),console.warn(e)}}else{let e=`Well ${n.name} does not meet input Zone ${self.zonesetName}`;__toastr&&__toastr.error(e),console.error(new Error(e))}t()})}).catch(e=>{console.error(e),t()})},e=>{e&&console.error(e)})})},this.getOvlLabel=function(e){return e.name},this.getOvlIcon=function(e){return e&&!e._used?"fa fa-eye-slash":"blue-color fa fa-eye"},this.getOvlChildren=function(e){return[]},this.runOvlMatch=function(e,t){return e.name.toLowerCase().includes(t.toLowerCase())},this.clickOvlFunction=clickOvlFunction,this.toggleWell=function(e){self.isSettingChange=!0,e._notUsed=!e._notUsed,self.layers.filter(t=>t.well===`${e.name}:${e._idx}`).forEach(t=>{t._notUsed=e._notUsed})},this.removeWell=function(e){let t=self.wellSpec.findIndex(t=>t.idWell===e.idWell&&t._idx===e._idx);if(t>=0){self.wellSpec.splice(t,1),self.addLog("success","Delete well "+e.name);let n=self.treeConfig.findIndex(t=>t.idWell===e.idWell&&t._idx===e._idx);self.treeConfig.splice(n,1)}},this.getFilterForWell=e=>{switch(e){case"xAxis":return self.getSelectionValue("X").value;case"yAxis":return self.getSelectionValue("Y").value;case"z1Axis":return self.getSelectionValue("Z1").value;case"z2Axis":return self.getSelectionValue("Z2").value;case"z3Axis":return self.getSelectionValue("Z3").value}},this.runWellMatch=function(e,t){let n;if(!t)return!0;switch(self.selectionType){case"family-group":return n=wiApi.getFamily(e.idFamily),n?n.familyGroup.trim().toLowerCase()===t.trim().toLowerCase():null;case"family":return n=wiApi.getFamily(e.idFamily),n?n.name.trim().toLowerCase()===t.trim().toLowerCase():null;case"curve":return e.name.trim().toLowerCase()===t.trim().toLowerCase()}},this.currentPolygon={},this.addPolygon=function(){if(self.polygons.length>=_POLYGON_LIMIT){let e="Too many polygons";return __toastr&&__toastr.error(e),void console.error(new Error(e))}self.isSettingChange=!0;let e={label:"New polygon",mode:"edit",_notUsed:!1,_notShow:!1,exclude:!0,points:[]};e.lineStyle={fillStyle:colorGenerator(null,!0),strokeStyle:"",strokeWidth:"2"},e.contentStyle={flex:1,float:"none","text-align":"left",color:e.lineStyle.fillStyle.replace(/\d+\.?\d*\s*\)$/g,"1)")},Object.assign(self.currentPolygon,e),self.polygons.forEach(e=>{e.mode=null}),self.polygons.push(e),self.addLog("success","Change Polygon")},this.removePolygon=e=>{self.polygons.splice(e,1),self.addLog("success","Change Polygon")},this.filterByPolygons=function(e,t,n){let l=e.map((function(e){return e.points.map((function(e){return[e.x,e.y]}))}));if(n)return t.filter((function(e){let t=!n;for(let n of l)if(d3.polygonContains(n,e))return t;return!t}));{let e=[];for(let n of t)for(let t of l)d3.polygonContains(t,n)&&e.push(n);return e}},this.setPolygonLabel=function(e,t){self.polygons[e].label=t,self.polygons[e].lineStyle.fillStyle=colorGenerator(t,!0),self.polygons[e].contentStyle.color=self.polygons[e].lineStyle.fillStyle.replace(/\d+\.?\d*\s*\)$/g,"1)")},this.polygonContentStyle=e=>e.contentStyle,this.polygonFillStyle=e=>e.lineStyle.fillStyle,this.polygonStrokeStyle=e=>e.lineStyle.strokeStyle,this.polygonStrokeWidth=e=>e.lineStyle.strokeWidth,this.toggleEditPolygon=function(e){let t=self.polygons.indexOf(e);self.polygons.forEach((e,n)=>{n!=t&&(e.mode=null)}),"edit"==e.mode?e.mode=null:(e._notShow=!1,e.mode="edit")},this.addUDL=function(){if(!self.wellSpec||!self.wellSpec.length)return;let e={text:""};setUDLFn(e),e.latex=normalizeFormation(e.text),e.lineStyle={lineColor:colorGenerator(),lineWidth:1,lineStyle:[10,0]},e.index=self.udls.length,e.displayEquation=!0,self.udls.find(t=>t.text===e.text)||self.udls.push(e)},this.getRwParam=function(e){return self.getPickettSetRw(self.pickettSets[e],e)},this.setRwParam=function(e,t){self.setPickettSetRw(self.pickettSets[e],e,t),setParamForPickettLine(e,"rw",t)},this.getAParam=function(e){return self.getPickettSetA(self.pickettSets[e],e)},this.setAParam=function(e,t){self.setPickettSetA(self.pickettSets[e],e,t),setParamForPickettLine(e,"a",t)},this.getMParam=function(e){return self.getPickettSetM(self.pickettSets[e],e)},this.setMParam=function(e,t){self.setPickettSetM(self.pickettSets[e],e,t),setParamForPickettLine(e,"m",t)},this.getNParam=function(e){return self.getPickettSetN(self.pickettSets[e],e)},this.setNParam=function(e,t){self.setPickettSetN(self.pickettSets[e],e,t),setParamForPickettLine(e,"n",t)},this.getSwParam=function(e){return self.swParamList[e].sw||"[empty]"},this.setSwParam=function(e,t){self.swParamList[e].sw=parseFloat(t),self.allPickettLines.filter(t=>t.swParamIdx==e).forEach(e=>{e.sw=parseFloat(t),e.label=`${self.pickettSets[e.pickettSetIdx].name}, Sw = ${t}`})},this.pickettSetName=function(e){return self.getPickettSetName(self.pickettSets[e],e)},this.changePickettSetName=function(e,t){self.setPickettSetName(self.pickettSets[e],e,t),self.allPickettLines.filter(t=>t.pickettSetIdx==e).forEach(e=>{e.label=`${t}, Sw = ${e.sw}`})},this.toggleShowPickettSet=function(e){self.pickettSets[e]._notHidden=!self.pickettSets[e]._notHidden,self.pickettSets.forEach((t,n)=>{n!=e&&(t._notHidden=!1)})},this.getFnUDL=function(e){return(self.udls[e].text||"").length?self.udls[e].text:"[empty]"},this.setFnUDL=function(e,t){if(self.udls.find((n,l)=>n.text==t&&l!=e)){let e=`User Defined Line 'y = ${t}' has been existed`;__toastr&&__toastr.error(e)}else self.udls[e].text=t,self.udls[e].latex=normalizeFormation("y = "+t),setUDLFn(self.udls[e])},this.getLineStyleUDL=function(e){return(self.udls[e].text||"").length?self.udls[e].text:"[empty]"},this.setLineStyleUDL=function(e,t){self.udls[e].text=t},this.getLineWidthUDL=function(e){return(self.udls[e].text||"").length?self.udls[e].text:"[empty]"},this.setLineWidthUDL=function(e,t){self.udls[e].text=t},this.getLineColorUDL=function(e){return(self.udls[e].text||"").length?self.udls[e].text:"[empty]"},this.setLineColorUDL=function(e,t){self.udls[e].text=t},this.removeUDL=e=>{self.udls.splice(e,1)},this.layers=[],this.genLayers=async function(){if(!self.isSettingChange)return;if(!self.getSelectionValue("X").value||!self.getSelectionValue("Y").value)return;if(!self.getConfigXLabel()||!self.getConfigYLabel())return;self.isSettingChange=!1,self.layers=self.layers||[];let e=[],t=[],n=self.getSelectionValue("Z1").isUsed,l=self.getSelectionValue("Z2").isUsed,i=self.getSelectionValue("Z3").isUsed;wiLoading.show($element.find(".main")[0],self.silent);for(let s=0;s<self.treeConfig.length;s++){let o=self.treeConfig[s];if(o._notUsed)continue;let a=self.getCurve(o,"xAxis"),r=self.getCurve(o,"yAxis"),f=n?self.getCurve(o,"z1Axis"):null,c=l?self.getCurve(o,"z2Axis"):null,d=i?self.getCurve(o,"z3Axis"):null;if(!a||!r)continue;let p=self.wellSpec[s].xAxis.datasetTop,g=self.wellSpec[s].xAxis.datasetBottom,u=self.wellSpec[s].xAxis.datasetStep,m=o.datasets.find(e=>e.idDataset===self.wellSpec[s].xAxis.idDataset),x=self.wellSpec[s].yAxis.datasetTop,h=self.wellSpec[s].yAxis.datasetBottom,b=self.wellSpec[s].yAxis.datasetStep,y=o.datasets.find(e=>e.idDataset===self.wellSpec[s].yAxis.idDataset),v=getZoneset(o,self.zonesetName);v=v||genZonationAllZS(d3.max([p,x]),d3.min([g,h]),utils.getWellColor(o));let w=await getCurveData(a,o);if(!w)return;if(self.hasDiscriminator(o)){let e=await wiApi.evalDiscriminatorPromise(m,self.wellSpec[s].discriminator);w=w.filter((t,n)=>e[n])}let k,S,L,C,P,M,A=await getCurveData(r,o);if(!A)return;if(self.hasDiscriminator(o)){let e=await wiApi.evalDiscriminatorPromise(y,self.wellSpec[s].discriminator);A=A.filter((t,n)=>e[n])}if(n&&f){if(C=o.datasets.find(e=>e.idDataset===self.wellSpec[s].z1Axis.idDataset),self.zColors=zColorsFn(self.getZ1N(),f.idCurve),k=await getCurveData(f,o),!k)return;if(self.hasDiscriminator(o)){let e=await wiApi.evalDiscriminatorPromise(C,self.wellSpec[s].discriminator);k=k.filter((t,n)=>e[n])}let e=self.wellSpec[s].z1Axis.datasetTop,t=(self.wellSpec[s].z1Axis.datasetBottom,self.wellSpec[s].z1Axis.datasetStep);k=k.map(n=>({...n,depth:t>0?e+n.y*t:n.y}))}if(l&&c){if(P=o.datasets.find(e=>e.idDataset===self.wellSpec[s].z2Axis.idDataset),self.zSizes=zSizesFn(self.getZ2N(),c.idCurve),S=await getCurveData(c,o),!S)return;if(self.hasDiscriminator(o)){let e=await wiApi.evalDiscriminatorPromise(P,self.wellSpec[s].discriminator);S=S.filter((t,n)=>e[n])}let e=self.wellSpec[s].z2Axis.datasetTop,t=(self.wellSpec[s].z2Axis.datasetBottom,self.wellSpec[s].z2Axis.datasetStep);S=S.map(n=>({...n,depth:t>0?e+n.y*t:n.y}))}if(i&&d){if(M=o.datasets.find(e=>e.idDataset===self.wellSpec[s].z3Axis.idDataset),self.zSymbols=zSymbolsFn(self.getZ3N(),d.idCurve),L=await getCurveData(d,o),!L)return;if(self.hasDiscriminator(o)){let e=await wiApi.evalDiscriminatorPromise(M,self.wellSpec[s].discriminator);L=L.filter((t,n)=>e[n])}let e=self.wellSpec[s].z3Axis.datasetTop,t=(self.wellSpec[s].z3Axis.datasetBottom,self.wellSpec[s].z3Axis.datasetStep);L=L.map(n=>({...n,depth:t>0?e+n.y*t:n.y}))}w=w.map(e=>({...e,depth:u>0?p+e.y*u:e.y})),A=A.map(e=>({...e,depth:b>0?x+e.y*b:e.y}));let N=getPointSet(w,A,k,S,L);N=N.filter(e=>_.isFinite(e.x)&&_.isFinite(e.y)&&(!n||_.isFinite(e.z1))&&(!l||_.isFinite(e.z2))&&(!i||_.isFinite(e.z3)));let z=v.zones.filter(e=>{let t=self.zoneTreeUniq.find(t=>t.name===e.zone_template.name);return e._notUsed=t._notUsed,!0}).sort((e,t)=>e.startDepth-t.startDepth),U=0;if("zone"==self.getColorMode()||"index"===self.getColorMode())for(let p=0;p<z.length;p++){let g=z[p];if(self.paramGroups&&self.paramGroups.length&&!isParamGroupsIncludeZone(g,p))continue;let u=filterData(N,g),x={dataX:convertUnitData(u.map(e=>e.x),a.unit,self.config.xUnit||self.defaultConfig.xUnit),dataY:convertUnitData(u.map(e=>e.y),r.unit,self.config.yUnit||self.defaultConfig.yUnit),dataZ1:convertUnitData(u.map(e=>e.z1),(f||{}).unit,self.config.z1Unit||self.defaultConfig.z1Unit),dataZ2:convertUnitData(u.map(e=>e.z2),(c||{}).unit,self.config.z2Unit||self.defaultConfig.z2Unit),dataZ3:convertUnitData(u.map(e=>e.z3),(d||{}).unit,self.config.z3Unit||self.defaultConfig.z3Unit),regColor:self.getColor(g,o,U),layerColor:self.getColor(g,o,U),name:`${o.name}.${g.zone_template.name}(${p})`,well:`${o.name}:${o._idx}`,zone:""+g.zone_template.name,curveXInfo:`${m.name}.${a.name}`,curveYInfo:`${y.name}.${r.name}`,curveZ1Info:n?`${C.name}.${f.name}`:"N/A",curveZ2Info:l?`${P.name}.${c.name}`:"N/A",curveZ3Info:i?`${M.name}.${d.name}`:"N/A",numPoints:u.length,mse:self.calcMSE(u.map(e=>e.x),u.map(e=>e.y)).toFixed(3),conditionExpr:self.wellSpec[s].discriminator&&self.wellSpec[s].discriminator.active?self.wellSpec[s].discriminator.conditionExpr:void 0,correlation:self.calcCorrelation(u.map(e=>e.x),u.map(e=>e.y))};x.color=f&&n?function(e,t){return getTransformZ1()(this.dataZ1[t])}.bind(x):self.getColor(g,o,U),x.size=function(e,t){return c&&l?getTransformZ2()(this.dataZ2[t]):self.pointSize}.bind(x),x.textSymbol=d&&i?function(e,t){return getTransformZ3()(this.dataZ3[t])}.bind(x):null,U++,$timeout(()=>{g._notUsed?t.push(x):e.push(x)})}else{let t={dataX:[],dataY:[],dataZ1:[],dataZ2:[],dataZ3:[],regColor:getWellSpec(o),layerColor:utils.getWellColor(o),name:""+o.name,well:`${o.name}:${o._idx}`,conditionExpr:self.wellSpec[s].discriminator&&self.wellSpec[s].discriminator.active?self.wellSpec[s].discriminator.conditionExpr:void 0,curveXInfo:`${m.name}.${a.name}`,curveYInfo:`${y.name}.${r.name}`,curveZ1Info:n?`${C.name}.${f.name}`:"N/A",curveZ2Info:l?`${P.name}.${c.name}`:"N/A",curveZ3Info:i?`${M.name}.${d.name}`:"N/A"};for(let e=0;e<z.length;e++){let n=z[e];if(self.paramGroups&&self.paramGroups.length&&!isParamGroupsIncludeZone(n,e))continue;if(n._notUsed)continue;let l=filterData(N,n);t.dataX=t.dataX.concat(convertUnitData(l.map(e=>e.x),a.unit,self.config.xUnit||self.defaultConfig.xUnit)),t.dataY=t.dataY.concat(convertUnitData(l.map(e=>e.y),r.unit,self.config.yUnit||self.defaultConfig.yUnit)),t.dataZ1=t.dataZ1.concat(convertUnitData(l.map(e=>e.z1),(f||{}).unit,self.config.z1Unit||self.defaultConfig.z1Unit)),t.dataZ2=t.dataZ2.concat(convertUnitData(l.map(e=>e.z2),(c||{}).unit,self.config.z2Unit||self.defaultConfig.z2Unit)),t.dataZ3=t.dataZ3.concat(convertUnitData(l.map(e=>e.z3),(d||{}).unit,self.config.z3Unit||self.defaultConfig.z3Unit))}t.color=f&&n?function(e,t){return getTransformZ1()(this.dataZ1[t])}.bind(t):self.getColor(null,o),t.size=function(e,t){return c&&l?getTransformZ2()(this.dataZ2[t]):self.pointSize}.bind(t),t.textSymbol=d&&i?function(e,t){return getTransformZ3()(this.dataZ3[t])}.bind(t):null,t.numPoints=t.dataX.length,t.correlation=self.calcCorrelation(t.dataX,t.dataY),t.mse=self.calcMSE(t.dataX,t.dataY).toFixed(3),$timeout(()=>{e.push(t)})}}conditionForPickettPlot()&&(self.updateAllPickettLines(),updatePickettAdjusterArray()),self.layers=e,self._notUsedLayer=t,wiLoading.hide()},Array.prototype.rotate||Object.defineProperty(Array.prototype,"rotate",{enumerable:!1,value:function(e){var t=Array.prototype.push,n=Array.prototype.splice,l=this.length>>>0;return e=((e>>=0)%l+l)%l,t.apply(this,n.call(this,0,e)),this}}),this.hideSelectedRegression=function(){self.selectedRegression&&(self.selectedRegression.forEach(e=>e._useReg=!1),self.updateRegressionLine(self.regressionType,self.polygons))},this.showSelectedRegression=function(){self.selectedRegression&&(self.selectedRegression.forEach(e=>e._useReg=!0),self.updateRegressionLine(self.regressionType,self.polygons))},this.hideAllRegression=function(){self.layers.forEach(e=>e._useReg=!1),self.updateRegressionLine(self.regressionType,self.polygons),$timeout(()=>{})},this.showAllRegression=function(){self.layers.forEach(e=>e._useReg=!0),self.updateRegressionLine(self.regressionType,self.polygons),$timeout(()=>{})},this.hideSelectedLayer=function(){self.selectedLayers&&self.selectedLayers.forEach(e=>{e._notUsed=!0,toggleParamGroup(e)})},this.showSelectedLayer=function(){self.selectedLayers&&(self.selectedLayers.forEach(e=>{e._notUsed=!1,toggleParamGroup(e)}),$timeout(()=>{}))},this.hideAllLayer=function(){self.layers.forEach(e=>{e._notUsed=!0,toggleParamGroup(e)}),$timeout(()=>{})},this.showAllLayer=function(){self.layers.forEach(e=>{e._notUsed=!1,toggleParamGroup(e)}),$timeout(()=>{})},this.getFilterForLayer=()=>{if(!self.zoneTree||!self.zoneTree.length)return"";return self.zoneTree.map(e=>""+e._notUsed).join("")},this.runLayerMatch=function(e,t){let n=t.toLowerCase();return e.name.toLowerCase().includes(n)};let _layerTree=[];function toggleParamGroup(e){if(self.paramGroups&&self.paramGroups.length)for(let t=0;t<self.paramGroups.length;t++){let n=self.paramGroups[t],l=n.properties;if(e.name.includes(`${l.zone_template.name.replace("All","ZonationAll")}(${l.__depthIndex||0})`)){n._notShow=e._notUsed;break}}}function reverseOverlayLine(){self.overlayLineSpec&&self.overlayLineSpec.lines.forEach(e=>{e.data.forEach(e=>{[e.x,e.y]=[e.y,e.x]})})}function swapPropObj(e,t,n){[e[t],e[n]]=[e[n],e[t]]}function colorGenerator(e,t){if(!e||!e.length){let e=t?.5:1,n=function(){return Math.floor(255*Math.random())};return"rgb("+n()+","+n()+","+n()+","+e+")"}let n=Math.abs(string2Int(e)),l=getColorPalette();if(l)return utils.palette2RGB(l[n%l.length],t)}function string2Int(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}function getColorPalette(){return wiApi.getPalette("BGR")}function updateAllPickettLines(){let e=[];self.pickettSets.length&&(self.allPickettLines.length=0,self.swParamList.forEach((t,n)=>{self.pickettSets.forEach((l,i)=>{if(!l._used)return;let s={rw:self.getPickettSetRw(l,i),m:self.getPickettSetM(l,i),n:self.getPickettSetN(l,i),a:self.getPickettSetA(l,i),sw:t.sw,swParamIdx:n,pickettSetIdx:i,label:`${self.getPickettSetName(l,i)}, Sw = ${t.sw}`,style:{fill:l.color},family:"pickett",_used:l._used,isSwap:self.isSwapAxisPickett};e.push(s)})}),$timeout(()=>{self.allPickettLines=e,self.updatePickettAdjusterArrayDebounce()}))}function updatePickettAdjusterArray(){self.showAdjuster&&self.pickettSets.forEach((e,t)=>{if(!e._used)return;let n=initPickettControlPoints(e);n&&(self.pickettAdjusterArray.length=0,self.pickettAdjusterArray.push(n))})}function conditionForPickettPlot(){let e,t;if(self.treeConfig.length){let n=self.getCurve(self.treeConfig[0],"xAxis"),l=self.getCurve(self.treeConfig[0],"yAxis");if(!n||!l)return!1;let i=wiApi.getFamily(n.idFamily),s=wiApi.getFamily(l.idFamily);if(!i||!s)return!1;e=i.familyGroup,t=s.familyGroup}else e=void 0;return self.isSwapAxisPickett=!0,"Porosity"!=e&&"Void Fraction"!=e||"Resistivity"!=t||(self.isSwapAxisPickett=!1),self.getLogaX()&&self.getLogaY()&&(("Porosity"==e||"Void Fraction"==e)&&"Resistivity"==t||"Resistivity"==e&&("Porosity"==t||"Void Fraction"==t))}function initUDL(){wiApi.listAssetsPromise(self.idProject,"FormulaArray").then(e=>{let t=e.find(e=>e.idParameterSet===self.udlsAssetId),n=fromFormulaArray2UDLs(t.content);$timeout(()=>{self.udls=n,self.udls.name=t.name},500)}).catch(e=>{$timeout(()=>{self.udls=[]},500)})}function fromUDLs2FormulaArray(e){return e.map(e=>({function:e.text,lineStyle:e.lineStyle,index:e.index,displayLine:!e._notUsed,displayEquation:e.displayEquation}))}function fromFormulaArray2UDLs(formulaArray){let regex=/^(y = )/g;return formulaArray.map(udl=>{let latex=udl.function;return regex.test(udl.function)||(latex="y = "+latex),{text:udl.function,latex:normalizeFormation(latex),lineStyle:udl.lineStyle,fn:function(x){return eval(udl.function)},index:udl.index,displayEquation:udl.displayEquation,_notUsed:!udl.displayLine}})}function initPickettControlPoints(e){let t=[0==self.getLeft()?.01:self.getLeft(),0==self.getRight()?.01:self.getRight()].map(e=>Math.log10(e)),n=[0==self.getBottom()?.01:self.getBottom(),0==self.getTop()?.01:self.getTop()],l=self.isSwapAxisPickett?function(t){let n=self.getPickettSetRw(e),l=self.getPickettSetN(e),i=self.getPickettSetM(e),s=self.getPickettSetA(e);return Math.pow(10,(Math.log10(t)-Math.log10(s*n/1**l))/-i)}:function(t){let n=self.getPickettSetRw(e),l=self.getPickettSetN(e),i=self.getPickettSetM(e),s=self.getPickettSetA(e);return Math.pow(10,-i*Math.log10(t)+Math.log10(s*n/1**l))},i=t[0]+(t[1]-t[0])*(1/30),s=e=>Math.pow(10,e),o=l(s(i));for(;(o-n[0])*(o-n[1])>0;){if((i-t[0])*(i-t[1])>0)return void console.log("Oops!");i+=.05*(t[1]-t[0]),o=l(s(i)),console.log("111")}console.log("done 1");let a=t[1]-(t[1]-t[0])*(1/30),r=l(s(a));for(;(r-n[0])*(r-n[1])>0;){if((a-t[0])*(a-t[1])>0)return void console.log("Oops!");a-=.05*(t[1]-t[0]),r=l(s(a)),console.log("222")}return console.log("done 2"),[{x:s(i),y:o},{x:s(a),y:r}]}function updatePickettParams(e){let t=this,n=e.slope,l=e.intercept,i=Number(parseFloat(calcPickettParamM(n,l,t)).toFixed(4)),s=Number(parseFloat(calcPickettParamRw(n,l,t)).toFixed(4));_.isFinite(i)&&_.isFinite(s)&&(self.setPickettSetM(t,-1,i),self.setPickettSetRw(t,-1,s)),self.updateAllPickettLinesDebounce()}function calcPickettParamM(e,t,n){return self.isSwapAxisPickett?-1/e:-e}function calcPickettParamRw(e,t,n){let l=self.getPickettSetM(n),i=self.getPickettSetN(n),s=self.getPickettSetA(n);return self.isSwapAxisPickett?Math.pow(10,l*t)*Math.pow(1,i)/s:Math.pow(10,t)*Math.pow(1,i)/s}this.getLayerTree=function(){return _layerTree=self.layers,self.layers},this.getLayerLabel=e=>e.name,this.getLayerIcon=e=>e&&!e._notUsed?"layer-16x16":"fa fa-eye-slash",this.getLayerIcons=e=>["rectangle"],this.getLayerIconStyle=e=>({"background-color":e.layerColor}),this.click2ToggleLayer=function(e,t,n){t._notUsed=!t._notUsed,toggleParamGroup(t),self.selectedLayers=Object.values(n).map(e=>e.data)},this.onRegressionTypeChange=function(e){self.regressionType=(e||{}).name},this.getRegIcon=e=>e&&e._useReg?"layer-16x16":"fa fa-eye-slash",this.getRegIcons=e=>["rectangle"],this.getRegIconStyle=e=>({"background-color":e.regColor}),this.getPropMapTreeIcon=e=>e&&e._use4PropMap?"layer-16x16":"fa fa-eye-slash",this.getPropMapTreeIcons=e=>["rectangle"],this.getPropMapTreeIconStyle=e=>({"background-color":e.layerColor}),this.updateRegressionLine=function(e,t){let n=[];for(let e=0;e<self.layers.length;e++){let t=self.layers[e];t._useReg&&(n=n.concat(t.dataX.map((e,n)=>[e,t.dataY[n]])))}let l,i=t.filter(e=>!_.isEmpty(e.points)&&!e._notUsed);if(i.length){let e=i.filter(e=>!e.exclude),t=i.filter(e=>e.exclude);t.length&&(n=self.filterByPolygons(t,n,!0)),e.length&&(n=self.filterByPolygons(e,n,!1))}if(!n.length)return self.regLine={},void(self.regLine.family=void 0);self.regLine={lineStyle:{lineStyle:(self.regLine.lineStyle||{}).lineStyle||[10,0],lineColor:(self.regLine.lineStyle||{}).lineColor||colorGenerator(),lineWidth:(self.regLine.lineStyle||{}).lineWidth||1}};let s={fitX:self.config.fitX,fitY:self.config.fitY};switch(e){case"Linear":l=regression.linear(n,{precision:6,...s}),self.regLine={...self.regLine,family:self.regressionType.toLowerCase(),slope:l.equation[0],intercept:l.equation[1],predict:l.predict,r2:l.r2};break;case"Exponential":l=regression.exponential(n,{precision:6,...s}),self.regLine={...self.regLine,family:self.regressionType.toLowerCase(),ae:l.equation[0],b:l.equation[1],predict:l.predict,r2:l.r2};break;case"Power":l=regression.power(n,{precision:6,...s}),self.regLine={...self.regLine,family:self.regressionType.toLowerCase(),coefficient:l.equation[0],exponent:l.equation[1],predict:l.predict,r2:l.r2};break;case"Polynomial":l=regression.polynomial(n,{order:self.getPolynomialOrder()}),self.regLine={...self.regLine,family:self.regressionType.toLowerCase(),equation:l.equation,predict:l.predict,r2:l.r2}}let o=[],a=[];for(let e=0;e<self.layers.length;e++){let t=self.layers[e];t._useReg&&(o=o.concat(t.dataX),a=a.concat(t.dataY))}let r=o.map(e=>self.regLine.predict(e)[1]);self.mse={family:"mse",mse:self.calcMSE(a,r).toFixed(6)}},this.click2ToggleRegression=function(e,t,n){self.isSettingChange=!0,t._useReg=!t._useReg,self.updateRegressionLine(self.regressionType,self.polygons),$timeout(()=>{self.regLine={...self.regLine}}),self.selectedRegression=Object.values(n).map(e=>e.data)},this.discriminatorDialog=function(e){let t=getWellSpec(e),n=e.datasets.find(e=>e.idDataset===t.xAxis.idDataset).curves.map(e=>({type:"curve",name:e.name}));wiDialog.discriminator(t.discriminator,n,(function(e){self.isSettingChange=!0,t.discriminator=e}))},this.hasDiscriminator=function(e){let t=getWellSpec(e);return t.discriminator&&Object.keys(t.discriminator).length>0&&t.discriminator.active},this.reverseAxis=function(){[self.selectionValueList[0].value,self.selectionValueList[1].value]=[self.selectionValueList[1].value,self.selectionValueList[0].value];for(let e=0;e<self.wellSpec.length;e++)swapPropObj(self.wellSpec[e],"xAxis","yAxis");updateDefaultConfig(),[self.config.left,self.config.bottom]=[self.config.bottom,self.config.left],[self.config.right,self.config.top]=[self.config.top,self.config.right],[self.config.logaX,self.config.logaY]=[self.config.logaY,self.config.logaX],[self.config.majorX,self.config.majorY]=[self.config.majorY,self.config.majorX],[self.config.minorX,self.config.minorY]=[self.config.minorY,self.config.minorX],[self.config.xLabel,self.config.yLabel]=[self.config.yLabel,self.config.xLabel],reverseOverlayLine(),self.genLayers(),self.isSwapAxisPickett=!self.isSwapAxisPickett,self.updateAllPickettLines()},this.getColorPalette=getColorPalette,this.pickettLineColor=function(e){return 1==e.sw?"red":self.getPickettSetColor(self.pickettSets[e.pickettSetIdx],e.pickettSetIdx)},this.addPickettSet=function(){self.pickettSets.push({color:"blue"})},this.turnOnPickettSet=function(e){self.pickettSets[e]._used?self.pickettSets[e]._used=!1:(self.pickettSets.forEach(e=>e._used=!1),self.pickettSets[e]._used=!0),self.updateAllPickettLines()},this.addSwParam=function(){if(self.swParamList.length>=_PICKETT_LIMIT){let e="Too many picketts";return __toastr&&__toastr.error(e),void console.error(new Error(e))}self.swParamList.push({sw:1}),self.pickettSets.forEach((e,t)=>{self.allPickettLines.push({rw:self.getPickettSetRw(e,t),m:self.getPickettSetM(e,t),n:self.getPickettSetN(e,t),a:self.getPickettSetA(e,t),sw:1,swParamIdx:self.swParamList.length-1,pickettSetIdx:t,label:self.getPickettSetName(e,t)+", Sw = 1",style:{fill:e.color},family:"pickett",_used:e._used,isSwap:self.isSwapAxisPickett})})},this.removeSwParam=function(e){self.swParamList.splice(e,1),self.allPickettLines.filter(t=>t.swParamIdx==e).forEach(e=>{let t=self.allPickettLines.indexOf(e);t&&self.allPickettLines.splice(t,1)})},this.removePickettSet=function(e){self.pickettSets.splice(e,1)},this.updateAllPickettLines=updateAllPickettLines,this.updateAllPickettLinesDebounce=_.debounce(updateAllPickettLines,300),this.updatePickettAdjusterArrayDebounce=_.debounce(updatePickettAdjusterArray,300),this.updatePickettAdjusterArray=updatePickettAdjusterArray,this.conditionForPickettPlot=conditionForPickettPlot,this.loadUDL=function(){function e(e){self.udlsAssetId=e.idParameterSet,self.udls=fromFormulaArray2UDLs(e.content),self.udls.name=e.name,self.udls.note=e.note,self.addLog("success","Change Formula")}wiApi.listAssetsPromise(self.idProject,"FormulaArray").then(t=>{self.udlSelectionList=t.map(e=>({data:{label:e.name},properties:e})),wiDialog.promptListDialog({title:"Load User Defined Lines",selectionList:self.udlSelectionList,currentSelect:self.udlSelectionList[0].data.label,inputName:"User Defined Lines"},t=>{if(self.udls&&self.udls.length){let n=[{title:"Add more",onClick:e=>{e.close("Add more")}},{title:"Replace",onClick:e=>{e.close("Replace")}}];wiDialog.confirmDialog("Confirmation","Which way do you want to import?",n=>{if("Add more"===n){let e=self.udls.name,n=self.udls.node;self.udls=self.udls.concat(fromFormulaArray2UDLs(t.content)),self.udls=_.uniqBy(self.udls,e=>e.text),self.udls.name=e,self.udls.note=n}else e(t)},n)}else e(t)})})},this.saveUDL=function(){if("System Formula"===self.udls.note){let e='Can not overwrite "System Formula"';return void(__toastr&&__toastr.error(e))}let e=fromUDLs2FormulaArray(self.udls);self.udlsAssetId?(wiLoading.show($element.find(".main")[0],self.silent),wiApi.editAssetPromise(self.udlsAssetId,e).then(e=>{wiLoading.hide()}).catch(e=>{wiLoading.hide();let t=`Asset ${name} has been existed`;__toastr&&__toastr.error(t),self.saveUDL()})):wiDialog.promptDialog({title:"Save User Defined Lines",inputName:"User Defined Lines Name",input:""},(function(e){wiLoading.show($element.find(".main")[0],self.silent),self.udls.name=e;let t=fromUDLs2FormulaArray(self.udls);wiApi.newAssetPromise(self.idProject,e,"FormulaArray",t).then(e=>{self.udlsAssetId=e.idParameterSet,wiLoading.hide()}).catch(t=>{let n=`Asset ${e} has been existed`;__toastr&&__toastr.error(n),self.saveUDL(),wiLoading.hide()})}))},this.saveAsUDL=function(){wiDialog.promptDialog({title:"Save As User Defined Lines",inputName:"User Defined Lines Name",input:""},(function(e){self.udls.name=e;let t=fromUDLs2FormulaArray(self.udls);wiApi.newAssetPromise(self.idProject,e,"FormulaArray",t).then(e=>{self.udls.note="",self.udlsAssetId=e.idParameterSet}).catch(t=>{let n=`Asset ${e} has been existed`;__toastr&&__toastr.error(n),self.saveAsUDL()})}))},this.onChangePal=function(e){e&&(self.isSettingChange=!0,self.config.currentPalName=e.name,self.palProps=e)},this.onPalsDropdownInit=function(e){self.wiDropdownCtrl=e,self.palTable=self.palTable||wiApi.getPalettes(),e.items=Object.keys(self.palTable).map(t=>{let n={label:t},l={name:t,palette:self.palTable[t]},i={data:n,properties:l};return self.config.currentPalName&&t===self.config.currentPalName&&(e.selectedItem=i,self.palProps=l),i}),e.items.unshift({data:{name:"[No Palette]"},properties:{name:"[No Palette]",palette:null}})},this.validPlotRegion=function(){let e=(self.getTop()-self.getBottom())*(self.getRight()-self.getLeft());return _.isFinite(e)&&0!=e};const pickettUpdateFnArray=[];function getPropMapStepX(){return(self.getRight()-self.getLeft())/self.getColsNumPropMap()}function getPropMapStepY(){return(self.getTop()-self.getBottom())/self.getRowsNumPropMap()}this.getUpdatePickettParamsFn=function(e){let t=pickettUpdateFnArray[e];return t||(pickettUpdateFnArray[e]=updatePickettParams.bind(self.pickettSets[e]),t=pickettUpdateFnArray[e]),t};const getBinsXGen=function(){return d3.histogram().domain(d3.extent([self.getLeft(),self.getRight()])).thresholds(d3.range(self.getLeft(),self.getRight(),getPropMapStepX()).sort((e,t)=>e-t))},getBinsYGen=function(){return d3.histogram().domain(d3.extent([self.getBottom(),self.getTop()])).thresholds(d3.range(self.getBottom(),self.getTop(),getPropMapStepY()).sort((e,t)=>e-t))};function isReverse(e,t){return e-t>0}function totalBins(e){return _.sum(e.map(e=>e.length))}function updatePropMap(){if(!self.layers||!self.layers.length)return;self.propMapUpdateTrigger=Date.now();let e=self.layers.filter(e=>e._use4PropMap),t=[],n=[];e.forEach(e=>{t=t.concat(e.dataX),n=n.concat(e.dataY)}),self.binsX=getBinsXGen()(t),self.binsY=getBinsYGen()(n),updateColorScale()}function calCellValuePropMap(e,t,n){if(!(self.binsX&&self.binsX.length&&self.binsY&&self.binsY.length))return null;const l=isReverse(self.getLeft(),self.getRight())?self.binsX[self.getColsNumPropMap()-1-n]:self.binsX[n],i=isReverse(self.getBottom(),self.getTop())?self.binsY[self.getRowsNumPropMap()-1-t]:self.binsY[t];if(!l)return i?i.length/totalBins(self.binsX):0;if(!i)return l?l.length/totalBins(self.binsY):0;const s=l.length/totalBins(self.binsX),o=i.length/totalBins(self.binsY);return _.isFinite(s)&&_.isFinite(o)?d3.mean([s,o]):null}this.hideSelectedPropMap=function(){self.selectedPropMap&&(self.selectedPropMap.forEach(e=>e._use4PropMap=!1),updatePropMap())},this.showSelectedPropMap=function(){self.selectedPropMap&&(self.selectedPropMap.forEach(e=>e._use4PropMap=!0),updatePropMap())},this.hideAllPropMap=function(){self.layers.forEach(e=>e._use4PropMap=!1),updatePropMap(),$timeout(()=>{})},this.showAllPropMap=function(){self.layers.forEach(e=>e._use4PropMap=!0),updatePropMap(),$timeout(()=>{})},this.click2TogglePropMap=function(e,t,n){self.isSettingChange=!0,t._use4PropMap=!t._use4PropMap,updatePropMap(),self.selectedPropMap=Object.values(n).map(e=>e.data)},this.cellValuePropMap=function(e,t,n){return""};const colorScale=d3.scaleLinear().range(["rgba(255,255,255,0.9)","rgba(255, 240, 128, 0.9)","rgba(255, 128, 0, 0.9)","rgba(50,0,0,0.9)"]);function isInside(e,t){return(e-t[0])*(e-t[1])<=0}function updateColorScale(){const e=self.getColsNumPropMap(),t=self.getRowsNumPropMap(),n=new Array(t*e).fill(0).map((t,n)=>calCellValuePropMap(n,Math.floor(n/e),n%e)),l=d3.extent(n);colorScale.domain([l[0],(l[1]-l[0])/3,2*(l[1]-l[0])/3,l[1]])}this.cellColorPropMap=(e,t,n)=>{const l=calCellValuePropMap(e,t,n);return null==l?"transparent":colorScale(l)},this.getFrequencyX=function(e){if(!self.binsX||!self.binsX.length)return;const t=self.binsX.find(t=>isInside(e,[t.x0,t.x1]));if(!t)return;const n=wiApi.bestNumberFormat(t.length/totalBins(self.binsX),3);if(isNaN(n))return;return`X[${wiApi.bestNumberFormat(t.x0,2)}-${wiApi.bestNumberFormat(t.x1,2)}]: ${100*n}%`},this.getFrequencyY=function(e){if(!self.binsY||!self.binsY.length)return;const t=self.binsY.find(t=>isInside(e,[t.x0,t.x1]));if(!t)return;const n=wiApi.bestNumberFormat(t.length/totalBins(self.binsY),3);if(isNaN(n))return;return`Y[${wiApi.bestNumberFormat(t.x0,2)}-${wiApi.bestNumberFormat(t.x1,2)}]: ${100*n}%`},this.getRowsNumPropMap=function(){return self.config.rowsNumPropMap||5},this.getColsNumPropMap=function(){return self.config.colsNumPropMap||7},this.setRowsNumPropMap=function(e,t){self.config.rowsNumPropMap=t,updatePropMap()},this.setColsNumPropMap=function(e,t){self.config.colsNumPropMap=t,updatePropMap()},this.addLog=function(e,t){}}app.component(componentName,component({controller:multiWellCrossplotController,template:__webpack_require__(9),bindings:{token:"<",idProject:"<",wellSpec:"<",zonesetName:"<",selectionType:"=",selectionValueList:"<",idCrossplot:"<",config:"<",logaX:"<",logaY:"<",scaleLeft:"<",scaleRight:"<",scaleBottom:"<",scaleTop:"<",onSave:"<",onSaveAs:"<",onInitFn:"<",polygons:"<",polygonExclude:"<",regressionType:"<",silent:"<",pointSize:"<",udlsAssetId:"<",pickettSets:"<",swParamList:"<",paramGroups:"<",paramGroupPointsFn:"<",getParamGroupX:"<",getParamGroupY:"<",setParamGroupX:"<",setParamGroupY:"<",getParamGroupPointLabel:"<",showAdjuster:"<",getPickettSetRw:"<",getPickettSetA:"<",getPickettSetM:"<",getPickettSetN:"<",setPickettSetRw:"<",setPickettSetA:"<",setPickettSetM:"<",setPickettSetN:"<",getPickettSetName:"<",setPickettSetName:"<",getPickettSetColor:"<",overlayLine:"<",showPickettSetAt:"<",showTooltip:"<",onReload:"<",afterNewPlotCreated:"<"},transclude:!0})),multiWellCrossplotController.$inject=["$scope","$timeout","$element","$compile","wiToken","wiApi","wiDialog","wiLoading"]},function(e,t,n){var l=n(6);"string"==typeof l&&(l=[[e.i,l,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(l,i);l.locals&&(e.exports=l.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'multi-well-crossplot {\n  /* Rounded sliders */\n  /* change style special of wi-base-treeview for basemap */\n}\nmulti-well-crossplot layer-collection circle {\n  fill: #3b9fda09;\n  stroke: #0a2d42;\n  stroke-width: 1px;\n  r: 7px;\n}\nmulti-well-crossplot .rg-bottom span,\nmulti-well-crossplot .rg-top span {\n  margin: 3px 0 0 -10px;\n}\nmulti-well-crossplot .axis-info {\n  display: flex;\n  padding: 15px;\n  flex-direction: column;\n  border-bottom: 1px solid #ccc;\n}\nmulti-well-crossplot .axis-info .axis-Z {\n  flex: 1;\n  display: flex;\n  margin-bottom: 15px;\n}\nmulti-well-crossplot .axis-info .axis-Z .line {\n  border-bottom: 2px solid #8e8e8e;\n  position: absolute;\n  width: calc(100% - 15px);\n  margin-top: 10px;\n}\nmulti-well-crossplot .axis-info .axis-Z .axis {\n  border: 1px solid #cccccc;\n  color: #646464;\n  background: #f4f4f4;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 15px;\n  border-radius: 2px;\n}\nmulti-well-crossplot .axis-info .axis-Z .ellipsis-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\nmulti-well-crossplot .axis-info .axis-Z .label {\n  padding: 0 10px;\n  font-weight: bold;\n}\nmulti-well-crossplot .axis-info .axis-Z .axis-type {\n  width: 100px;\n  color: #0077be;\n  height: 22px;\n}\nmulti-well-crossplot .axis-info .axis-Z .axis-min {\n  /*width: 40px;*/\n  color: #0077be;\n  margin-right: -1px;\n  height: 22px;\n}\nmulti-well-crossplot .axis-info .axis-Z .axis-line {\n  flex: 1;\n  margin-right: -1px;\n  background: #fff;\n}\nmulti-well-crossplot .axis-info .axis-Z .axis-max {\n  width: 80px;\n  color: #0077be;\n  height: 22px;\n}\nmulti-well-crossplot .red-color {\n  color: #cc6d6d;\n}\nmulti-well-crossplot .blue-color {\n  color: #0077be;\n}\nmulti-well-crossplot ::-webkit-scrollbar-button:horizontal:increment {\n  /* Right */\n  background-image: none;\n}\nmulti-well-crossplot ::-webkit-scrollbar-button:horizontal:decrement {\n  /* Left */\n  background-image: none;\n}\nmulti-well-crossplot ::-webkit-scrollbar-button:vertical:increment {\n  /* Down */\n  background-image: none;\n}\nmulti-well-crossplot ::-webkit-scrollbar-button:vertical:decrement {\n  /* Up */\n  background-image: none;\n}\nmulti-well-crossplot .list-polygon {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 15px;\n  border-radius: 2px;\n  border: 1px solid #ddd;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .list-polygon .button-list-polygon {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n  border-left: 1px solid #ccc;\n}\nmulti-well-crossplot .list-polygon .button-list-polygon:hover {\n  background: #f4f4f4;\n  transition: all ease-in 0.3s;\n}\nmulti-well-crossplot .add-polygon {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #ccc;\n  border-radius: 50%;\n  cursor: pointer;\n}\nmulti-well-crossplot .add-polygon:hover {\n  border-color: #0077be;\n  color: #0077be;\n  transition: all ease-in 0.3s;\n}\nmulti-well-crossplot .disable-node-caret .node-caret {\n  display: none;\n}\nmulti-well-crossplot .disable-node-caret wi-tree-node-virtual > div {\n  padding-left: 13px;\n}\nmulti-well-crossplot .switch-label {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #666;\n  font-size: 12px;\n}\nmulti-well-crossplot .switch-label > label {\n  margin-bottom: 0;\n}\nmulti-well-crossplot .switch {\n  position: relative;\n  display: inline-block;\n  width: 35px;\n  height: 16px;\n  margin-left: 10px;\n}\nmulti-well-crossplot .switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\nmulti-well-crossplot .slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: 0.2s;\n  transition: 0.2s;\n}\nmulti-well-crossplot .slider:before {\n  position: absolute;\n  content: "";\n  height: 10px;\n  width: 10px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  -webkit-transition: 0.2s;\n  transition: 0.2s;\n}\nmulti-well-crossplot input:checked + .slider {\n  background-color: #2196F3;\n}\nmulti-well-crossplot input:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n}\nmulti-well-crossplot input:checked + .slider:before {\n  -webkit-transform: translateX(18px);\n  -ms-transform: translateX(18px);\n  transform: translateX(18px);\n}\nmulti-well-crossplot .slider.round {\n  border-radius: 34px;\n}\nmulti-well-crossplot .slider.round:before {\n  border-radius: 50%;\n}\nmulti-well-crossplot input,\nmulti-well-crossplot select {\n  box-shadow: none;\n}\nmulti-well-crossplot wi-tree-view div input,\nmulti-well-crossplot wi-tree-view-virtual div input {\n  width: 100%;\n  line-height: 1.4;\n  padding: 10px 10px 10px 14px;\n  border: none;\n  border-bottom: 1px solid #f0f0f0;\n  outline: none;\n  box-sizing: border-box;\n}\nmulti-well-crossplot wi-tree-view div input::placeholder,\nmulti-well-crossplot wi-tree-view-virtual div input::placeholder {\n  color: #cecece;\n}\nmulti-well-crossplot wi-tree-node .node-caret,\nmulti-well-crossplot wi-tree-node-virtual .node-caret,\nmulti-well-crossplot wi-tree-node .node-label,\nmulti-well-crossplot wi-tree-node-virtual .node-label,\nmulti-well-crossplot wi-tree-node .node-icon,\nmulti-well-crossplot wi-tree-node-virtual .node-icon {\n  display: flex;\n  padding-right: 10px;\n  font-size: 12px;\n}\nmulti-well-crossplot wi-tree-node .node-caret,\nmulti-well-crossplot wi-tree-node-virtual .node-caret {\n  color: #cccbcb;\n  font-size: 14px;\n  cursor: pointer;\n  width: 16px;\n}\nmulti-well-crossplot wi-tree-node .node-content.search-mode > div,\nmulti-well-crossplot wi-tree-node-virtual .node-content.search-mode > div {\n  opacity: 1;\n}\nmulti-well-crossplot wi-tree-node .node-content,\nmulti-well-crossplot wi-tree-node-virtual .node-content,\nmulti-well-crossplot wi-tree-node .node-content::after,\nmulti-well-crossplot wi-tree-node-virtual .node-content::after {\n  line-height: 3em;\n}\nmulti-well-crossplot segment-layer svg.edit-point,\nmulti-well-crossplot polygon-layer svg.edit-point {\n  background-color: rgba(185, 185, 185, 0);\n  cursor: crosshair;\n  pointer-events: all;\n  z-index: 2;\n}\nmulti-well-crossplot wi-table-view div.cell {\n  display: table-cell;\n  padding: 7px 10px;\n  border-right: 1px solid #d4d4d4;\n  border-bottom: 1px solid #d4d4d4;\n  cursor: default;\n  position: relative;\n  border-top: none;\n  border-left: none;\n}\nmulti-well-crossplot wi-table-view div.table {\n  margin-top: 0;\n  border-radius: 2px;\n  border-top: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n  border-bottom: none;\n  border-right: none;\n}\nmulti-well-crossplot editable div.my-content {\n  float: left;\n}\nmulti-well-crossplot wi-dropdown-list:focus {\n  outline: none !important;\n}\nmulti-well-crossplot wi-dropdown-list .ui-select-bootstrap > .ui-select-match > .btn {\n  border: none;\n  box-shadow: none;\n  outline: none;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n}\nmulti-well-crossplot wi-dropdown-list .btn-default:active:focus {\n  background-color: #fff;\n}\nmulti-well-crossplot wi-dropdown-list .btn-default.active,\nmulti-well-crossplot wi-dropdown-list .btn-default:active,\nmulti-well-crossplot wi-dropdown-list .open > .dropdown-toggle.btn-default {\n  color: #333;\n  background-color: #fff;\n  background-image: none;\n  border-color: #adadad;\n}\nmulti-well-crossplot wi-dropdown-list .btn-default.focus,\nmulti-well-crossplot wi-dropdown-list .btn-default:focus {\n  color: #333;\n  background-color: #fff;\n  border-color: #fff;\n}\nmulti-well-crossplot wi-dropdown-list .btn-default-focus {\n  box-shadow: none;\n  outline: none;\n}\nmulti-well-crossplot wi-dropdown-list .form-control {\n  border: none;\n}\nmulti-well-crossplot wi-dropdown-list :focus {\n  outline: none;\n}\nmulti-well-crossplot wi-dropdown-list .form-control:focus {\n  border: none;\n  box-shadow: none;\n  outline: none;\n}\nmulti-well-crossplot wi-dropdown-list .btn-default:hover {\n  color: #333;\n  background-color: #fff;\n  border-color: #fff;\n}\nmulti-well-crossplot side-bar > div div.content {\n  overflow-x: hidden;\n  height: 100%;\n  display: flex;\n  overflow-y: auto;\n  /* padding-left: 15px; */\n  flex-direction: row;\n}\nmulti-well-crossplot wi-droppable {\n  height: 100%;\n}\nmulti-well-crossplot wi-tree-node .node-caret,\nmulti-well-crossplot wi-tree-node .node-label,\nmulti-well-crossplot wi-tree-node .node-icon {\n  display: flex;\n  padding-right: 10px;\n  font-size: 12px;\n}\nmulti-well-crossplot wi-tree-node .node-caret {\n  color: #cccbcb;\n  font-size: 14px;\n  cursor: pointer;\n  width: 16px;\n}\nmulti-well-crossplot wi-tree-node .node-content.search-mode > div {\n  opacity: 1;\n}\nmulti-well-crossplot wi-tree-node .node-content,\nmulti-well-crossplot wi-tree-node .node-content::after {\n  line-height: 3em;\n}\nmulti-well-crossplot .ui-select-match-text {\n  text-align: right;\n}\nmulti-well-crossplot button.disable {\n  color: #aaa;\n  border-color: #aaa;\n}\nmulti-well-crossplot .active {\n  background: #f4f4f4;\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .fn-button {\n  border: 1px solid #d9d9d9;\n  font-size: 10px;\n  border-radius: 2px;\n  background: #fff;\n  padding: 6px 12px 5px 12px;\n  margin-right: 15px;\n  line-height: 1;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .fn-button:hover {\n  transition: all 0.2s ease-in;\n  border: 1px solid #1962a7;\n  color: #1962a7;\n  background: #fff;\n}\nmulti-well-crossplot .main {\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n}\nmulti-well-crossplot .main .main-toolbar {\n  flex-basis: 44px;\n  background: #0074c5;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\nmulti-well-crossplot .main .main-toolbar .menu-item {\n  margin: 0 15px;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\nmulti-well-crossplot .main .main-toolbar .menu-item .select-proj4 {\n  box-shadow: none;\n  border: none;\n  border-radius: 0;\n  font-size: 12px;\n  color: #fff;\n  background: none;\n}\nmulti-well-crossplot .main .main-toolbar .menu-item .select-proj4:focus {\n  border-color: none;\n  outline: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\nmulti-well-crossplot .main .statistic-table {\n  flex-basis: 200px;\n  margin: 15px 15px;\n  position: relative;\n  height: 20%;\n  max-height: 64%;\n}\nmulti-well-crossplot .main .main-body {\n  width: 100%;\n  display: flex;\n  overflow-x: auto;\n  overflow-y: hidden;\n  position: relative;\n  flex-direction: column;\n}\nmulti-well-crossplot .main .main-body .border-style {\n  border: 1px solid #eee;\n  border-top-right-radius: 3px;\n  border-top-left-radius: 3px;\n}\nmulti-well-crossplot .main .main-body .main-body-left {\n  display: flex;\n  z-index: 1;\n  height: calc(100%);\n}\nmulti-well-crossplot .main .main-body .main-body-left .input-search-list-view {\n  background: #fff;\n  width: 100%;\n  height: 44px;\n  border: 1px solid #ffffff4a;\n  border-bottom: 1px solid #eaeaea;\n  padding: 10px 20px 10px 15px;\n  font-weight: bold;\n}\nmulti-well-crossplot .main .main-body .main-body-left ::-webkit-input-placeholder {\n  opacity: 0.5;\n  color: rgba(0, 0, 0, 0.253);\n  /* font-weight: 100; */\n}\nmulti-well-crossplot .main .main-body .main-body-left :focus::-webkit-input-placeholder {\n  opacity: 0.5;\n  color: rgba(0, 0, 0, 0.253);\n  /* font-weight: 100; */\n}\nmulti-well-crossplot .main .main-body .main-body-left .input-search-list-view:focus {\n  outline: none;\n}\nmulti-well-crossplot .main .main-body .main-body-center {\n  flex: 1;\n  display: flex;\n  height: 100%;\n  position: relative;\n  flex-direction: column;\n}\nmulti-well-crossplot .main .button-update {\n  background: #0077be;\n  color: #fff;\n  font-weight: bold;\n  flex: 1;\n  padding: 10px;\n  text-align: center;\n  margin: 9px 15px 15px 15px;\n  border-radius: 2px;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n}\nmulti-well-crossplot .main .button-update:hover {\n  background: #1ba0ec;\n  transition: all 0.5s;\n}\nmulti-well-crossplot .main .disabled-click {\n  pointer-events: none;\n  opacity: 0.2;\n}\nmulti-well-crossplot .main .label-list-view {\n  font-weight: bold;\n  background: #fff;\n  display: flex;\n  justify-content: space-between;\n  font-weight: 400;\n  right: 0;\n  position: sticky;\n}\nmulti-well-crossplot .main .label-info-image {\n  background: #fff;\n  min-width: 99px;\n  display: flex;\n  align-items: center;\n  border-radius: 3px;\n  padding: 5px 10px;\n  margin-right: 15px;\n  justify-content: space-between;\n}\nmulti-well-crossplot .main .button-td {\n  cursor: pointer;\n  background: #f4f4f4;\n  padding: 3px 10px;\n  border-radius: 2px;\n  border: 1px solid #e8e8e8;\n}\nmulti-well-crossplot .main .button-td:hover {\n  background: #87c1ff;\n  color: #fff;\n}\nmulti-well-crossplot .main .header-icon {\n  margin-right: 15px;\n  cursor: pointer;\n  width: 10px;\n}\nmulti-well-crossplot .main .label-button {\n  float: right;\n  font-size: 115%;\n  color: #bbbbbb;\n  margin: 2px 5px 0 15px;\n  pointer-events: none;\n}\nmulti-well-crossplot .main .button-with-label-layer {\n  cursor: pointer;\n  background: #f4f4f4;\n  font-size: 10px;\n  padding: 5px 7px;\n  margin-left: 5px;\n  border: 1px solid #e4e4e4;\n  border-radius: 2px;\n  flex: 1;\n  text-align: center;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .button-with-label-layer:hover {\n  background: #fff;\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .button-with-label {\n  cursor: pointer;\n  background: #f4f4f4;\n  font-size: 10px;\n  padding: 5px 10px;\n  border: 1px solid #f4f4f4;\n  border-radius: 20px;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .button-with-label:hover {\n  border: 1px solid #0077be;\n}\nmulti-well-crossplot .main .button-with-label.active {\n  background: #f4f4f4;\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .tab-with-label {\n  cursor: pointer;\n  color: #cacaca;\n  transition: all 0.2s ease-in;\n  margin: 0px 10px;\n  white-space: nowrap;\n  font-weight: bold;\n}\nmulti-well-crossplot .main .tab-with-label:hover {\n  color: #0077be;\n}\nmulti-well-crossplot .main .tab-with-label.active {\n  color: #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .select-table-header {\n  border: 1px solid #eee;\n  background: #f4f4f4;\n  padding: 5px 8px;\n  margin: 0 8px 8px 0;\n  cursor: pointer;\n  border-radius: 2px;\n  min-width: 75px;\n  display: flex;\n  justify-content: center;\n}\nmulti-well-crossplot .main .select-table-header.active {\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .label-option-sidebar {\n  font-weight: bold;\n  font-size: 12px;\n  color: #646464;\n  background: #fff;\n  padding: 15px;\n}\nmulti-well-crossplot .main .selection-sidebar {\n  border: 1px solid #c7c7c7;\n  border-radius: 2px;\n  padding: 2px 10px;\n  align-items: center;\n  display: flex;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .main .selection-sidebar:hover {\n  border: 1px solid #0077be;\n}\nmulti-well-crossplot .main .selection-sidebar > input:focus {\n  outline: none;\n}\nmulti-well-crossplot .main .input-suggestions {\n  margin-left: 10px;\n  border: none;\n  flex: 1;\n  color: #0077be;\n  text-align: right;\n}\nmulti-well-crossplot .axis-bar {\n  background: #fff;\n  border-radius: 2px;\n  border: 1px solid #dbdbdb87;\n  font-size: 10px;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  padding: 10px 10px;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .axis-bar:hover {\n  border: 1px solid #0077be;\n}\nmulti-well-crossplot .axis-bar.selected {\n  font-weight: bold;\n  color: #0077be;\n}\nmulti-well-crossplot .axis-bar::after {\n  content: "2r";\n  color: transparent;\n  display: block;\n  top: 0;\n  width: 4px;\n  right: 0;\n}\nmulti-well-crossplot .bottom-add {\n  background: #f4f4f4;\n  padding: 10px;\n  border-radius: 2px;\n  text-align: center;\n  margin: 15px 15px 0 15px;\n  cursor: pointer;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .bottom-add:hover {\n  background: #e7e7e7;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .list-formular {\n  padding: 0 5px 0 15px;\n  margin-bottom: 15px;\n  display: flex;\n  border-radius: 2px;\n  border: 1px solid #ddd;\n  transition: all 0.2s ease-in;\n}\nmulti-well-crossplot .list-formular:hover {\n  border: 1px solid #0077be;\n}\nmulti-well-crossplot .delete-button {\n  padding: 10px;\n  cursor: pointer;\n  font-size: 15px;\n  color: #aaa;\n  align-items: center;\n  border: none;\n  display: flex;\n}\nmulti-well-crossplot ::-webkit-scrollbar {\n  background: #fff;\n  width: 5px;\n}\nmulti-well-crossplot ::-webkit-scrollbar-thumb {\n  background-color: #ccc;\n}\nmulti-well-crossplot .fix-header-table {\n  overflow-y: auto;\n  display: flex;\n  flex: 1;\n}\nmulti-well-crossplot .fix-header-table th {\n  position: sticky;\n  top: 0;\n}\nmulti-well-crossplot .rectangle {\n  border: 0.5px solid #a7a7a7;\n  width: 12px;\n  height: 12px;\n  border-radius: 11px;\n  background: #0077be;\n}\nmulti-well-crossplot table {\n  border-collapse: collapse;\n  table-layout: fixed;\n  width: 100%;\n  user-select: none;\n}\nmulti-well-crossplot table th {\n  position: sticky;\n  top: 0;\n}\nmulti-well-crossplot thead {\n  border-bottom: 1px solid #ccc;\n}\nmulti-well-crossplot td,\nmulti-well-crossplot th {\n  border-bottom: 1px solid #f0f0f0;\n  border-right: 1px solid #f0f0f0;\n  padding-top: 10px;\n  padding-bottom: 9px;\n  padding-left: 14px;\n  overflow: hidden;\n}\nmulti-well-crossplot tr {\n  border-right: 4px solid #fff;\n}\nmulti-well-crossplot tr.updated {\n  background-color: #c2eaff70;\n}\nmulti-well-crossplot tr.created {\n  background-color: #abeaab29;\n}\nmulti-well-crossplot tr.deleted {\n  background-color: #f4f4f4;\n  pointer-events: none;\n  color: #d8d3d3;\n}\nmulti-well-crossplot tr:hover {\n  border-right: 4px solid #0077be;\n  background: #f9f9f9;\n}\nmulti-well-crossplot th {\n  padding-top: 9px;\n  padding-bottom: 10px;\n  text-align: left;\n  background-color: #ffffff;\n  color: #0077be;\n}\nmulti-well-crossplot ::placeholder {\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: #9e9e9e;\n  opacity: 1;\n  /* Firefox */\n}\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,l=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:l+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t){const n={order:2,precision:2,period:null};function l(e,t){const n=[],l=[];e.forEach((e,i)=>{null!==e[1]&&(l.push(e),n.push(t[i]))});const i=l.reduce((e,t)=>e+t[1],0)/l.length,s=l.reduce((e,t)=>{const n=t[1]-i;return e+n*n},0);return 1-l.reduce((e,t,l)=>{const i=n[l],s=t[1]-i[1];return e+s*s},0)/s}function i(e,t){const n=10**t;return Math.round(e*n)/n}function s(e,t){return e+t}function o(e,t){const n=t.fitX,l=t.fitY,o=e.map(e=>e[0]),a=e.map(e=>e[1]),r=Number.isFinite(n)?n:1*o.reduce(s,0)/o.length,f=Number.isFinite(l)?l:1*a.reduce(s,0)/a.length,c=o.map((e,t)=>(e-r)*(a[t]-f)).reduce(s,0),d=o.map(e=>(e-r)**2).reduce(s,0),p=0===d?0:i(c/d,t.precision);return[p,i(f-r*p,t.precision)]}const a={linear(e,t){const n=o(e.filter(e=>Number.isFinite(e[0])&&Number.isFinite(e[1])),t),s=n[0],a=n[1],r=e=>[i(e,t.precision),i(s*e+a,t.precision)],f=e.map(e=>r(e[0]));return{points:f,predict:r,equation:[s,a],r2:i(l(e,f),t.precision),string:0===a?`y = ${s}x`:`y = ${s}x + ${a}`}},exponential(e,t){const n=o(e.filter(e=>Number.isFinite(e[0])&&Number.isFinite(e[1])).map(e=>[e[0],Math.log(e[1])]),t),s=n[0],a=i(Math.exp(n[1]),t.precision),r=e=>[i(e,t.precision),i(a*Math.exp(s*e),t.precision)],f=e.map(e=>r(e[0]));return{points:f,predict:r,equation:[a,s],string:`y = ${a}e^(${s}x)`,r2:i(l(e,f),t.precision)}},power(e,t){const n=o(e.filter(e=>Number.isFinite(e[0])&&Number.isFinite(e[1])).map(e=>[Math.log(e[0]),Math.log(e[1])]),t),s=n[0],a=i(Math.exp(n[1]),t.precision),r=e=>[i(e,t.precision),i(i(a*e**s,t.precision),t.precision)],f=e.map(e=>r(e[0]));return{points:f,predict:r,equation:[a,s],string:`y = ${a}x^${s}`,r2:i(l(e,f),t.precision)}},polynomial(e,t){const n=[],s=[];let o=0,a=0;const r=e.length,f=t.order+1;for(let t=0;t<f;t++){for(let n=0;n<r;n++)null!==e[n][1]&&(o+=e[n][0]**t*e[n][1]);n.push(o),o=0;const l=[];for(let n=0;n<f;n++){for(let l=0;l<r;l++)null!==e[l][1]&&(a+=e[l][0]**(t+n));l.push(a),a=0}s.push(l)}s.push(n);const c=function(e,t){const n=e,l=e.length-1,i=[t];for(let e=0;e<l;e++){let t=e;for(let i=e+1;i<l;i++)Math.abs(n[e][i])>Math.abs(n[e][t])&&(t=i);for(let i=e;i<l+1;i++){const l=n[i][e];n[i][e]=n[i][t],n[i][t]=l}for(let t=e+1;t<l;t++)for(let i=l;i>=e;i--)n[i][t]-=n[i][e]*n[e][t]/n[e][e]}for(let e=l-1;e>=0;e--){let t=0;for(let s=e+1;s<l;s++)t+=n[s][e]*i[s];i[e]=(n[l][e]-t)/n[e][e]}return i}(s,f).map(e=>i(e,t.precision)),d=e=>[i(e,t.precision),i(c.reduce((t,n,l)=>t+n*e**l,0),t.precision)],p=e.map(e=>d(e[0]));let g="y = ";for(let e=c.length-1;e>=0;e--)g+=e>1?`${c[e]}x^${e} + `:1===e?c[e]+"x + ":c[e];return{string:g,points:p,predict:d,equation:[...c].reverse(),r2:i(l(e,p),t.precision)}}};e.exports=Object.keys(a).reduce((e,t)=>({_round:i,...e,[t]:(e,l)=>a[t](e,{...n,...l})}),{})},function(e,t,n){e.exports='<div class="main">\n\n    <div class="main-body">\n        '+n(10)+'\n    </div>\n    <wi-droppable style="display:flex;" on-drop="self.onDrop"\n        container-style="{}">\n        <div style=" height: 100%; right: 0; border-left: 1px solid #ccc; box-shadow: 0 0 20px #0000001c;">\n            '+n(11)+"\n        </div>\n    </wi-droppable>\n</div>"},function(e,t){e.exports='<div class="label-list-view ng-scope"\n    style="display :flex; background: #f4f4f4; padding: 9px 15px; justify-content: flex-start;">\n\n    <span class="fn-button" ng-click="self.refresh()">RELOAD</span>\n    <span class="fn-button" ng-click="self.saveToAsset()">SAVE</span>\n    <span class="fn-button" ng-click="self.saveAs()">SAVE AS</span>\n    <span class="fn-button" ng-click="self.print()">PRINT</span>\n    <span class="fn-button" ng-class="{\'active\' : self.showTooltip}" ng-click="self.showTooltip = !self.showTooltip">TOOLTIP</span>\n    <span class="fn-button" ng-click="self.exportStatistic()">Export Statistic</span>\n</div>\n<div style="flex: 1; display: flex; flex-direction: column;">\n    <div class="main-body-center border-style printable" style="position: relative;" id=\'layer-collection\'>\n        <layer-collection v-padding="vPadding" h-padding=\'hPadding\'>\n            <axis-layer min-val=\'self.getLeft()\' max-val=\'self.getRight()\' n-ticks="self.getMajorX() * self.getMinorX()"\n                minor-ticks="self.getMinorX()" loga="self.getLogaX()" precision="4" grid="!!self.config.grid"\n                placement="1" get-min-val=\'self.getLeft\' get-max-val=\'self.getRight\'></axis-layer>\n            <axis-layer min-val=\'self.getBottom()\' max-val=\'self.getTop()\' n-ticks="self.getMajorY() * self.getMinorY()"\n                minor-ticks="self.getMinorY()" loga="self.getLogaY()" precision="4" grid="!!self.config.grid"\n                axis-direction="\'up\'" placement="0" get-min-val=\'self.getBottom\' get-max-val=\'self.getTop\'></axis-layer>\n            <scatter-layer ng-show="!layer._notUsed" min-val="self.getLeft()" max-val="self.getRight()"\n                min-y="self.getBottom()" max-y="self.getTop()" loga="self.getLogaX()" ortho-loga="self.getLogaY()"\n                my-data-x="layer.dataX" my-data-y="layer.dataY"\n                symbol="self.getSelectionValue(\'Z3\').isUsed ? \'textSymbol\' : \'circle\'" symbol-size="5"\n                symbol-fill-style="layer.color" symbol-stroke-style="\'transparent\'" color-func="layer.color"\n                point-size-func="layer.size" symbol-func="layer.textSymbol" ng-repeat="layer in self.layers">\n            </scatter-layer>\n            <heat-map\n                min-val="self.getLeft()" max-val="self.getRight()"\n                min-y="self.getBottom()" max-y="self.getTop()"\n                loga="self.getLogaX()" ortho-loga="self.getLogaY()" update-trigger="self.propMapUpdateTrigger"\n                n-row="self.getRowsNumPropMap()" n-col="self.getColsNumPropMap()" cell-value-fn="self.cellValuePropMap" cell-color-fn="self.cellColorPropMap">\n            </heat-map>\n            <line-formula-layer min-val=\'self.getLeft()\' max-val="self.getRight()" min-draw=\'self.getLeft()\'\n                max-draw="self.getRight()" min-y="self.getBottom()" min-draw-y="self.getBottom()" max-y="self.getTop()"\n                max-draw-y="self.getTop()" ortho-loga="self.getLogaY()" loga="self.getLogaX()" formula="self.regLine"\n                eqn-offsets="[\'50px\', \'0%\']" line-color="self.regLine.lineStyle.lineColor"\n                line-dash="self.regLine.lineStyle.lineStyle.join(\' \')" line-width="self.regLine.lineStyle.lineWidth" show-equation=\'true\'\n                mse="self.mse" ng-if=\'self.regLine && self.regLine.family\' resolution=\'500\'>\n            </line-formula-layer>\n            <line-formula-layer min-val=\'self.getLeft()\' max-val="self.getRight()" min-draw=\'self.getLeft()\'\n                max-draw="self.getRight()" min-y="self.getBottom()" min-draw-y="self.getBottom()" max-y="self.getTop()"\n                max-draw-y="self.getTop()" ortho-loga="self.getLogaY()" loga="self.getLogaX()" formula="udl"\n                eqn-offsets="[\'65px\', self.eqnOffsetY(udlIdx)]" line-color="udl.lineStyle.lineColor"\n                line-dash="udl.lineStyle.lineStyle.join(\' \')" line-width="udl.lineStyle.lineWidth"\n                ng-repeat="(udlIdx, udl) in self.udls " show-equation=\'udl.displayEquation\' ng-show=\'!udl._notUsed\'\n                resolution=\'500\' ng-if="self.validPlotRegion()">\n            </line-formula-layer>\n            <line-formula-layer min-val=\'self.getLeft()\' max-val="self.getRight()" min-draw=\'self.getLeft()\'\n                max-draw="self.getRight()" min-y="self.getBottom()" max-y="self.getTop()" min-draw-y="self.getBottom()"\n                max-draw-y="self.getTop()" ortho-loga="self.getLogaY()" loga="self.getLogaX()" formula="pickett"\n                show-equation=\'false\' ng-repeat="(pickettIdx, pickett) in self.allPickettLines "\n                ng-if=\'self.validPlotRegion() && self.conditionForPickettPlot() && self.allPickettLines && !self.notShowPickett\' resolution=\'5000\'\n                line-label=\'pickett.label\' line-label-style="pickett.style" ng-show=\'pickett._used\'\n                line-color="self.pickettLineColor(pickett)">\n            </line-formula-layer>\n            <segment-layer min-val=\'self.getLeft()\' max-val="self.getRight()" min-draw=\'self.getLeft()\'\n                max-draw="self.getRight()" min-y="self.getBottom()" max-y="self.getTop()" min-draw-y="self.getBottom()"\n                max-draw-y="self.getTop()" ortho-loga="self.getLogaY()" loga="self.getLogaX()"\n                ng-if=\'self.validPlotRegion() && self.conditionForPickettPlot() && self.allPickettLines && !self.notShowPickett\'\n                ng-repeat="(pickettSetIdx, pickettSet) in self.pickettSets "\n                show-equation=\'false\'\n                points="self.pickettAdjusterArray[pickettSetIdx]"\n                ng-show=\'pickettSet._used\' mode="pickettSet._used ? \'edit\' : \'\'"\n                on-eqn-changed="self.getUpdatePickettParamsFn(pickettSetIdx)"\n                get-point-label="self.noLabel">\n            </segment-layer>\n            <polygon-layer ng-show="!polygon._notShow" min-val="self.getLeft()" max-val="self.getRight()"\n                min-y="self.getBottom()" max-y="self.getTop()" ng-repeat="polygon in self.polygons "\n                points="polygon.points" mode="polygon.mode" ortho-loga="self.getLogaY()" loga="self.getLogaX()"\n                fill-style="self.polygonFillStyle(polygon)" stroke-style="self.polygonStrokeStyle(polygon)"\n                show-coordinates="self.showTooltip" stroke-width="self.polygonStrokeWidth(polygon)">\n            </polygon-layer>\n            <overlay-line-layer ng-if="self.overlayLineSpec && self.overlayLineSpec.lines" min-val=\'self.getLeft()\' max-val="self.getRight()"\n                min-draw=\'self.getLeft()\' max-draw="self.getRight()" min-y="self.getBottom()"\n                min-draw-y="self.getBottom()" max-y="self.getTop()" max-draw-y="self.getTop()"\n                ortho-loga="self.getLogaY()" loga="self.getLogaX()" overlay-line-spec="self.overlayLineSpec">\n            </overlay-line-layer>\n            <polygon-layer ng-if="self.paramGroups && self.paramGroups.length" ng-show="!paramGroup._notShow"\n                ng-repeat="paramGroup in self.paramGroups "\n                min-val="self.getLeft()" max-val="self.getRight()"\n                min-y="self.getBottom()" max-y="self.getTop()"\n                points="self.paramGroupPointsFn(paramGroup, $index)" get-x-fn="self.getParamGroupX" get-y-fn="self.getParamGroupY"\n                set-x-fn="self.setParamGroupX" set-y-fn="self.setParamGroupY"\n                get-point-label="self.getParamGroupPointLabel"\n                params="[$index]"\n                mode="!paramGroup._notShow"\n                show-vertex="true" fill-style="\'transparent\'">\n            </polygon-layer>\n            <tooltip-layer ng-if="self.showTooltip" min-val="self.getLeft()" max-val="self.getRight()"\n                min-y="self.getBottom()" max-y="self.getTop()" loga="self.getLogaX()" ortho-loga="self.getLogaY()"\n                frequency-x-fn="self.getFrequencyX" frequency-y-fn="self.getFrequencyY" test-binding="self.getFrequencyX">\n            </tooltip-layer>\n        </layer-collection>\n        <p style="position: absolute; font-weight: bold; left: 50%; transform: translateX(-50%); bottom: 0">\n            {{self.getConfigXLabel()}} ({{ self.config.xUnit || self.defaultConfig.xUnit }})</p>\n        <p style="position: absolute; top: 23px; right: 45%;text-transform: uppercase; font-weight: bold; transform: translateY(-50%);">\n            {{self.getConfigTitle()}}</p>\n        <p style="position: absolute;left: 18px; top: 50%;font-weight: bold;transform: translate(-50%, -50%) rotate(-90deg);">\n            {{self.getConfigYLabel()}} ({{ self.config.yUnit || self.defaultConfig.yUnit }})</p>\n    </div>\n\n    <div class="axis-info" ng-if="(self.getSelectionValue(\'Z1\').isUsed && self.zColors) || (self.getSelectionValue(\'Z2\').isUsed && self.zSizes) || (self.getSelectionValue(\'Z3\').isUsed && self.zSymbols)">\n        <div class="axis-Z" ng-if="self.getSelectionValue(\'Z1\').isUsed && self.zColors">\n            <div class="axis axis-type label">\n                <span class="ellipsis-text">\n                        {{ self.getConfigZ1Label() }}\n                </span>\n            </div>\n            <div style="display: flex; flex: 1;">\n                <div class="axis axis-min label">\n                    <span class="ellipsis-text">\n                            {{ self.getZ1Min() }}\n                    </span>\n                </div>\n                <div style="display: flex; flex: 1;position: relative;">\n                    <div style="display: flex; flex: 1; z-index: 1; ">\n                        <div class="axis axis-line" ng-repeat="segColor in self.zColors "\n                            ng-style="{\'background-color\':segColor}">\n                            <span></span>\n                        </div>\n                    </div>\n                </div>\n                <div class="axis axis-max label" style="margin-right: 0;">\n                    <span class="ellipsis-text">\n                            {{ self.getZ1Max() }}\n                    </span>\n                </div>\n            </div>\n\n        </div>\n        <div class="axis-Z" ng-if="self.getSelectionValue(\'Z2\').isUsed && self.zSizes">\n            <div class="axis axis-type label">\n                <span class="ellipsis-text">\n                        {{ self.getConfigZ2Label() }}\n                </span>\n            </div>\n            <div style="display: flex; flex: 1;">\n                <div class="axis axis-min label">\n                    <span class="ellipsis-text">\n                            {{ self.getZ2Min() }}\n                    </span>\n                </div>\n                <div style="display: flex; flex: 1;position: relative;">\n                    <div style="display: flex; flex: 1; z-index: 1; ">\n                        <div class="axis axis-line" ng-repeat="segSize in self.zSizes ">\n                            <span>{{segSize}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="axis axis-max label" style="margin-right: 0;">\n                    <span class="ellipsis-text">\n                            {{ self.getZ2Max() }}\n                    </span>\n                </div>\n            </div>\n\n        </div>\n        <div class="axis-Z" style="margin-bottom: 0;" ng-if="self.getSelectionValue(\'Z3\').isUsed && self.zSymbols">\n            <div class="axis axis-type label">\n                <span class="ellipsis-text">\n                        {{ self.getConfigZ3Label() }}\n                </span>\n            </div>\n            <div style="display: flex; flex: 1;">\n                <div class="axis axis-min label">\n                    <span class="ellipsis-text">\n                            {{ self.getZ3Min() }}\n                    </span>\n                </div>\n                <div style="display: flex; flex: 1;position: relative;">\n                    <div style="display: flex; flex: 1; z-index: 1; ">\n                        <div class="axis axis-line" ng-repeat="segSymbol in self.zSymbols ">\n                            <span>{{segSymbol}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="axis axis-max label" style="margin-right: 0;">\n                    <span class="ellipsis-text">\n                            {{ self.getZ3Max() }}\n                    </span>\n                </div>\n            </div>\n\n        </div>\n    </div>\n    <div class="statistic-table" resizable r-directions="[\'top\']" r-flex="true">\n        <div style="overflow-x: auto; position: absolute; top: 0; right: 0; left: 0; bottom: 0;">\n            <wi-table-view ng-if="self.layers.length" row-count="self.getZoneNames().length"\n                col-count="self.getHeaders().length" col-headers="self.getHeaders()"\n                get-row-icons="self.getStatsRowIcons" get-row-icon-style="self.getStatsIconStyle"\n                row-headers="self.getZoneNames()" accessor="self.statsValue" valid-row="self.isLayerUsed">\n            </wi-table-view>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){e.exports='\x3c!-- <side-bar my-default-width="420" orientation="w" collapsed="false" ng-if="self.familyTable && self.pals"> --\x3e\n<side-bar my-default-width="420" orientation="w" collapsed="false">\n    <div style="display: flex; flex-direction: column; height: 100%;flex: 1;">\n        <div style="display: flex; flex-direction: column; width: 100%; height: 100%;">\n            \x3c!-- -----WELLS----- --\x3e\n            <div ng-show="isSet(1)" style="overflow: auto;flex: 1;display:flex;flex-direction:column;">\n                '+n(12)+'\n            </div>\n            \x3c!-- -----ZONE----- --\x3e\n            <div ng-show="isSet(2)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(13)+'\n            </div>\n            \x3c!-- -----CONFIG----- --\x3e\n            <div ng-show="isSet(3)" style="overflow: hidden; flex: 1; display: flex; flex-direction: column;">\n                '+n(14)+'\n            </div>\n            \x3c!-- -----FORMULA----- --\x3e\n            <div ng-show="isSet(4)"\n                style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(15)+'\n            </div>\n            \x3c!-- -----REGRESSION----- --\x3e\n            <div ng-show="isSet(5)" ng-if="self.getColorPalette();"\n                style="overflow: auto;flex: 1; display: flex; flex-direction: column;">\n                '+n(16)+'\n            </div>\n            \x3c!-- -----LAYERS----- --\x3e\n            <div ng-show="isSet(6)"\n                style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(17)+'\n            </div>\n            \x3c!-- -----PRINT SETTINGS----- --\x3e\n            <div ng-show="isSet(7)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(18)+'\n            </div>\n            \x3c!-- -----Overlay Line----- --\x3e\n            <div ng-show="isSet(8)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(19)+'\n            </div>\n            \x3c!-- -----Pickett Line----- --\x3e\n            <div ng-show="isSet(9)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(20)+'\n            </div>\n            \x3c!-- ---- PARAMETERS ----- --\x3e\n            <div ng-if="self.paramGroups && self.paramGroups.length" ng-show="isSet(10)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n                '+n(21)+'\n            </div>\n            \x3c!-- -----Probability Map----- --\x3e\n            <div ng-show="isSet(10)"\n                style="overflow: auto;flex: 1; display: flex; flex-direction: column;">\n                '+n(22)+'\n            </div>\n        </div>\n        <div style="display: flex;" >\n            <span class="button-update" ng-class="{\'disabled-click\': !self.isSettingChange}"\n                ng-click="self.genLayers()">\n                Update\n            </span>\n        </div>\n    </div>\n    <div class="label-list-view" style="   \n            display: flex;\n            border-left: 1px solid #e4e4e4;\n            flex-direction: column;\n            justify-content: start;\n            padding: 0px;\n            right: 0;\n            min-width: 40px;\n            background: #fff;\n            overflow-y: overlay;\n            overflow-x: hidden;\n            position: sticky;\n            box-shadow: 0 10px 10px #00000017;">\n        <div style="\n            transform-origin: left;\n            transform: translate(20px, -50%) rotate(90deg);\n            display: flex;\n            position: absolute;">\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(1)}" ng-click="setTab(1)">\n                <div >\n                    Wells\n                </div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(3)}" ng-click="setTab(3)">\n                <div>\n                    Configuration\n                </div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(2)}" ng-click="setTab(2)" ng-show="!self.paramGroups || !self.paramGroups.length">\n                <div >\n                    Zone\n                </div>\n            </div>\n            \x3c!--<div ng-if="self.paramGroups && self.paramGroups.length" class="tab-with-label" ng-class="{\'active\' : isSet(10)}" ng-click="setTab(10)">--\x3e\n                \x3c!--<div>Parameters</div>--\x3e\n            \x3c!--</div>--\x3e\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(4)}" ng-click="setTab(4)">\n                <div>Formula</div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(5)}" ng-click="setTab(5)">\n                <div>Regression Line</div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(10)}" ng-click="setTab(10)">\n                <div>Probability Map</div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(6)}" ng-click="setTab(6)">\n                <div >\n                    Layers\n                </div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(8)}" ng-click="setTab(8)">\n                <div >\n                    Overlay Line\n                </div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(9)}" ng-click="setTab(9)" ng-if=\'self.showPickettTabCondition()\'>\n                <div >\n                    Pickett Plot\n                </div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(7)}" ng-click="setTab(7)">\n                <div >\n                    Print Setting\n                </div>\n            </div>\n        </div>\n    </div>\n </side-bar>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Wells</div>\n</div>\n<div class="label-option-sidebar"\n    style=" margin-top: 5px;padding-bottom: 5px; display: flex; justify-content: space-between;">\n    <span>Input</span>\n    <div>\n        <span ng-class="{\'active\' : self.selectionType === \'family-group\'}"\n            ng-click="self.selectionType=\'family-group\'" class="button-with-label"\n            style="margin-right: 8px;">Family Group</span>\n        <span ng-class="{\'active\' : self.selectionType === \'family\'}"\n            ng-click="self.selectionType=\'family\'" class="button-with-label"\n            style="margin-right: 8px;">Family</span>\n        <span ng-class="{\'active\' : self.selectionType === \'curve\'}"\n            ng-click="self.selectionType=\'curve\'" class="button-with-label">Curve</span>\n    </div>\n</div>\n<div class="label-option-sidebar"\n    style="display: flex; justify-content: space-between; padding-top: 20px;">\n    <span>Scale Axis</span>\n    <div>\n        <span ng-class="{\'active\' : self.getSelectionValue(\'Z1\').isUsed}" style="margin-right: 8px;"\n            ng-click="self.getSelectionValue(\'Z1\').isUsed = !self.getSelectionValue(\'Z1\').isUsed" class="button-with-label">\n            Color Z1\n        </span>\n        <span ng-class="{\'active\' : self.getSelectionValue(\'Z2\').isUsed}" style="margin-right: 8px;"\n            ng-click="self.getSelectionValue(\'Z2\').isUsed = !self.getSelectionValue(\'Z2\').isUsed" class="button-with-label">\n            Point Size Z2\n        </span>\n        <span ng-class="{\'active\' : self.getSelectionValue(\'Z3\').isUsed}" style="margin-right: 8px;"\n            ng-click="self.getSelectionValue(\'Z3\').isUsed = !self.getSelectionValue(\'Z3\').isUsed" class="button-with-label">\n            Label Z3\n        </span>\n    </div>\n</div>\n<div style="padding: 8px 15px;" class="label-option-sidebar"\n    ng-repeat="selectionValue in self.selectionValueList"\n    ng-show="selectionValue.isUsed">\n    <div class="selection-sidebar">\n        <span>{{selectionValue.label}}</span>\n        <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.selectionList\'\n            current-select="selectionValue.value"\n            on-item-changed="selectionValue.onChange">\n        </wi-dropdown-list>\n    </div>\n</div>\n<div style="overflow: overlay; display:flex; flex-direction: column;">\n    <wi-sortable item-list="self.treeConfig" related-list="[self.wellSpec]" update-fn="self.sortableUpdate">\n        <div class="sort-item" style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px; cursor: pointer;"\n            ng-repeat=\'well in self.treeConfig\'>\n            <div style="display: flex; flex-direction: row;padding: 10px;background: #f4f4f4; align-items: center;justify-content: space-between;text-align: center;">\n                    <div style=" display: flex;align-items: center;">\n                        <i class="header-icon"\n                            ng-class="{\'fa fa-caret-down\': well._notHidden, \'fa fa-caret-right\': !well._notHidden}"\n                            ng-click="well._notHidden = !well._notHidden"></i>\n                        <div ng-bind="well.name" style="font-weight: bold; max-width: 120px; white-space: nowrap;text-overflow: ellipsis; overflow: hidden;"></div>\n                    </div>\n\n                    <div>\n                        <span\n                            ng-class="{\'red-color fa fa-eye-slash\': well._notUsed, \'blue-color fa fa-eye\': !well._notUsed }"\n                            ng-click="self.toggleWell(well)"\n                            style="cursor: pointer; margin-right: 15px;">\n                        </span>\n                        <span class="fa fa-filter"\n                            ng-class="{\'blue-color\': self.hasDiscriminator(well)}"\n                            ng-click="self.discriminatorDialog(well)"\n                            style="cursor: pointer; margin-right: 17px;">\n                        </span>\n                        <span class="fa fa-times-circle" ng-click="self.removeWell(well)"\n                            style="color: rgb(163, 163, 163);cursor: pointer;margin-right: 5px;">\n                        </span>\n                    </div>\n            </div>\n            <div style="display: flex; flex-direction: row ; flex-wrap: wrap; max-width: 420px; background: #f4f4f4; align-items: center;justify-content: flex-start;text-align: center;">\n                <div class="axis-bar" ng-class=\'{"selected": well.isSettingAxis == selectionValue.name}\'\n                    ng-click="well.isSettingAxis = selectionValue.name"\n                    ng-repeat="selectionValue in self.selectionValueList" ng-show="selectionValue.isUsed">\n                    <div ng-bind="selectionValue.name" style="font-weight: bold;"></div>\n                    <div style="margin: 0 10px; max-width: 70px; flex: 1;white-space: nowrap; text-overflow: ellipsis; overflow: hidden;"\n                        ng-bind="self.getWellSpec(well)[self.getAxisKey(selectionValue.name)].datasetName"></div>\n                    <div ng-bind="self.getCurve(well, self.getAxisKey(selectionValue.name)).name"></div>\n                </div>\n            </div>\n            <wi-tree-view-virtual ng-show="well._notHidden" tree-root="well" get-label="self.getLabel"\n                filter="self.getFilterForWell(self.getAxisKey(well.isSettingAxis))" get-icon="self.getIcon"\n                get-children="self.getChildren" keep-children=\'true\' uncollapsible=\'true\'\n                run-match="self.runWellMatch" hide-unmatched="true" hide-search=\'true\'\n                click-fn=\'self.clickFunction\' collapsed="false">\n            </wi-tree-view-virtual>\n        </div>\n    </wi-sortable>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Zone</div>\n</div>\n<div class="label-option-sidebar">\n    <div class="selection-sidebar">\n        <span>Zoneset</span>\n        <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.zonesetList\'\n            current-select="self.zonesetName"\n            on-item-changed="self.onZonesetSelectionChanged">\n        </wi-dropdown-list>\n    </div>\n</div>\n<div style="display: flex; padding: 0 15px 10px 15px;">\n    <span ng-click="self.hideSelectedZone()" class="button-with-label-layer"\n        style="margin-left: 0;">Deactivate</span>\n    <span ng-click="self.showSelectedZone()" class="button-with-label-layer"\n        style="margin-left: 10px;">Activate</span>\n    <span ng-click="self.hideAllZone()" class="button-with-label-layer"\n        style="margin-left: 10px;">Deactivate All</span>\n    <span ng-click="self.showAllZone()" class="button-with-label-layer"\n        style="margin-left: 10px;">Activate All</span>\n</div>\n<div ng-show="self.zoneTreeUniq"\n    style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px;flex: 1;overflow: auto; " class="disable-node-caret">\n    <wi-tree-view-virtual tree-root="self.zoneTreeUniq" get-label="self.getZoneLabel"\n        filter="self.zoneFilter" get-icon="self.getZoneIcon" get-children="self.noChildren"\n        keep-children=\'true\' run-match="self.runZoneMatch" hide-unmatched="true"\n        hide-search=\'false\' click-fn=\'self.click2ToggleZone\'>\n    </wi-tree-view-virtual>\n</div>\n<div ng-hide="self.zoneTreeUniq" style="border: 1px solid #e4e4e4; margin: 5px 15px;">\n    zonationAll\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>\n        Configuration\n    </div>\n</div>\n<div style="overflow: auto;">\n    <div class="label-option-sidebar" style="padding: 15px 15px 0 15px;">\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'Title\'" item-value="self.getConfigTitle"\n                set-value="self.setConfigTitle" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n    </div>\n\n    <div class="label-option-sidebar" style="padding: 0 15px;">\n            <div style="display: flex;margin: 15px 0;">X-Axis Scale\n                    <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n                    </div>\n                </div>\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'X Label\'" item-value="self.getConfigXLabel"\n                set-value="self.setConfigXLabel" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div class="selection-sidebar" style="flex: 1;">\n            <span>Unit</span>\n            <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.xUnitList\'\n                current-select="self.config.xUnit || self.defaultConfig.xUnit" on-item-changed="self.onXUnitChange">\n            </wi-dropdown-list>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div style="display: flex;">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Left\'" item-value="self.getLeft" set-value="self.setConfigLeft" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n                <div style="margin-right: 15px; "></div>\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Right\'" item-value="self.getRight"\n                        set-value="self.setConfigRight" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div style="display: flex;">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;flex: 1;">\n                        <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                            item-label="\'Major X\'" item-value="self.getMajorX"\n                            set-value="self.setConfigMajorX" enabled="true" label-style="{}"\n                            content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                        </editable>\n                    </div>\n                    <div style="margin-right: 15px; "></div>\n                    <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;flex: 1;">\n                        <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                            item-label="\'Minor X\'" item-value="self.getMinorX"\n                            set-value="self.setConfigMinorX" enabled="true" label-style="{}"\n                            content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                        </editable>\n                    </div>\n        </div>\n    </div>\n\n    <div class="label-option-sidebar" style="padding: 0 15px;">\n        <div style="display: flex;margin: 15px 0;">Y-Axis Scale\n            <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'Y Label\'" item-value="self.getConfigYLabel"\n                set-value="self.setConfigYLabel" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div class="selection-sidebar" style="flex: 1;">\n            <span>Unit</span>\n            <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.yUnitList\'\n                current-select="self.config.yUnit || self.defaultConfig.yUnit" on-item-changed="self.onYUnitChange">\n            </wi-dropdown-list>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div style="display: flex;">\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;flex: 1;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Bottom\'" item-value="self.getBottom"\n                    set-value="self.setConfigBottom" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n            <div style="margin-right: 15px; "></div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Top\'" item-value="self.getTop" set-value="self.setConfigTop"\n                    enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n        </div>\n\n\n        <div style="margin-bottom: 15px; "></div>\n        <div style="display: flex;">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                        <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                            item-label="\'Major Y\'" item-value="self.getMajorY"\n                            set-value="self.setConfigMajorY" enabled="true" label-style="{}"\n                            content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                        </editable>\n                    </div>\n                    <div style="margin-right: 15px; "></div>\n                    <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;flex: 1;">\n                        <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                            item-label="\'Minor Y\'" item-value="self.getMinorY"\n                            set-value="self.setConfigMinorY" enabled="true" label-style="{}"\n                            content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                        </editable>\n                    </div>\n\n        </div>\n\n    </div>\n    <div ng-show="self.getSelectionValue(\'Z1\').isUsed">\n        <div class="label-option-sidebar" style="padding: 0 15px;">\n            <div style="display: flex;margin: 15px 0;">Color Z1\n                    <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n                    </div>\n            </div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Color Z1 Label\'" item-value="self.getConfigZ1Label"\n                    set-value="self.setConfigZ1Label" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div class="selection-sidebar" style="flex: 1;">\n                <span>Unit</span>\n                <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.z1UnitList\'\n                    current-select="self.config.z1Unit || self.defaultConfig.z1Unit" on-item-changed="self.onZ2UnitChange">\n                </wi-dropdown-list>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div style="display: flex;">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Min\'" item-value="self.getZ1Min" set-value="self.setZ1Min"\n                        enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n                <div style="margin-right: 15px; "></div>\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Max\'" item-value="self.getZ1Max"\n                        set-value="self.setZ1Max" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'N\'" item-value="self.getZ1N"\n                    set-value="self.setZ1N" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}"\n                    edit-type="\'number\'" min-value="1" max-value="10">\n                </editable>\n            </div>\n        </div>\n        <div class="label-option-sidebar"\n             style="padding: 15px 15px 5px 15px; display: flex; justify-content: space-between;  flex-direction: column;">\n            <div>\n                <div class="selection-sidebar" >\n                    <span>Color Palette</span>\n                    <wi-dropdown-list style="flex:1; margin-left: 10px;"\n                          current-select="self.config.currentPalName"\n                          on-item-changed="self.onChangePal"\n                          on-wi-dropdown-init="self.onPalsDropdownInit">\n                    </wi-dropdown-list>\n                </div>\n            </div>\n        </div>\n        \x3c!-- <div style="padding: 15px 20px; display: flex; justify-content: space-between;  flex-direction: column;">\n            <span ng-class="{}" style="margin-right: 8px;"\n                ng-click="self.modifyColorZ1()" class="button-with-label">Modify Color</span>\n        </div> --\x3e\n    </div>\n    <div ng-show="self.getSelectionValue(\'Z2\').isUsed">\n        <div class="label-option-sidebar" style="padding: 0 15px;">\n            <div style="display: flex;margin: 15px 0;">Point Size Z2\n                <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n                </div>\n            </div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Point Size Z2 Label\'" item-value="self.getConfigZ2Label"\n                    set-value="self.setConfigZ2Label" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div class="selection-sidebar" style="flex: 1;">\n                <span>Unit</span>\n                <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.z2UnitList\'\n                    current-select="self.config.z2Unit || self.defaultConfig.z2Unit" on-item-changed="self.onZ2UnitChange">\n                </wi-dropdown-list>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div style="display: flex;">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Min\'" item-value="self.getZ2Min" set-value="self.setZ2Min"\n                        enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n                <div style="margin-right: 15px; "></div>\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Max\'" item-value="self.getZ2Max"\n                        set-value="self.setZ2Max" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'N\'" item-value="self.getZ2N"\n                    set-value="self.setZ2N" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}"\n                    edit-type="\'number\'" min-value="1" max-value="10">\n                </editable>\n            </div>\n        </div>\n    </div>\n    <div ng-show="self.getSelectionValue(\'Z3\').isUsed">\n        <div class="label-option-sidebar" style="padding: 0 15px;">\n            <div style="display: flex;margin: 15px 0;">Label Z3\n                <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n                </div>\n            </div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Label Z3 Label\'" item-value="self.getConfigZ3Label"\n                    set-value="self.setConfigZ3Label" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div class="selection-sidebar" style="flex: 1;">\n                <span>Unit</span>\n                <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.z3UnitList\'\n                                  current-select="self.config.z3Unit || self.defaultConfig.z3Unit" on-item-changed="self.onZ3UnitChange">\n                </wi-dropdown-list>\n            </div>\n            <div style="margin-bottom: 15px; "></div>\n            <div style="display: flex;">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Min\'" item-value="self.getZ3Min" set-value="self.setZ3Min"\n                        enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n                <div style="margin-right: 15px; "></div>\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Max\'" item-value="self.getZ3Max"\n                        set-value="self.setZ3Max" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n            </div>\n\n            <div style="margin-bottom: 15px; "></div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'N\'" item-value="self.getZ3N"\n                    set-value="self.setZ3N" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}"\n                    edit-type="\'number\'" min-value="1" max-value="10">\n                </editable>\n            </div>\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 15px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Point Size\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Point Size\'" item-value="self.getPointSize" set-value="self.setPointSize" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 15px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Log scales\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <span ng-class="{\'active\' : self.getLogaX()}" style="margin-right: 8px;"\n                ng-click="self.config.logaX=!self.config.logaX" class="button-with-label">Loga\n                X</span>\n            <span ng-class="{\'active\' : self.getLogaY()}" style="margin-right: 8px;"\n                ng-click="self.config.logaY=!self.config.logaY" class="button-with-label">Loga\n                Y</span>\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 15px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Color Mode\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <span ng-class="{\'active\' : self.config.colorMode === \'zone\'}"\n                ng-click="self.config.colorMode=\'zone\'" class="button-with-label"\n                style="margin-right: 8px;"> Zone Color</span>\n            <span ng-class="{\'active\' : self.config.colorMode === \'well\'}"\n                style="margin-right: 8px;" ng-click="self.config.colorMode=\'well\'"\n                class="button-with-label">Well Color</span>\n            <span ng-class="{\'active\' : self.config.colorMode === \'index\'}"\n                style="margin-right: 8px;" ng-click="self.config.colorMode=\'index\'"\n                class="button-with-label">Index Color</span>\n            \x3c!-- <span ng-class="{\'active\' : self.config.colorMode === \'user\'}"\n                ng-click="self.config.colorMode=\'user\'" class="button-with-label">User\n                Defined</span> --\x3e\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 15px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Reverse Axis\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <span ng-click="self.reverseAxis()" class="button-with-label"\n                style="margin-right: 8px;">Reverse Axis</span>\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 15px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Table Information\n            <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div style="display: flex; flex-wrap: wrap;">\n            <span ng-repeat="(headerIdx, header) in self.statisticHeaders"\n                class="select-table-header" ng-class="{\'active\' : self.statisticHeaderMasks[headerIdx]}"\n                ng-click="self.statisticHeaderMasks[headerIdx]= !self.statisticHeaderMasks[headerIdx]">\n                {{header}}</span>\n        </div>\n    </div>\n</div>\n\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>\n        Formular: {{self.udls.name}}\n    </div>\n</div>\n<div style="display: flex; padding: 15px;">\n    <span ng-click="self.addUDL()" class="button-with-label-layer"\n        style="margin-left: 0px;">Add</span>\n    <span ng-click="self.saveUDL()" class="button-with-label-layer"\n        style="margin-left: 15px;">Save</span>\n    <span ng-click="self.saveAsUDL()" class="button-with-label-layer"\n        style="margin-left: 15px;">Save As</span>\n    <span ng-click="self.loadUDL()" class="button-with-label-layer"\n        style="margin-left: 15px;">Load</span>\n</div>\n\x3c!-- <div style="margin: 15px;" class=\'bottom-add\' ng-click="self.addUDL()">Add</div>\n<div style="margin: 15px;" class=\'bottom-add\' ng-click="self.saveUDL()">Save</div>\n<div style="margin: 15px;" class=\'bottom-add\' ng-click="self.saveAsUDL()">Save As</div>\n<div style="margin: 15px;" class=\'bottom-add\' ng-click="self.loadUDL()">Load</div> --\x3e\n<div class="label-option-sidebar" style="overflow: auto;">\n    <div style="overflow: overlay;">\n        <div class="list-formular" ng-repeat="udl in self.udls">\n            <div class="selection-sidebar"\n                style="padding: 9px 10px 5px 10px; flex: 4; margin-right: 15px; border: none;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Y = \'" item-value="self.getFnUDL" params="$index"\n                    set-value="self.setFnUDL" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'left\'}">\n                </editable>\n            </div>\n            <div class="selection-sidebar"\n                style="padding: 9px 10px 5px 10px; cursor: pointer; flex: 1; border: none;">\n                <span\n                    ng-class="{\'red-color ti ti-layout-cta-left\': !udl.displayEquation, \'blue-color ti ti-layout-cta-left\': udl.displayEquation }"\n                    ng-click="udl.displayEquation = !udl.displayEquation"\n                    style="cursor: pointer; margin-right: 15px; margin-top: -5px;">\n                </span>\n                <span\n                    ng-class="{\'red-color fa fa-eye-slash\': udl._notUsed, \'blue-color fa fa-eye\': !udl._notUsed }"\n                    ng-click="udl._notUsed = !udl._notUsed"\n                    style="cursor: pointer; margin-right: 15px; margin-top: -5px;">\n                </span>\n                <line-style style="min-width: 30px;" bind-line-style="udl.lineStyle"></line-style>\n            </div>\n            <div class="fa fa-times delete-button" ng-click="self.removeUDL($index)"></div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>\n        Regression Line\n    </div>\n</div>\n<div style="padding: 15px 15px 10px;" class="label-option-sidebar">\n    <div class="selection-sidebar">\n        <span>Type</span>\n        <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.regressionTypeList\'\n            current-select="self.regressionType"\n            on-item-changed="self.onRegressionTypeChange">\n        </wi-dropdown-list>\n    </div>\n</div>\n<div class="label-option-sidebar"\n    style="padding: 0 15px 10px; display: flex; justify-content: space-between;  flex-direction: column;">\n    <div ng-if="self.regressionType == \'Polynomial\'">\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'Order\'" item-value="self.getPolynomialOrder" set-value="self.setPolynomialOrder" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n    </div>\n    <div style="display: flex;" ng-if="self.regressionType != \'Polynomial\'">\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'FitX\'" item-value="self.getFitX"\n                set-value="self.setFitX" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n        <div style="margin-right: 15px; "></div>\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'FitY\'" item-value="self.getFitY"\n                set-value="self.setFitY" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n    </div>\n</div>\n<div style="display: flex; padding: 0 15px 10px 15px;">\n    <span ng-click="self.hideSelectedRegression()" class="button-with-label-layer"\n        style="margin-left: 0;">Deactivate</span>\n    <span ng-click="self.showSelectedRegression()" class="button-with-label-layer"\n        style="margin-left: 10px;">Activate</span>\n    <span ng-click="self.hideAllRegression()" class="button-with-label-layer"\n        style="margin-left: 10px;">Deactivate All</span>\n    <span ng-click="self.showAllRegression()" class="button-with-label-layer"\n        style="margin-left: 10px;">Activate All</span>\n</div>\n<div ng-if="self.regLine && self.regLine.lineStyle" style="display: flex; padding: 0 15px 10px 15px;">\n    <line-style style="width: 100%; padding: 0 15px;" bind-line-style="self.regLine.lineStyle"></line-style>\n</div>\n<div ng-show="self.layers"\n    style="border: 1px solid #e4e4e4;margin:0 15px;border-radius: 2px;flex: 1;overflow: hidden; " class="disable-node-caret">\n    <wi-tree-view-virtual tree-root="self.getLayerTree()" get-label="self.getLayerLabel"\n        filter="self.layerFilter" get-icon="self.getRegIcon"\n        get-icons="self.getRegIcons" icon-style="self.getRegIconStyle" get-children="self.noChildren" keep-children=\'true\'\n        run-match="self.runLayerMatch" hide-unmatched="true" hide-search=\'false\'\n        click-fn=\'self.click2ToggleRegression\'>\n    </wi-tree-view-virtual>\n</div>\n<div class="label-option-sidebar"\n    style="padding: 15px; display: flex; flex-direction: column; overflow: auto; flex: 1;">\n    <div style="display: flex;margin-bottom: 0;align-items: center;">Polygon\n        <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin: 9px;"></div>\n        <div class="ti ti-plus add-polygon" ng-click="self.addPolygon()"></div>\n    </div>\n\n    <div style="overflow: auto; padding-top: 15px;">\n        <div class="list-polygon" ng-repeat="polygon in self.polygons">\n            <div style="margin: 0 10px; border: none;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="" item-value="polygon.label" params="$index"\n                    set-value="self.setPolygonLabel" enabled="true" label-style="{}"\n                    content-style="self.polygonContentStyle(polygon)">\n                </editable>\n            </div>\n            <div style="display: flex;">\n                <div ng-class="{\'red-color\': !polygon.exclude, \'blue-color \': polygon.exclude }"\n                    class="button-list-polygon ti ti-control-play"\n                    title="Include"\n                    ng-click="polygon.exclude = !polygon.exclude" >\n                </div>\n                <div ng-class="{\'red-color\': polygon._notUsed, \'blue-color \': !polygon._notUsed }"\n                    ng-click="polygon._notUsed = !polygon._notUsed"\n                    title="Use"\n                    class="button-list-polygon ti ti-check">\n                </div>\n                <div ng-class="{\'red-color \': polygon._notShow, \'blue-color \': !polygon._notShow }"\n                    class="button-list-polygon ti ti-eye"\n                    title="Show/hide"\n                    ng-click="polygon._notShow = !polygon._notShow">\n                </div>\n                <div ng-class="{\'red-color\': !polygon.mode, \'blue-color\': polygon.mode == \'edit\' }"\n                    class="button-list-polygon ti ti-pencil"\n                    title="Edit"\n                    ng-click="self.toggleEditPolygon(polygon)">\n                </div>\n                <div\n                    class="button-list-polygon ti ti-close"\n                    title="Close"\n                    ng-click="self.removePolygon($index)">\n                </div>\n            </div>\n            \x3c!-- <div style="cursor: pointer; flex: 1; border: none;">\n                <span ng-class="{\'active\' : true}" style="margin-right: 8px;"\n                    ng-click="polygon.exclude = !polygon.exclude" class="button-with-label">\n                    {{ polygon.exclude ? \'Exclude\' : \'Include\' }}\n                </span>\n                <span\n                    ng-class="{\'red-color fa fa-check\': polygon._notUsed, \'blue-color fa fa-check\': !polygon._notUsed }"\n                    ng-click="polygon._notUsed = !polygon._notUsed"\n                    style="cursor: pointer; margin-right: 15px;">\n                </span>\n                <span\n                    ng-class="{\'red-color fa fa-eye-slash\': polygon._notShow, \'blue-color fa fa-eye\': !polygon._notShow }"\n                    ng-click="polygon._notShow = !polygon._notShow"\n                    style="cursor: pointer; margin-right: 15px;">\n                </span>\n                <span\n                    ng-class="{\'red-color fa fa-edit\': !polygon.mode, \'blue-color fa fa-edit\': polygon.mode == \'edit\' }"\n                    ng-click="self.toggleEditPolygon(polygon)"\n                    style="cursor: pointer; margin-right: 15px;">\n                </span>\n            </div>\n            <div class="fa fa-times delete-button" ng-click="self.removePolygon($index)"></div> --\x3e\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Layer Setting</div>\n</div>\n<div style="display: flex; padding: 16px 16px 10px 16px;">\n    <span ng-click="self.hideSelectedLayer()" class="button-with-label-layer"\n        style="margin-left: 0px;">Deactivate</span>\n    <span ng-click="self.showSelectedLayer()" class="button-with-label-layer"\n        style="margin-left: 15px;">Activate</span>\n    <span ng-click="self.hideAllLayer()" class="button-with-label-layer"\n        style="margin-left: 15px;">Deactivate All</span>\n    <span ng-click="self.showAllLayer()" class="button-with-label-layer"\n        style="margin-left: 15px;">Activate All</span>\n</div>\n<div ng-show="self.layers"\n    style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px;flex: 1;overflow: auto; " class="disable-node-caret">\n    <wi-tree-view-virtual tree-root="self.getLayerTree()" get-label="self.getLayerLabel"\n        filter="self.layerFilter" get-icon="self.getLayerIcon"\n        get-icons="self.getLayerIcons" icon-style="self.getLayerIconStyle" get-children="self.noChildren" keep-children=\'true\'\n        run-match="self.runLayerMatch" hide-unmatched="true" hide-search=\'false\'\n        click-fn=\'self.click2ToggleLayer\'>\n    </wi-tree-view-virtual>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Print Setting</div>\n</div>\n<print-settings style="overflow: auto;" plot-ctrl="self"></print-settings>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Overlay Line</div>\n</div>\n<div style="margin: 15px;overflow: hidden;border: 1px solid #ddd;border-radius: 2px; flex: 1;" class="disable-node-caret">\n    <wi-tree-view-virtual tree-root="self.listOverlayLine" \n        get-label="self.getOvlLabel" get-icon="self.getOvlIcon"\n        get-children="self.getOvlChildren" keep-children=\'true\' uncollapsible=\'true\'\n        run-match="self.runOvlMatch" hide-unmatched="true" hide-search=\'false\'\n        click-fn=\'self.clickOvlFunction\'\n        vlist-height="500">\n    </wi-tree-view-virtual>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>\n        Picket Plot\n    </div>\n</div>\n<div style="padding-bottom:0;" class="label-option-sidebar">\n    <div>\n        <div class="switch-label">\n           Show Pickett\n            <label class="switch">\n                      <input type="checkbox" checked>\n                      <span class="slider round" ng-click="self.notShowPickett = !self.notShowPickett"></span>\n            </label>\n        </div>\n        <div\n            style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-bottom: 6px; margin-top: 18px;">\n        </div>\n    </div>\n</div>\n<div style="display: flex; flex-direction: column; height: 100%;">\n        <div style="flex: 1; overflow: auto;">\n            <div style="margin: 15px;margin-bottom:0;" class=\'bottom-add\' ng-click="self.addPickettSet()">Add</div>\n            <div style="overflow: overlay; display:flex; flex-direction: column;">\n                <div style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px; cursor: pointer;"\n                    ng-repeat=\'(pickettSetIdx, pickettSet) in self.pickettSets\'>\n                    <div style="display: flex; flex-direction: row;padding: 10px;background: #f4f4f4; align-items: center;justify-content: space-between;text-align: center;">\n                        <div style=" display: flex;align-items: center;">\n                            <i class="header-icon"\n                                ng-class="{\'fa fa-caret-down\': pickettSet._notHidden, \'fa fa-caret-right\': !pickettSet._notHidden}"\n                                ng-click="self.toggleShowPickettSet(pickettSetIdx)"></i>\n                            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;margin-top:5px;"\n                                item-label="\'Name: \'" item-value="self.pickettSetName" set-value="self.changePickettSetName" enabled="true" label-style="{}"\n                                content-style="{flex:1,float:\'none\',\'text-align\':\'left\'}" params="pickettSetIdx">\n                            </editable>\n                        </div>\n                        <div>\n                            <span\n                                ng-class="{\'red-color fa fa-eye-slash\': !pickettSet._used, \'blue-color fa fa-eye\': pickettSet._used }"\n                                ng-click="self.turnOnPickettSet(pickettSetIdx)"\n                                style="cursor: pointer; margin-right: 15px;">\n                            </span>\n                            <span class="fa fa-times-circle" ng-click="self.removePickettSet(pickettSetIdx)"\n                                style="color: rgb(163, 163, 163);cursor: pointer;margin-right: 5px;">\n                            </span>\n                        </div>\n                    </div>\n                    <div class="label-option-sidebar" ng-show="pickettSet._notHidden">\n                        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                                item-label="\'Rw\'" item-value="self.getRwParam" set-value="self.setRwParam" enabled="true" label-style="{}"\n                                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}" params="pickettSetIdx">\n                            </editable>\n                        </div>\n                        <div style="margin-bottom: 15px; "></div>\n                        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                                item-label="\'m\'" item-value="self.getMParam"\n                                set-value="self.setMParam" enabled="true" label-style="{}"\n                                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}" params="pickettSetIdx">\n                            </editable>\n                        </div>\n                        <div style="margin-bottom: 15px; "></div>\n                        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                                item-label="\'n\'" item-value="self.getNParam"\n                                set-value="self.setNParam" enabled="true" label-style="{}"\n                                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}" params="pickettSetIdx">\n                            </editable>\n                        </div>\n                        <div style="margin-bottom: 15px; "></div>\n                        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                                item-label="\'a\'" item-value="self.getAParam"\n                                set-value="self.setAParam" enabled="true" label-style="{}"\n                                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}" params="pickettSetIdx">\n                            </editable>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div resizable r-directions="[\'top\']" r-flex="true" style="flex-basis: 40%;">\n            <div style="margin: 15px;margin-bottom:0;" class=\'bottom-add\' ng-click="self.addSwParam()">Add</div>\n            <div style="overflow: overlay; display:flex; flex-direction: column;">\n                <div style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px; cursor: pointer;">\n                    <div style="display: flex; flex-direction: row;padding: 10px;background: #f4f4f4; align-items: center;justify-content: space-between;text-align: center;">\n                        <div style=" display: flex;align-items: center;">\n                            <i class="header-icon"\n                                ng-class="{\'fa fa-caret-down\': self._showSwParams, \'fa fa-caret-right\': !self._showSwParams}"\n                                ng-click="self._showSwParams = !self._showSwParams"></i>\n                            <div ng-bind="\'Sw Param List\'" style="font-weight: bold; max-width: 120px; white-space: nowrap;text-overflow: ellipsis; overflow: hidden;"></div>\n                        </div>\n                    </div>\n                    <div class="label-option-sidebar" ng-show="self._showSwParams">\n                        <div style="overflow: overlay;">\n                            <div class="list-formular" ng-repeat="(pickettIdx, pickett) in self.swParamList">\n                                <div class="selection-sidebar"\n                                    style="padding: 9px 10px 5px 10px; flex: 4; margin-right: 15px; border: none;">\n                                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                                        item-label="\'Sw\'" item-value="self.getSwParam" params="pickettIdx"\n                                        set-value="self.setSwParam" enabled="true" label-style="{}"\n                                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                                    </editable>\n                                </div>\n                                <div class="fa fa-times delete-button" ng-click="self.removeSwParam(pickettIdx)"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n</div>\n\x3c!--<div class="label-option-sidebar">--\x3e\n    \x3c!--<div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">--\x3e\n        \x3c!--<editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"--\x3e\n            \x3c!--item-label="\'Rw\'" item-value="self.getRwParam" set-value="self.setRwParam" enabled="true" label-style="{}"--\x3e\n            \x3c!--content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">--\x3e\n        \x3c!--</editable>--\x3e\n    \x3c!--</div>--\x3e\n    \x3c!--<div style="margin-bottom: 15px; "></div>--\x3e\n    \x3c!--<div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">--\x3e\n        \x3c!--<editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"--\x3e\n            \x3c!--item-label="\'m\'" item-value="self.getMParam"--\x3e\n            \x3c!--set-value="self.setMParam" enabled="true" label-style="{}"--\x3e\n            \x3c!--content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">--\x3e\n        \x3c!--</editable>--\x3e\n    \x3c!--</div>--\x3e\n    \x3c!--<div style="margin-bottom: 15px; "></div>--\x3e\n    \x3c!--<div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">--\x3e\n        \x3c!--<editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"--\x3e\n            \x3c!--item-label="\'n\'" item-value="self.getNParam"--\x3e\n            \x3c!--set-value="self.setNParam" enabled="true" label-style="{}"--\x3e\n            \x3c!--content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">--\x3e\n        \x3c!--</editable>--\x3e\n    \x3c!--</div>--\x3e\n    \x3c!--<div style="margin-bottom: 15px; "></div>--\x3e\n    \x3c!--<div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">--\x3e\n        \x3c!--<editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"--\x3e\n            \x3c!--item-label="\'a\'" item-value="self.getAParam"--\x3e\n            \x3c!--set-value="self.setNParam" enabled="true" label-style="{}"--\x3e\n            \x3c!--content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">--\x3e\n        \x3c!--</editable>--\x3e\n    \x3c!--</div>--\x3e\n    \x3c!--<div style="margin-bottom: 15px; "></div>--\x3e\n\x3c!--</div>--\x3e\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Parameters</div>\n</div>\n<div style="display: flex; padding: 15px 15px 10px 15px;">\n    <span ng-click="self.hideSelectedParamGroup()" class="button-with-label-layer"\n        style="margin-left: 0;">Hide</span>\n    <span ng-click="self.showSelectedParamGroup()" class="button-with-label-layer"\n        style="margin-left: 10px;">Show</span>\n    <span ng-click="self.hideAllParamGroup()" class="button-with-label-layer"\n        style="margin-left: 10px;">Hide All</span>\n    <span ng-click="self.showAllParamGroup()" class="button-with-label-layer"\n        style="margin-left: 10px;">Show All</span>\n</div>\n<div ng-show="self.paramGroups"\n    style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px;flex: 1;overflow: auto; " class="disable-node-caret">\n    <wi-tree-view-virtual tree-root="self.paramGroups" get-label="self.getParamGroupLabel"\n        filter="self.paramGroupFilter" get-icon="self.getParamGroupIcon" get-children="self.noChildren"\n        run-match="self.runParamGroupMatch" hide-unmatched="true"\n        hide-search=\'false\' click-fn=\'self.click2ToggleParamGroup\'>\n    </wi-tree-view-virtual>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>\n       Probability Map \n    </div>\n</div>\n<div class="label-option-sidebar" style="padding: 10px 15px 0;">\n    <div style="display: flex;">\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'Rows\'" item-value="self.getRowsNumPropMap" set-value="self.setRowsNumPropMap" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n        <div style="margin-right: 15px; "></div>\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'Columns\'" item-value="self.getColsNumPropMap"\n                set-value="self.setColsNumPropMap" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n    </div>\n</div>\n<div style="display: flex; padding: 10px 15px 10px 15px;">\n    <span ng-click="self.hideSelectedPropMap()" class="button-with-label-layer"\n        style="margin-left: 0;">Deactivate</span>\n    <span ng-click="self.showSelectedPropMap()" class="button-with-label-layer"\n        style="margin-left: 10px;">Activate</span>\n    <span ng-click="self.hideAllPropMap()" class="button-with-label-layer"\n        style="margin-left: 10px;">Deactivate All</span>\n    <span ng-click="self.showAllPropMap()" class="button-with-label-layer"\n        style="margin-left: 10px;">Activate All</span>\n</div>\n<div ng-show="self.layers"\n    style="border: 1px solid #e4e4e4;margin:0 15px;border-radius: 2px;flex: 1;overflow: hidden; " class="disable-node-caret">\n    <wi-tree-view-virtual tree-root="self.getLayerTree()" get-label="self.getLayerLabel"\n        filter="self.layerFilter" get-icon="self.getPropMapTreeIcon"\n        get-icons="self.getPropMapTreeIcons" icon-style="self.getPropMapTreeIconStyle" get-children="self.noChildren" keep-children=\'true\'\n        run-match="self.runLayerMatch" hide-unmatched="true" hide-search=\'false\'\n        click-fn=\'self.click2TogglePropMap\'>\n    </wi-tree-view-virtual>\n</div>\n'},function(e,t,n){function l(e,t,n,l,i,s,o){let a=this;a.silent=!0,e.tabIndex=0;const r=[];this.$onInit=async function(){a.token&&l.setToken(a.token);for(let e=0;e<a.selectionXValues.length;e++)r.push([])},a.activateTab=function(n){t(()=>{e.tabIndex=n})},this.getParamGroups=function(){return"function"==typeof a.paramGroups?a.paramGroups():a.paramGroups},this.getSelectionValueList=function(e){return r[e].length=0,r[e].push(a.selectionXValues[e],a.selectionYValues[e],a.selectionZ1Values[e],a.selectionZ2Values[e],a.selectionZ3Values[e]),r[e]},this.onDrop=function(e,n,l){let s,o,r=n.data("idCurves");r&&r.length>=2?(t(()=>{a.warning=!1}),i.getCurveInfoPromise(r[0]).then(e=>(s=e.name,i.getDatasetInfoPromise(e.idDataset))).then(e=>{o=e.idWell,t(()=>{a.wellSpecs.push([{idWell:o}]),a.selectionTypes.push("curve"),a.selectionXValues.push(s),i.getCurveInfoPromise(r[1]).then(e=>{t(()=>{a.selectionYValues.push(e.name)})})})})):t(()=>{a.warning=!0})}}e.exports.name="multiCrossplot",n(24),angular.module("multiCrossplot",["multiWellCrossplot","wiLoading"]).component("multiCrossplot",{template:n(26),controller:l,controllerAs:"self",bindings:{token:"<",idProject:"<",wellSpecs:"=",zonesetNames:"<",selectionTypes:"<",selectionXValues:"<",selectionYValues:"<",selectionZ1Values:"<",selectionZ2Values:"<",selectionZ3Values:"<",selectionValueCouple:"<",idHistograms:"<",configs:"<",logaX:"<",logaY:"<",scaleLeft:"<",scaleRight:"<",scaleBottom:"<",scaleTop:"<",onSave:"<",onSaveAs:"<",titles:"<",paramGroups:"<",paramGroupPointsFn:"<",getParamGroupX:"<",getParamGroupY:"<",setParamGroupX:"<",setParamGroupY:"<",getParamGroupPointLabel:"<",pickettSets:"<",showAdjuster:"<",getPickettSetRw:"<",getPickettSetA:"<",getPickettSetM:"<",getPickettSetN:"<",setPickettSetRw:"<",setPickettSetA:"<",setPickettSetM:"<",setPickettSetN:"<",getPickettSetName:"<",setPickettSetName:"<",getPickettSetColor:"<",overlayLine:"<",showPickettSetAt:"<",onInitFn:"<",onReload:"<"},transclude:!0}),l.$inject=["$scope","$timeout","$element","wiToken","wiApi","wiDialog","wiLoading"]},function(e,t,n){var l=n(25);"string"==typeof l&&(l=[[e.i,l,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(l,i);l.locals&&(e.exports=l.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"multi-crossplot {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n}\nmulti-crossplot multi-well-crossplot {\n  height: 100%;\n  width: 100%;\n}\nmulti-crossplot input,\nmulti-crossplot select {\n  box-shadow: none;\n}\nmulti-crossplot ::-webkit-scrollbar-button:horizontal:increment {\n  /* Right */\n  background-image: none;\n}\nmulti-crossplot ::-webkit-scrollbar-button:horizontal:decrement {\n  /* Left */\n  background-image: none;\n}\nmulti-crossplot ::-webkit-scrollbar-button:vertical:increment {\n  /* Down */\n  background-image: none;\n}\nmulti-crossplot ::-webkit-scrollbar-button:vertical:decrement {\n  /* Up */\n  background-image: none;\n}\nmulti-crossplot .ui-select-match-text {\n  text-align: right;\n}\nmulti-crossplot button.disable {\n  color: #aaa;\n  border-color: #aaa;\n}\nmulti-crossplot .main {\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n}\nmulti-crossplot ::-webkit-scrollbar {\n  background: #f4f4f4;\n  width: 5px;\n  height: 5px;\n}\nmulti-crossplot ::-webkit-scrollbar-thumb {\n  background-color: #dcdcdc;\n}\nmulti-crossplot .tab {\n  display: flex;\n  z-index: 1;\n  color: #000;\n  background: #fff;\n  flex-basis: 40px;\n}\nmulti-crossplot .tab .tab-name {\n  display: flex;\n  align-items: center;\n  padding: 11px 20px;\n  cursor: pointer;\n  transition: all 0.2s ease-in;\n  border-right: 1px solid #d9d9d9;\n  border-bottom: 2px solid #fff;\n}\nmulti-crossplot .tab .tab-name:hover {\n  background: #fff;\n  transition: all 0.2s ease-in;\n}\nmulti-crossplot .tab .tab-drop {\n  display: flex;\n  align-items: center;\n  padding: 11px 20px;\n  transition: all 0.2s ease-in;\n}\nmulti-crossplot .tab .active {\n  color: #0077be;\n  background: #fff;\n  border-bottom: 2px solid #0077be;\n}\nmulti-crossplot .warning {\n  display: none;\n}\nmulti-crossplot .show-warning {\n  display: flex !important;\n  align-items: center;\n  background: #f47a7a;\n  padding: 10px;\n  height: 26px;\n  color: #fff;\n  border-radius: 2px;\n  margin-top: 7px;\n}\n",""])},function(e,t){e.exports='<wi-droppable style="display: flex;width: 100%;background: #ffffff;z-index: 1;box-shadow: 0 4px 9px #00000014;flex-basis: 40px;border-radius: 2px;" on-drop="self.onDrop"\n    container-style="{display:\'flex\',flex: 1, position: \'relative\'}">\n    <div class="tab">\n        <div class="tab-name" ng-repeat="(idx, xVal) in self.selectionXValues"\n            ng-class="{active: tabIndex === idx}"\n            ng-click="self.activateTab(idx)">\n            <div ng-if="self.selectionTypes[idx] === \'curve\'" class="curve-16x16" style="margin-right: 10px;"></div>\n            <div ng-if="self.selectionTypes[idx] === \'family\'" class="family-16x16" style="margin-right: 10px;"></div>\n            <div ng-if="self.selectionTypes[idx] === \'family-group\'" class="family-group-16x16"\n                style="margin-right: 10px;"></div>\n            {{self.selectionXValues[idx].value}} - {{self.selectionYValues[idx].value}}\n        </div>\n        <div class="tab-drop">\n            Drop curves here\n            <div style="margin-left: 15px; opacity: 0.4;" class="ti-plus"></div>\n        </div>\n    </div>\n    <div ng-class="{\'show-warning\': self.warning}" class="warning">\n        DROP CURVES, TRY AGAIN!\n    </div>\n</wi-droppable>\n<div ng-show="tabIndex === idx" class="main" ng-repeat="(idx, xVal) in self.selectionXValues">\n    <multi-well-crossplot well-spec="self.wellSpecs[idx]" zoneset-name="self.zonesetNames[idx]"\n        loga-x="self.logaX"\n        loga-y="self.logaY"\n        scale-left="self.scaleLeft"\n        scale-right="self.scaleRight"\n        scale-bottom="self.scaleBottom"\n        scale-top="self.scaleTop"\n        selection-type="self.selectionTypes[idx]"\n        selection-value-list="self.getSelectionValueList(idx)"\n        param-groups="self.getParamGroups()"\n        param-group-points-fn="self.paramGroupPointsFn"\n        get-param-group-x="self.getParamGroupX"\n        get-param-group-y="self.getParamGroupY"\n        set-param-group-x="self.setParamGroupX"\n        set-param-group-y="self.setParamGroupY"\n        get-param-group-point-label="self.getParamGroupPointLabel"\n        silent="true"\n        pickett-sets="self.pickettSets"\n        show-adjuster="self.showAdjuster"\n        get-pickett-set-rw="self.getPickettSetRw"\n        set-pickett-set-rw="self.setPickettSetRw"\n        get-pickett-set-a="self.getPickettSetA"\n        set-pickett-set-a="self.setPickettSetA"\n        get-pickett-set-m="self.getPickettSetM"\n        set-pickett-set-m="self.setPickettSetM"\n        get-pickett-set-n="self.getPickettSetN"\n        set-pickett-set-n="self.setPickettSetN"\n        set-pickett-set-name="self.setPickettSetName"\n        get-pickett-set-name="self.getPickettSetName"\n        get-pickett-set-color="self.getPickettSetColor"\n        overlay-line="self.overlayLine"\n        show-pickett-set-at="self.showPickettSetAt"\n        on-init-fn="self.onInitFn"\n        on-reload="self.onReload"\n        id-project="self.idProject"\n    ></multi-well-crossplot>\n</div>\n'},function(e,t,n){e.exports.name="multiWellHistogram",n(28);const l=n(2);var i=Printable.klass,s=Printable.component;function o(e,t,n,s,o,a,r,f){window.hisCtrl=this;let c=this;function d(e){let t=[];return e.datasets.forEach(e=>{t.push(...e.curves)}),t}function p(e,t){let n={},l=[];switch(t.forEach(e=>{let t=d(e);l.push(...t)}),e){case"curve":l.forEach(e=>{n[e.name]=1});break;case"family":l.forEach(e=>{let t=a.getFamily(e.idFamily);t&&(n[t.name]=1)});break;case"family-group":l.forEach(e=>{let t=a.getFamily(e.idFamily);t&&(n[t.familyGroup]=1)})}c.selectionList=Object.keys(n).map(e=>({data:{label:e},properties:{name:e}})),c.selectionList.sort((e,t)=>e.data.label.localeCompare(t.data.label))}async function g(t){f.show(n.find(".main")[0],c.silent),c.treeConfig=[];for(let e of c.wellSpec)try{let t=await a.getCachedWellPromise(e.idWell||e);e.name=t.name,t=Object.assign({},t),t._idx=e._idx,c.treeConfig.push(t)}catch(t){e.notFound=!0;let n=`Well ${e.name} not found`;__toastr&&__toastr.error(n),console.error(t)}c.wellSpec=c.wellSpec.filter(e=>!e.notFound),e.$root.$$phase||e.$digest(),t&&t(),f.hide()}function u(e,t){return e.filter(e=>{let n=t.find(t=>e.name===t.name);if(!n)return!1;for(let t of n.zones){e.zones.find(e=>e.zone_template.name==t.zone_template.name)||e.zones.push(angular.copy(t))}return!0})}function m(e){return e?c.wellSpec.find(t=>t.idWell===e.idWell&&t._idx===e._idx):{}}function x(e){let t=m(e);if(!Object.keys(t||{}).length||!c.selectionValue)return{};let n=d(e).filter(e=>c.runMatch(e,c.selectionValue)),l=t.idCurve&&n.find(e=>e.idCurve===t.idCurve)||n[0];if(!l)return delete t.curveName,delete t.idCurve,delete t.idDataset,delete t.datasetName,delete t.datasetTop,delete t.datasetBottom,void delete t.datasetStep;t.curveName=l.name,t.idCurve=l.idCurve,t.idDataset=l.idDataset;let i=c.getChildren(e),s=t.idDataset?i.find(e=>e.idDataset===t.idDataset):i[0];return t.datasetName=s.name,t.datasetTop=parseFloat(s.top),t.datasetBottom=parseFloat(s.bottom),t.datasetStep=parseFloat(s.step),l}function h(e,t=""){let n=e.zone_sets;return""===t||"ZonationAll"===t?null:n.find(e=>e.name===t)}i.call(this,e,n,t,s,a),c.silent=!0,c.treeConfig=[],c.selectedNode=null,c.datasets={},c.statisticHeaders=["X-Axis","Filter","Top","Bottom","Points","Avg","Min","Max","Avgdev","Stddev","Var","Skew","Kurtosis","Median","P10","P50","P90"],c.statisticHeaderMasks=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],e.tab=1,c.selectionTab=c.selectionTab||"Wells",e.setTab=function(t){e.tab=t},e.isSet=function(t){return e.tab===t},this.getFamilyTable=function(){return a.getFamilyTable()},this.getPals=function(){return c.palTable=a.getPalettes(),a.getPalettes()},this.discriminatorDialog=function(e){let t=m(e),n=(t.idDataset,e.datasets.find(e=>e.idDataset===t.idDataset).curves.map(e=>({type:"curve",name:e.name})));r.discriminator(t.discriminator,n,(function(e){c.isSettingChange=!0,t.discriminator=e}))},this.hasDiscriminator=function(e){let t=m(e);return Object.keys((t||{}).discriminator||{}).length>0&&t.discriminator.active},this.getDataset=function(e){a.getCachedWellPromise(e.idWell).then(e=>{c.datasets[e]=e.datasets}).catch(e=>console.error(e))},this.defaultBindings=function(){c.token&&o.setToken(c.token),c.verticalMargin=0,c.horizontalMargin=0,c.isSettingChange=!0,c.cpGetMarkerVal=c.cpGetMarkerVal||function(e,t){return e.value},c.cpSetMarkerVal=c.cpSetMarkerVal||function(e,t,n){e.value=n},c.cpMarkerStyle=c.cpMarkerStyle||function(e,t){return{stroke:e.color,"stroke-width":"2",fill:"none"}},c.cpMarkerName=c.cpMarkerName||function(e,t){return e.name},c.ctrlParams=c.ctrlParams||[],c.notCPBackground=null==c.notCPBackground||c.notCPBackground,c.ctrlParamsMask=c.ctrlParams.map(e=>!0),c.cpIcon=c.cpIcon||function(e){let t=c.ctrlParams.indexOf(e);if(t>=0){return c.ctrlParamsMask[t]?"layer-16x16":"fa fa-eye-slash"}},c.cpIcons=c.cpIcons||function(e){return["rectangle"]},c.cpIconStyle=c.cpIconStyle||function(e){return{"background-color":e.color||"red"}},c.cpBackground=c.cpBackground||{"background-color":"rgba(255, 249, 160, 0.6)"},c.defaultConfig=c.defaultConfig||{},c.wellSpec=c.wellSpec||[],console.log(c.wellSpec),c.selectionType=c.selectionType||"family-group",c.zoneTree=[],c.zonesetName=c.zonesetName||"ZonationAll",c.config=c.config||{family:"",grid:!0,displayMode:"bar",colorMode:"zone",stackMode:c.stackMode||c.noStack?"none":"well",binGap:5,title:c.title||"",notShowCumulative:!1},c.getToggleGaussianFn=c.config.notUsedGaussian?c.click2ToggleLogNormalD:c.click2ToggleGaussian,c.getGaussianIconFn=c.config.notUsedGaussian?c.getLogNormalDIcon:c.getGaussianIcon,c.dragHeader=c.dragHeader||!1},this.exportStatistic=function(){if(!c.histogramList.length){let e="No statistic data to export";return __toastr&&__toastr.error(e),void console.error(e)}let e=c.getZoneNames(),t=c.getHeaders(),n=[],i={Layer:"Layer"};t.forEach((e,t)=>{i[e]=e}),e.forEach((e,l)=>{let i={Layer:e};t.forEach((e,t)=>{i[e]=c.statsValue([l,t])}),n.push(i)});let s=c.getConfigTitle();l.exportCSVFile(i,n,s)},this.$onInit=async function(){c.doInit(),t(()=>{e.$watch(()=>{let e=angular.copy(c.config);return delete e.notShowCumulative,delete e.notUsedGaussian,e},(e,t)=>{c.isSettingChange=!0},!0),e.$watch(()=>c.getFamilyTable(),(e,t)=>{c.familyTable=e,p(c.selectionType,c.treeConfig),v()}),e.$watch(()=>c.getPals(),(e,t)=>{c.palTable=e}),e.$watch(()=>c.wellSpec.map(e=>""+e.idCurve).join(""),()=>{c.isSettingChange=!0,v()},!0),e.$watch(()=>c.selectionType,(e,t)=>{e!==t&&(c.isSettingChange=!0,c.selectionValue="",p(c.selectionType,c.treeConfig),v())}),e.$watch(()=>c.selectionValue,()=>{c.isSettingChange=!0,v()}),e.$watch(()=>c.treeConfig.map(e=>e.idWell),()=>{c.isSettingChange=!0,p(c.selectionType,c.treeConfig),function(t){if(!t.length)return;let n;for(let e of t){let t=e.zone_sets;if(n){if(!n.length)break;n=u(n,t)}else n=angular.copy(t)}c.zonesetList=(n||[]).map(e=>({data:{label:e.name},properties:e})),c.zonesetList.splice(0,0,{data:{label:"ZonationAll"},properties:A(0,1)});let l=(c.zonesetList.find(e=>e.properties.name===c.zonesetName)||{}).properties;l||(l=c.zonesetList[0].properties);c.onZonesetSelectionChanged(l),e.$root.$$phase||e.$digest()}(c.treeConfig),v()},!0),g()},500)},this.onInputSelectionChanged=function(e){c.selectionValue=(e||{}).name},this.sortableUpdate=function(){e.$digest()},this.runMatch=function(e,t){let n;if(!t)return!0;switch(c.selectionType){case"family-group":return n=a.getFamily(e.idFamily),n?n.familyGroup.trim().toLowerCase()===t.trim().toLowerCase():null;case"family":return n=a.getFamily(e.idFamily),n?n.name.trim().toLowerCase()===t.trim().toLowerCase():null;case"curve":return e.name.trim().toLowerCase()===t.trim().toLowerCase()}},this.getLabel=function(e){return e.name},this.getIcon=function(e){return e.idCurve?"curve-16x16":e.idDataset?"curve-data-16x16":e.idWell?"well-16x16":void 0},this.getChildren=function(e){return e.idDataset?e.curves:e.idWell?e.datasets:[]},this.clickFunction=function(e,t,n,l){let i=c.wellSpec.find(e=>e.idWell===l.idWell&&e._idx===l._idx);i.idCurve=t.idCurve,i.idDataset=t.idDataset,i.curveName=t.Name},this.refresh=function(){c.onReload?c.onReload((function(){c.isSettingChange=!0,g(()=>{c.genHistogramList()})})):(c.isSettingChange=!0,g(()=>{c.genHistogramList()}))},this.getWellSpec=m,this.getCurve=x,this.onZonesetDropdownInit=function(e){c.zonesetDropdownCtrl=e},this.onZonesetSelectionChanged=function(e){c.isSettingChange=!0;let t=(e||{}).zones;t&&t.length&&a.indexZonesForCorrelation(t.sort((e,t)=>e.startDepth-t.startDepth)),c.zoneTree=(e||{}).zones,c.zoneTree&&c.zoneTree.length&&(c.zoneTreeUniq=_.uniqBy(c.zoneTree.map(e=>({name:e.zone_template.name})),e=>e.name),c.zonesetName=(e||{}).name||"ZonationAll")},this.runZoneMatch=function(e,t){let n=t.toLowerCase();return e.zone_template.name.toLowerCase().includes(n)},this.getZoneLabel=function(e){return e&&e.name?e.name:"aaa"},this.getZoneIcon=e=>e&&!e._notUsed?"zone-16x16":"fa fa-ban";const b=[];function y(e,t){c.ctrlParams&&c.ctrlParams.length&&c.ctrlParams.forEach((n,l)=>{let i=n.zoneInfo;("layer"===t&&e.name.includes(`${n.wellName}.${i.zone_template.name.replace("All","ZonationAll")}(${i.__depthIndex||0})`)||"well"===t&&e.name.includes(""+n.wellName))&&(c.ctrlParamsMask[l]=!e._notUsed)})}this.validPlotRegion=function(){let e=c.getRight()-c.getLeft();return _.isFinite(e)&&0!=e},this.noChildren=function(e){return b},this.click2ToggleZone=function(e,t,n){c.isSettingChange=!0,t._notUsed=!t._notUsed,c.zoneTree.filter(e=>e.zone_template.name==t.name).forEach(e=>{e._notUsed=!e._notUsed}),c.selectedZones=n.map(e=>e.data)},this.getZoneTreeMaxHeight=function(){return n.height()},this.click2ToggleLayer=function(e,t,n){t._notUsed=!t._notUsed,y(t,"layer"),c.selectedLayers=n.map(e=>e.data)},this.click2ToggleCumulative=function(e,t,n){t._useCmlt=!t._useCmlt,c.setCumulativeData(c.histogramList)},this.click2ToggleGaussian=function(e,t,n){t._useGssn=!t._useGssn,c.config.notUsedGaussian?c.setLogNormalDFn(c.histogramList):c.setGaussianData(c.histogramList),c.setCumulativeData(c.histogramList),c.selectedGaussian=n.map(e=>e.data)},this.click2ToggleCtrlParams=function(e,t,n){let l=c.ctrlParams.findIndex(e=>t.$res.name===e.$res.name&&t.zoneInfo.idZone==e.zoneInfo.idZone);l>=0&&(c.ctrlParamsMask[l]=!c.ctrlParamsMask[l],c.selectedCtrlParams=n),c.selectedCtrlParams=n.map(e=>e.data)},this.click2ToggleLogNormalD=function(e,t,n){t._useLogNormalD=!t._useLogNormalD,c.setLogNormalDFn(c.histogramList)},this.toggleGaussianLine=function(e){c.config.notUsedGaussian=e,e?(c.getToggleGaussianFn=c.click2ToggleLogNormalD,c.getGaussianIconFn=c.getLogNormalDIcon,c.setLogNormalDFn(c.histogramList)):(c.getToggleGaussianFn=c.click2ToggleGaussian,c.getGaussianIconFn=c.getGaussianIcon,c.setGaussianData(c.histogramList))},this.runCPMatch=function(e,t){let n=t.toLowerCase();return c.cpMarkerName(e).toLowerCase().includes(n)},this.runLayerMatch=function(e,t){let n=t.toLowerCase();return e.name.toLowerCase().includes(n)};function v(){c.defaultConfig={};let e=x(c.treeConfig[0],c.wellSpec[0]);if(!e)return;let t=a.getFamily(e.idFamily);t&&a.getListUnit({idFamily:t.idFamily,idCurve:e.idCurve}).then(n=>{c.xUnitList=n,c.defaultConfig.left=isNaN(t.family_spec[0].minScale)?0:t.family_spec[0].minScale,c.defaultConfig.right=isNaN(t.family_spec[0].maxScale)?100:t.family_spec[0].maxScale,c.defaultConfig.loga="logarithmic"===t.family_spec[0].displayType.toLowerCase(),c.xUnitList=c.xUnitList.map(e=>({data:{label:e.name},properties:{name:e.name}})),c.defaultConfig.xUnit=t.family_spec[0].unit,t.idFamily!=c.config.idFamily&&(c.config.idFamily=t.idFamily,c.config.xUnit=e.unit,delete c.config.left,delete c.config.right)})}this.getLayerTree=function(){return c.histogramList},this.getLayerLabel=e=>e.name,this.getLayerIcon=e=>e&&!e._notUsed?"layer-16x16":"fa fa-eye-slash",this.getLayerIcons=e=>["rectangle"],this.getLayerIconStyle=e=>({"background-color":e.color}),this.getCumulativeIcon=e=>e&&e._useCmlt?"layer-16x16":"fa fa-eye-slash",this.getCumulativeIcons=e=>["rectangle"],this.getCumulativeIconStyle=e=>({"background-color":e.color}),this.getGaussianIcon=function(e){return e&&e._useGssn?"layer-16x16":"fa fa-eye-slash"},this.getLogNormalDIcon=function(e){return e&&e._useLogNormalD?"layer-16x16":"fa fa-eye-slash"},this.getGaussianIcons=e=>["rectangle"],this.getGaussianIconStyle=e=>({"background-color":e.color}),this.getConfigLeft=function(){return c.config=c.config||{},isNaN(c.config.left)?"[empty]":a.bestNumberFormat(c.config.left,3)},this.getConfigLimitTop=function(){return c.config=c.config||{},isNaN(c.config.limitTop)?"[empty]":a.bestNumberFormat(c.config.limitTop,3)},this.getConfigLimitBottom=function(){return c.config=c.config||{},isNaN(c.config.limitBottom)?"[empty]":a.bestNumberFormat(c.config.limitBottom,3)},this.setConfigLimitTop=function(e,t){c.config.limitTop=parseFloat(t)},this.setConfigLimitBottom=function(e,t){c.config.limitBottom=parseFloat(t)},this.setConfigLeft=function(e,t){c.config.left=parseFloat(t)},this.getConfigRight=function(){return c.config=c.config||{},isNaN(c.config.right)?"[empty]":a.bestNumberFormat(c.config.right,3)},this.setConfigRight=function(e,t){c.config.right=parseFloat(t)},this.getConfigDivisions=function(){return c.config=c.config||{},isNaN(c.config.divisions)?"[empty]":c.config.divisions},this.setConfigDivisions=function(e,t){c.config.divisions=parseInt(t)},this.getConfigTitle=function(){return c.config=c.config||{},(c.config.title||"").length?c.config.title:"New Histogram"},this.setConfigTitle=function(e,t){c.config.title=t},this.getConfigXLabel=function(){return c.config=c.config||{},(c.config.xLabel||"").length?c.config.xLabel:c.selectionValue},this.setConfigXLabel=function(e,t){c.config.xLabel=t},this.onUnitChange=function(e){let t=c.config.xUnit;c.config.xUnit=(e||{}).name,c.config.left=a.convertUnit(c.getLeft(),t,c.config.xUnit).toFixed(4),c.config.right=a.convertUnit(c.getRight(),t,c.config.xUnit).toFixed(4)},this.histogramList=[];let w=[],k=[],S=[];function L(e,t){return c.ctrlParams.some((n,l)=>{let i=n.zoneInfo;return e.zone_template.name===i.zone_template.name.replace("All","ZonationAll")&&t===(i.__depthIndex||0)})}function C(e){let t={};try{t.numPoints=e.length,t.avg=d3.mean(e),t.min=d3.min(e),t.max=d3.max(e),t.stddev=d3.deviation(e),t.avgdev=function(e){if(e.length<1)return;let t=d3.mean(e);return d3.mean(e,(function(e){return Math.abs(e-t)})).toFixed(4)}(e),t.var=d3.variance(e),t.median=d3.median(e),t.skew=e.length>=3?ss.sampleSkewness(e):void 0,t.kurtosis=e.length>=4?ss.sampleKurtosis(e):void 0,t.p10=P(e,.1),t.p50=P(e,.5),t.p90=P(e,.9)}catch(e){console.error(e)}return t}function P(e,t){if(!(e.length<1))return d3.quantile(e.sort((function(e,t){return e-t})),t).toFixed(4)}function M(e){let t=[];for(let n of e)for(let e=0;e<n.length;e++)t[e]=(t[e]||0)+n[e].length;return t}function A(e,t,n="blue"){return{name:"ZonationAll",zones:[{startDepth:e,endDepth:t,zone_template:{name:"ZonationAll",background:n}}]}}function N(e){c.getDivisions();return function(e,t){if(!z){let e,n=c.getLeft(),l=c.getRight(),i=c.getDivisions(),s=d3.extent([n,l]);if(t){let t=Math.log10(s[0]||.01),n=Math.log10(s[1]||.01);e=d3.range(t,n,(n-t)/i).map(e=>Math.pow(10,e))}else e=d3.range(s[0],s[1],(s[1]-s[0])/i);z=d3.histogram().domain(s).thresholds(e)}return z}(0,c.getLoga())(e.map(e=>e.x))}var z;function U(e,t){return e.filter(e=>(t.startDepth-e.depth)*(t.endDepth-e.depth)<=0)}function T(e,t){return _.isFinite(+e)?+e:t}this.genHistogramList=async function(){if(!c.isSettingChange)return;c.isSettingChange=!1;c.histogramList.map(e=>e.name);this.histogramList.length=0;let e=[];k.length=0,S.length=0,z=null,f.show(n.find(".main")[0],c.silent);let i=[],s=[],o=[];try{for(let t=0;t<c.treeConfig.length;t++){let n=c.treeConfig[t],r=m(n);if(n._notUsed)continue;let f=x(n,c.wellSpec[t]);if(!f)continue;let d=c.wellSpec[t].datasetTop,p=c.wellSpec[t].datasetBottom,g=c.wellSpec[t].datasetStep,u=n.datasets.find(e=>e.idDataset===c.wellSpec[t].idDataset),b=h(n,c.zonesetName);b=b||A(d,p,l.getWellColor(n));let y=await a.getCachedCurveDataPromise(f.idCurve);if(c.hasDiscriminator(n)){let e=await a.evalDiscriminatorPromise(u,c.wellSpec[t].discriminator);y=y.filter((t,n)=>e[n])}y=y.filter(e=>_.isFinite(e.x)).map(e=>({...e,depth:g>0?d+e.y*g:e.y}));let v=b.zones.filter(e=>!c.zoneTree.find(t=>t.zone_template.name===e.zone_template.name)._notUsed).sort((e,t)=>e.startDepth-t.startDepth);a.indexZonesForCorrelation(v),"all"===c.getStackMode()&&(i=[...i,...v]);let w=[],S=[],P=0;for(let e=0;e<v.length;e++){let t=v[e];if(c.ctrlParams&&c.ctrlParams.length&&!L(t,e))continue;let i=U(y,t),d=c.config.xUnit||c.defaultConfig.xUnit;f.unit!=d&&(i=i.map(e=>({y:e.y,depth:e.depth,x:a.convertUnit(e.x,f.unit,c.config.xUnit||c.defaultConfig.xUnit)}))),i.top=t.startDepth,i.bottom=t.endDepth,"well"===c.getStackMode()?S=[...S,...i]:"all"===c.getStackMode()&&(s=[...s,...i]);let p=N(i);switch(p.color=c.getColor(t,n,P),p.name=`${n.name}.${t.zone_template.name}(${e})`,p.stats={},c.getStackMode()){case"none":p.stats.curveInfo=""+f.name;break;case"all":p.stats.curveInfo=`${n.name}.${f.name}`}p.stats.conditionExpr=r.discriminator&&r.discriminator.active?r.discriminator.conditionExpr:void 0,p.stats.top=t.startDepth,p.stats.bottom=t.endDepth;let g=C(i.map(e=>e.x));if(Object.assign(p.stats,g),"zone"===c.getStackMode()){let e=o.find(e=>e.name.includes(t.zone_template.name));e||(e=[],o.push(e),e.name=""+t.zone_template.name,"zone"===c.getColorMode()?e.color=c.getColor(t,n):e.color=l.getWellColor(n)),e.push(p)}w.push(p),P++}if("well"===c.getStackMode()){let t=C(S.map(e=>e.x));t.top=d3.min(v,e=>e.startDepth),t.bottom=d3.max(v,e=>e.endDepth),t.curveInfo=""+f.name,t.conditionExpr=r.discriminator&&r.discriminator.active?r.discriminator.conditionExpr:void 0,k.push(t),w.name=n.name,w.color=l.getWellColor(n),e.push(w)}else e.push(...w)}e.name="All";let n=0,r=0,f=[];switch(c.getStackMode()){case"none":for(let t of e){let e=d3.max(t.map(e=>e.length));n=n>e?n:e;const l=e/_.sum(t.map(e=>e.length));r=r>l?r:l}f=e;break;case"well":for(let t of e){let e=M(t),l=d3.max(e);n=n>l?n:l;const i=l/_.sum(e);r=r>i?r:i,f=f.concat(t)}break;case"zone":for(let e of o){let t=[];const l=e.flat();for(let e=0;e<l.length;e++)t=t.concat(l[e]);e.stats=C(t),e.stats.top=_.min(e.map(e=>e.stats.top)),e.stats.bottom=_.max(e.map(e=>e.stats.bottom));let i=M(e),s=d3.max(i);n=n>s?n:s;const o=s/_.sum(i);r=r>o?r:o}e=o,f=o;break;case"all":{let t=M(e);n=d3.max(t);const l=n/_.sum(t);r=r>l?r:l,f=e;let o=C(s.map(e=>e.x));o.top=d3.min(i,e=>e.startDepth),o.bottom=d3.max(i,e=>e.endDepth),S.push(o)}}t(()=>{if(c.minY=0,c.maxY=n,"percentage"===c.getHistogramMode()&&(c.maxPercentage=100*r),"all"==c.getStackMode())if("line"==c.getDisplayMode()){let t=[];for(let n=0;n<e.length;n++){const l=e[n];for(let e=0;e<l.length;e++){const n=l[e];t[e]=(t[e]||[]).concat(n),t[e].x0=n.x0,t[e].x1=n.x1}}t.name=e.name,c.histogramList=[t]}else c.histogramList=[e];else if(c.histogramList=e,"line"==c.getDisplayMode())if("well"==c.getStackMode()){let t=[];e.forEach((e,n)=>{let i=[];e.forEach((e,t)=>{e.forEach((e,t)=>{i[t]=(i[t]||[]).concat(e),i[t].x0=e.x0,i[t].x1=e.x1})}),i.color=l.getWellColor(e),i.name=e.name,t.push(i)}),c.histogramList=t}else"zone"==c.getStackMode()&&(c.histogramList=e.map(e=>{const t=[];return e.forEach(e=>{e.forEach((e,n)=>{t[n]=(t[n]||[]).concat(e),t[n].x0=e.x0,t[n].x1=e.x1})}),t.color=e.color,t.name=e.name,t}));w=f,c.setCumulativeData(c.histogramList),c.setGaussianData(c.histogramList)})}catch(e){console.error(e)}f.hide()},this.genBins=N,this.getLeft=()=>c.config.flipHorizontal?T(T(c.config.right,c.defaultConfig.right),1):T(T(c.config.left,c.defaultConfig.left),0),this.getRight=()=>c.config.flipHorizontal?T(T(c.config.left,c.defaultConfig.left),1):T(T(c.config.right,c.defaultConfig.right),0),this.getMaxY=()=>"percentage"===c.getHistogramMode()?_.ceil(c.maxPercentage,-1):c.maxY>1?_.ceil(c.maxY,-1*c.maxY.toString().length+1):c.maxY,this.getLoga=()=>void 0===c.config.loga?c.defaultConfig.loga:c.config.loga,this.getMajor=()=>isNaN(c.config.major)?c.defaultConfig.major||5:c.config.major,this.getMinor=()=>isNaN(c.config.minor)?c.defaultConfig.minor||1:c.config.minor,this.getNotUsedGaussian=()=>{c.config.notUsedGaussian},this.getDivisions=()=>c.config.divisions||c.defaultConfig.divisions||35,this.getColorMode=()=>c.config.colorMode||c.defaultConfig.colorMode||"zone",this.getColor=(e,t,n)=>{let i=c.getColorMode();switch(i){case"zone":return e.zone_template.background;case"index":if(!n)return e.zone_template.background;let s=c.palTable.RandomColor||c.palTable.HFU;return l.palette2RGB(s[n%s.length],!1);default:return"well"===i?l.getWellColor(t):"blue"}},this.getDisplayMode=()=>c.config.displayMode||c.defaultConfig.displayMode||"bar",this.getStackMode=()=>c.noStack?"none":c.config.stackMode||c.defaultConfig.stackMode||"none",this.getBinGap=()=>c.config.binGap||c.defaultConfig.binGap,this.getBinX=e=>(e.x0+e.x1)/2,this.getBinY=e=>e.length,this.setConfigMajor=function(e,t){c.config.major=parseFloat(t)},this.setConfigMinor=function(e,t){c.config.minor=parseFloat(t)},this.colorFn=function(e,t){if(c.getStackMode(),t)return t.color},this.save=function(){if(c.idHistogram){let e={idParameterSet:c.idHistogram,wellSpec:c.wellSpec,zonesetName:c.zonesetName,selectionType:c.selectionType,selectionValue:c.selectionValue,config:c.config};a.editAssetPromise(c.idHistogram,e).then(e=>{console.log(e),__toastr&&__toastr.success("Successfully saved Histogram "+e.name),c.afterNewPlotCreated&&c.afterNewPlotCreated(e)}).catch(e=>{let t=`Asset ${name} has been existed`;__toastr&&__toastr.warning(t),c.save()})}else r.promptDialog({title:"New Histogram",inputName:"Histogram Name",input:c.getConfigTitle()},(function(e){let t={wellSpec:c.wellSpec,zonesetName:c.zonesetName,selectionType:c.selectionType,selectionValue:c.selectionValue,config:c.config};a.newAssetPromise(c.idProject,e,"HISTOGRAM",t).then(t=>{c.idHistogram=t.idParameterSet,c.onSave&&c.onSave(t),__toastr&&__toastr.success("Successfully saved Histogram "+e),c.afterNewPlotCreated&&c.afterNewPlotCreated(t)}).catch(t=>{let n=`Asset ${e} has been existed`;__toastr&&__toastr.warning(n),c.save()})}))},this.saveAs=function(){console.log("saveAs"),r.promptDialog({title:"Save As Histogram",inputName:"Histogram Name",input:""},(function(e){let t={wellSpec:c.wellSpec,zonesetName:c.zonesetName,selectionType:c.selectionType,selectionValue:c.selectionValue,config:c.config};a.newAssetPromise(c.idProject,e,"HISTOGRAM",t).then(t=>{c.onSaveAs&&c.onSaveAs(t),__toastr&&__toastr.success("Successfully saved Histogram "+e),c.afterNewPlotCreated&&c.afterNewPlotCreated(t)}).catch(t=>{let n=`Asset ${e} has been existed`;__toastr&&__toastr.warning(n),c.saveAs()})}))};let F=[];c.getZoneNames=function(){return F.length=0,Object.assign(F,c.histogramList.map(e=>e.name)),F},this.isLayerUsed=function(e){return!c.histogramList[e]._notUsed},c.getStatsRowIcons=function(e){return["rectangle"]},c.getStatsIconStyle=function(e){return{"background-color":c.histogramList[e].color}},c.statsValue=function([e,t]){let n=[];switch(c.getStackMode()){case"none":n=w.map(e=>e.stats);break;case"well":n=[...k];break;case"zone":n=w.map(e=>e.stats);break;case"all":n=[...S];break;default:n=[]}try{switch(D[t]){case"X-Axis":return n[e].curveInfo||"N/A";case"Filter":return n[e].conditionExpr||"N/A";case"Top":return isNaN(n[e].top)?"N/A":a.bestNumberFormat(n[e].top,4);case"Bottom":return isNaN(n[e].bottom)?"N/A":a.bestNumberFormat(n[e].bottom,4);case"Points":return isNaN(n[e].numPoints)?"N/A":n[e].numPoints;case"Avg":return isNaN(n[e].avg)?"N/A":a.bestNumberFormat(n[e].avg,4);case"Min":return isNaN(n[e].min)?"N/A":a.bestNumberFormat(n[e].min,4);case"Max":return isNaN(n[e].max)?"N/A":a.bestNumberFormat(n[e].max,4);case"Avgdev":return isNaN(n[e].avgdev)?"N/A":a.bestNumberFormat(n[e].avgdev,4);case"Stddev":return isNaN(n[e].stddev)?"N/A":a.bestNumberFormat(n[e].stddev,4);case"Var":return isNaN(n[e].var)?"N/A":a.bestNumberFormat(n[e].var,4);case"Skew":return isNaN(n[e].skew)?"N/A":a.bestNumberFormat(n[e].skew,4);case"Kurtosis":return isNaN(n[e].kurtosis)?"N/A":a.bestNumberFormat(n[e].kurtosis,4);case"Median":return isNaN(n[e].median)?"N/A":a.bestNumberFormat(n[e].median,4);case"P10":return isNaN(n[e].p10)?"N/A":a.bestNumberFormat(n[e].p10,4);case"P50":return isNaN(n[e].p50)?"N/A":a.bestNumberFormat(n[e].p50,4);case"P90":return isNaN(n[e].p90)?"N/A":a.bestNumberFormat(n[e].p90,4);default:return"this default"}}catch{return"N/A"}};let D=[];function Z(){return c.histogramList.filter(e=>e._useGssn).length}function I(){let e=function(){return Math.floor(255*Math.random())};return"rgb("+e()+","+e()+","+e()+")"}c.getHeaders=function(){return D.length=0,Object.assign(D,c.statisticHeaders.filter((e,t)=>c.statisticHeaderMasks[t])),D},this.hideSelectedGaussian=function(){c.selectedGaussian&&(c.selectedGaussian.forEach(e=>e._useGssn=!1),c.config.notUsedGaussian?c.setLogNormalDFn(c.histogramList):c.setGaussianData(c.histogramList),c.setCumulativeData(c.histogramList))},this.showSelectedGaussian=function(){c.selectedGaussian&&(c.selectedGaussian.forEach(e=>e._useGssn=!0),c.config.notUsedGaussian?c.setLogNormalDFn(c.histogramList):c.setGaussianData(c.histogramList),c.setCumulativeData(c.histogramList))},this.hideAllGaussian=function(){c.histogramList.forEach(e=>e._useGssn=!1),c.config.notUsedGaussian?c.setLogNormalDFn(c.histogramList):c.setGaussianData(c.histogramList),c.setCumulativeData(c.histogramList)},this.showAllGaussian=function(){c.histogramList.forEach(e=>e._useGssn=!0),c.config.notUsedGaussian?c.setLogNormalDFn(c.histogramList):c.setGaussianData(c.histogramList),c.setCumulativeData(c.histogramList)},this.hideSelectedLayer=function(){c.selectedLayers&&c.selectedLayers.forEach(e=>{e._notUsed=!0,y(e,"layer")})},this.showSelectedLayer=function(){c.selectedLayers&&(c.selectedLayers.forEach(e=>{e._notUsed=!1,y(e,"layer")}),t(()=>{}))},this.hideAllLayer=function(){c.histogramList.forEach(e=>{e._notUsed=!0,y(e,"layer")}),t(()=>{})},this.showAllLayer=function(){c.histogramList.forEach(e=>{e._notUsed=!1,y(e,"layer")}),t(()=>{})},this.hideAllCtrlParams=function(){t(()=>{c.ctrlParamsMask=c.ctrlParamsMask.map(e=>!1)})},this.showAllCtrlParams=function(){t(()=>{c.ctrlParamsMask=c.ctrlParamsMask.map(e=>!0)})},this.hideSelectedCtrlParams=function(){c.selectedCtrlParams&&c.selectedCtrlParams.forEach(e=>{e=e.data;let t=c.ctrlParams.findIndex(t=>e.$res.name===t.$res.name&&e.zoneInfo.idZone==t.zoneInfo.idZone);t>=0&&(c.ctrlParamsMask[t]=!1)})},this.showSelectedCtrlParams=function(){c.selectedCtrlParams&&(c.selectedCtrlParams.forEach(e=>{e=e.data;let t=c.ctrlParams.findIndex(t=>e.$res.name===t.$res.name&&e.zoneInfo.idZone==t.zoneInfo.idZone);t>=0&&(c.ctrlParamsMask[t]=!0)}),t(()=>{}))},this.hideSelectedZone=function(){c.selectedZones&&c.selectedZones.forEach(e=>{e._notUsed=!0,c.zoneTree.filter(t=>t.zone_template.name==e.name).forEach(e=>{e._notUsed=!0})})},this.showSelectedZone=function(){c.selectedZones&&(c.selectedZones.forEach(e=>{e._notUsed=!1,c.zoneTree.filter(t=>t.zone_template.name==e.name).forEach(e=>{e._notUsed=!1})}),t(()=>{}))},this.hideAllZone=function(){c.zoneTreeUniq.forEach(e=>{e._notUsed=!0}),c.zoneTree.forEach(e=>e._notUsed=!0),t(()=>{})},this.showAllZone=function(){c.isSettingChange=!0,c.zoneTreeUniq.forEach(e=>{e._notUsed=!1}),c.zoneTree.forEach(e=>e._notUsed=!1),t(()=>{})},this.onDrop=function(e,n,l){let i=n.data("idWells");i&&i.length&&t(()=>{async.eachSeries(i,(e,n)=>{a.getCachedWellPromise(e).then(l=>{let i=l.zone_sets;if("ZonationAll"==c.zonesetName||i.some(e=>e.name==c.zonesetName)){let n=_.max(c.wellSpec.filter(t=>t.idWell===e).map(e=>e._idx));n=(n>=0?n:-1)+1,c.wellSpec.push({idWell:e,_idx:n});(async function(e,n){c.treeConfig.findIndex(t=>t.idWell===e.idWell&&t._idx===e._idx);let l=await a.getCachedWellPromise(e.idWell);e.name=l.name,l=Object.assign({},l),l._idx=e._idx,t(()=>{c.treeConfig.push(l)})})(c.wellSpec[c.wellSpec.length-1]);if(!x({...l,_idx:n})){let e=`Well ${l.name} does not meet requirement`;__toastr&&__toastr.warning(e),console.warn(e)}}else{let e=`Well ${l.name} does not meet input Zone ${c.zonesetName}`;__toastr&&__toastr.warning(e),console.warn(e)}n(null)}).catch(e=>{console.error(e),n(e)})},e=>{e&&console.error(e)})})},this.toggleWell=function(e){c.isSettingChange=!0,e._notUsed=!e._notUsed,y(e,"well")},this.removeWell=function(e){let n=c.wellSpec.findIndex(t=>t.idWell===e.idWell&&t._idx===e._idx);n>=0&&t(()=>{c.wellSpec.splice(n,1);let t=c.treeConfig.findIndex(t=>t.idWell===e.idWell&&t._idx===e._idx);c.treeConfig.splice(t,1)})},this.cmltLineData=[],this.condition4CumulativeLine=function(){return Z()&&c.cmltLineData.length&&!c.config.notShowCumulative},this.setCumulativeData=function(e){if(c.cmltLineData.length=0,!e.length)return;e=e.filter(e=>e._useGssn),"well"!==c.getStackMode()&&"zone"!==c.getStackMode()&&"all"!==c.getStackMode()||(e=e.flat());let t=[];for(let n=0;n<c.getDivisions();n++){let l=[];for(let t=0;t<e.length;t++)l=[...l,...e[t][n]],l.x0=e[t][n].x0,l.x1=e[t][n].x1;t.push(l)}t.totalPoint=_.sum(t.map(e=>e.length));let n=0;t.forEach(e=>{n+=e.length,c.cmltLineData.push({x:(e.x0+e.x1)/2,y:n/t.totalPoint*c.maxY}),c.cmltLineData.color=c.cmltLineData.color||I(),c.cmltLineData.width=c.cmltLineData.width||2})},this.condition4GaussianLine=function(){return Z()&&Object.keys(c.gaussianLine||{}).length&&!c.config.notUsedGaussian},this.setGaussianData=function(e){if(c.gaussianLine=c.gaussianLine||{},!e.length)return void(c.gaussianLine._notUsed=!0);e=e.filter(e=>e._useGssn),c.gaussianLine._notUsed=!1,"well"!==c.getStackMode()&&"zone"!==c.getStackMode()&&"all"!==c.getStackMode()||(e=e.flat());let t=[];for(let n=0;n<e.length;n++)for(let l=0;l<e[n].length;l++)t=t.concat(e[n][l]);let n=d3.mean(t),l=d3.deviation(t);c.gaussianLine={...c.gaussianLine,mean:n,sigma:l,width:2},c.gaussianLine.fn=function(e){let t=this.mean,n=this.sigma;return e=(e-t)/n,1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)/n}.bind(c.gaussianLine),c.gaussianLine.color=c.gaussianLine.color||I(),c.gaussianLine.sigmaLines=[{color:c.gaussianLine.color,value:n-l},{color:c.gaussianLine.color,value:n+l}]},this.condition4LogNormalD=function(){return Z()&&Object.keys(c.logNormalDLine||{}).length&&c.config.notUsedGaussian},this.setLogNormalDFn=function(e){if(c.logNormalDLine=c.logNormalDLine||{},!e.length)return void(c.logNormalDLine._notUsed=!0);e=e.filter(e=>e._useGssn),c.logNormalDLine._notUsed=!1,"well"!==c.getStackMode()&&"zone"!==c.getStackMode()&&"all"!==c.getStackMode()||(e=e.flat());let t=[];for(let n=0;n<e.length;n++)for(let l=0;l<e[n].length;l++)t=t.concat(e[n][l]);let n=d3.mean(t),l=d3.deviation(t);c.logNormalDLine={...c.logNormalDLine,mean:n,sigma:l,width:2},c.logNormalDLine.fn=function(e){if(e<=0)return 0;let t=this.mean,n=this.sigma,l=-1/(2*Math.pow(n,2));return 1/(e*n)*(1/Math.sqrt(2*Math.PI))*Math.exp(l*Math.pow(Math.log(e)-t,2))}.bind(c.logNormalDLine),c.logNormalDLine.color=c.logNormalDLine.color||I()},this.getCumulativeX=e=>e.x,this.getCumulativeY=e=>e.y,this.getMarkerGaussianVal=(e,t)=>e.value,this.setMarkerGaussianVal=(e,t,n)=>{e.value=n},this.markerGaussianStyle=(e,t)=>({stroke:e.color,"stroke-width":"2",fill:"none"}),this.resetHistogramList=function(){c.histogramList=[]},this.changeHistogramMode=function(e){c.config.histogramMode=e},this.getHistogramMode=function(){return c.config.histogramMode||"frequency"}}angular.module("multiWellHistogram",["sideBar","wiTreeViewVirtual","wiTableView","wiApi","editable","wiDialog","wiDroppable","wiDropdownList","plot-toolkit","wiLoading","angularResizable","wiDiscriminator","printSettings"]).component("multiWellHistogram",s({template:n(30),controller:o,bindings:{token:"<",idProject:"<",wellSpec:"<",zonesetName:"<",selectionType:"=",selectionValue:"=",idHistogram:"<",config:"<",noStack:"<",stackMode:"<",onSave:"<",onSaveAs:"<",onReload:"<",title:"<",silent:"<",ctrlParams:"<",cpGetMarkerVal:"<",cpSetMarkerVal:"<",cpMarkerStyle:"<",cpMarkerName:"<",prefix:"<",cpIcons:"<",cpIconStyle:"<",onMarkerDragEnd:"<",dragHeader:"<",afterNewPlotCreated:"<"},transclude:!0})),o.$inject=["$scope","$timeout","$element","$compile","wiToken","wiApi","wiDialog","wiLoading"]},function(e,t,n){var l=n(29);"string"==typeof l&&(l=[[e.i,l,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(l,i);l.locals&&(e.exports=l.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'multi-well-histogram {\n  /* Rounded sliders */\n  /* change style special of wi-base-treeview for basemap */\n}\nmulti-well-histogram input,\nmulti-well-histogram select {\n  box-shadow: none;\n}\nmulti-well-histogram .red-color {\n  color: #cc6d6d;\n}\nmulti-well-histogram .blue-color {\n  color: #0077be;\n}\nmulti-well-histogram ::-webkit-scrollbar-button:horizontal:increment {\n  /* Right */\n  background-image: none;\n}\nmulti-well-histogram ::-webkit-scrollbar-button:horizontal:decrement {\n  /* Left */\n  background-image: none;\n}\nmulti-well-histogram ::-webkit-scrollbar-button:vertical:increment {\n  /* Down */\n  background-image: none;\n}\nmulti-well-histogram ::-webkit-scrollbar-button:vertical:decrement {\n  /* Up */\n  background-image: none;\n}\nmulti-well-histogram .disable-node-caret .node-caret {\n  display: none;\n}\nmulti-well-histogram .disable-node-caret wi-tree-node-virtual > div {\n  padding-left: 13px;\n}\nmulti-well-histogram .switch-label {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #666;\n  font-size: 12px;\n}\nmulti-well-histogram .switch-label > label {\n  margin-bottom: 0;\n}\nmulti-well-histogram .switch {\n  position: relative;\n  display: inline-block;\n  width: 35px;\n  height: 16px;\n  margin-left: 10px;\n}\nmulti-well-histogram .switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\nmulti-well-histogram .slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: 0.2s;\n  transition: 0.2s;\n}\nmulti-well-histogram .slider:before {\n  position: absolute;\n  content: "";\n  height: 10px;\n  width: 10px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  -webkit-transition: 0.2s;\n  transition: 0.2s;\n}\nmulti-well-histogram input:checked + .slider {\n  background-color: #2196F3;\n}\nmulti-well-histogram input:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n}\nmulti-well-histogram input:checked + .slider:before {\n  -webkit-transform: translateX(18px);\n  -ms-transform: translateX(18px);\n  transform: translateX(18px);\n}\nmulti-well-histogram .slider.round {\n  border-radius: 34px;\n}\nmulti-well-histogram .slider.round:before {\n  border-radius: 50%;\n}\nmulti-well-histogram wi-tree-view div input,\nmulti-well-histogram wi-tree-view-virtual div input {\n  width: 100%;\n  line-height: 1.4;\n  padding: 10px 10px 10px 14px;\n  border: none;\n  border-bottom: 1px solid #f0f0f0;\n  outline: none;\n  box-sizing: border-box;\n}\nmulti-well-histogram wi-tree-view div input::placeholder,\nmulti-well-histogram wi-tree-view-virtual div input::placeholder {\n  color: #cecece;\n}\nmulti-well-histogram wi-tree-node .node-content.selected,\nmulti-well-histogram wi-tree-node-virtual .node-content.selected {\n  background: linear-gradient(to left, #e4e4e4, #fff);\n  font-weight: bold;\n}\nmulti-well-histogram wi-table-view div.cell {\n  display: table-cell;\n  padding: 7px 10px;\n  border-right: 1px solid #d4d4d4;\n  border-bottom: 1px solid #d4d4d4;\n  cursor: default;\n  position: relative;\n  border-top: none;\n  border-left: none;\n}\nmulti-well-histogram wi-table-view div.table {\n  margin-top: 0;\n}\nmulti-well-histogram wi-dropdown-list:focus {\n  outline: none !important;\n}\nmulti-well-histogram wi-dropdown-list .ui-select-bootstrap > .ui-select-match > .btn {\n  border: none;\n  box-shadow: none;\n  outline: none;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n}\nmulti-well-histogram wi-dropdown-list .btn-default:active:focus {\n  background-color: #fff;\n}\nmulti-well-histogram wi-dropdown-list .btn-default.active,\nmulti-well-histogram wi-dropdown-list .btn-default:active,\nmulti-well-histogram wi-dropdown-list .open > .dropdown-toggle.btn-default {\n  color: #333;\n  background-color: #fff;\n  background-image: none;\n  border-color: #adadad;\n}\nmulti-well-histogram wi-dropdown-list .btn-default.focus,\nmulti-well-histogram wi-dropdown-list .btn-default:focus {\n  color: #333;\n  background-color: #fff;\n  border-color: #fff;\n}\nmulti-well-histogram wi-dropdown-list .form-control {\n  border: none;\n}\nmulti-well-histogram wi-dropdown-list :focus {\n  outline: none;\n}\nmulti-well-histogram wi-dropdown-list .form-control:focus {\n  border: none;\n  box-shadow: none;\n}\nmulti-well-histogram wi-dropdown-list .btn-default:hover {\n  color: #333;\n  background-color: #fff;\n  border-color: #fff;\n}\nmulti-well-histogram side-bar > div div.content {\n  overflow-x: hidden;\n  height: 100%;\n  display: flex;\n  overflow-y: auto;\n  /* padding-left: 15px; */\n  flex-direction: row;\n}\nmulti-well-histogram side-bar > div div.content wi-tree-node .node-content.search-mode,\nmulti-well-histogram side-bar > div div.content wi-tree-node-virtual .node-content.search-mode {\n  color: #000;\n}\nmulti-well-histogram wi-droppable {\n  height: 100%;\n}\nmulti-well-histogram wi-tree-node .node-caret,\nmulti-well-histogram wi-tree-node-virtual .node-caret,\nmulti-well-histogram wi-tree-node .node-label,\nmulti-well-histogram wi-tree-node-virtual .node-label,\nmulti-well-histogram wi-tree-node .node-icon,\nmulti-well-histogram wi-tree-node-virtual .node-icon {\n  display: flex;\n  padding-right: 10px;\n  font-size: 12px;\n}\nmulti-well-histogram wi-tree-node .node-caret,\nmulti-well-histogram wi-tree-node-virtual .node-caret {\n  color: #cccbcb;\n  font-size: 14px;\n  cursor: pointer;\n  width: 16px;\n}\nmulti-well-histogram wi-tree-node .node-content.search-mode > div,\nmulti-well-histogram wi-tree-node-virtual .node-content.search-mode > div {\n  opacity: 1;\n}\nmulti-well-histogram wi-tree-node .node-content,\nmulti-well-histogram wi-tree-node-virtual .node-content,\nmulti-well-histogram wi-tree-node .node-content::after,\nmulti-well-histogram wi-tree-node-virtual .node-content::after {\n  line-height: 3em;\n}\nmulti-well-histogram .ui-select-match-text {\n  text-align: right;\n}\nmulti-well-histogram button.disable {\n  color: #aaa;\n  border-color: #aaa;\n}\nmulti-well-histogram .fn-button {\n  border: 1px solid #d9d9d9;\n  font-size: 10px;\n  border-radius: 2px;\n  background: #fff;\n  padding: 6px 12px 5px 12px;\n  margin-right: 15px;\n  line-height: 1;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .fn-button:hover {\n  transition: all 0.2s ease-in;\n  border: 1px solid #1962a7;\n  color: #1962a7;\n  background: #fff;\n}\nmulti-well-histogram .main {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n}\nmulti-well-histogram .main .main-toolbar {\n  flex-basis: 44px;\n  background: #0074c5;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\nmulti-well-histogram .main .main-toolbar .menu-item {\n  margin: 0 15px;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\nmulti-well-histogram .main .main-toolbar .menu-item .select-proj4 {\n  box-shadow: none;\n  border: none;\n  border-radius: 0;\n  font-size: 12px;\n  color: #fff;\n  background: none;\n}\nmulti-well-histogram .main .main-toolbar .menu-item .select-proj4:focus {\n  border-color: none;\n  outline: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\nmulti-well-histogram .main .statistic-table {\n  margin: 15px 15px;\n  position: relative;\n  height: 20%;\n  max-height: 64%;\n}\nmulti-well-histogram .main .main-body {\n  flex: 1;\n  display: flex;\n  overflow-x: auto;\n  overflow-y: hidden;\n  position: relative;\n  flex-direction: column;\n}\nmulti-well-histogram .main .main-body .border-style {\n  border: 1px solid #eee;\n  border-top-right-radius: 3px;\n  border-top-left-radius: 3px;\n}\nmulti-well-histogram .main .main-body .main-body-left {\n  display: flex;\n  z-index: 1;\n  height: calc(100%);\n}\nmulti-well-histogram .main .main-body .main-body-left .input-search-list-view {\n  background: #fff;\n  width: 100%;\n  height: 44px;\n  border: 1px solid #ffffff4a;\n  border-bottom: 1px solid #eaeaea;\n  padding: 10px 20px 10px 15px;\n  font-weight: bold;\n}\nmulti-well-histogram .main .main-body .main-body-left ::-webkit-input-placeholder {\n  opacity: 0.5;\n  color: rgba(0, 0, 0, 0.253);\n  /* font-weight: 100; */\n}\nmulti-well-histogram .main .main-body .main-body-left :focus::-webkit-input-placeholder {\n  opacity: 0.5;\n  color: rgba(0, 0, 0, 0.253);\n  /* font-weight: 100; */\n}\nmulti-well-histogram .main .main-body .main-body-left .input-search-list-view:focus {\n  outline: none;\n}\nmulti-well-histogram .main .main-body .main-body-center {\n  flex: 1;\n  display: flex;\n  height: 100%;\n  position: relative;\n  flex-direction: column;\n}\nmulti-well-histogram .main .button-update {\n  background: #0077be;\n  color: #fff;\n  font-weight: bold;\n  flex: 1;\n  padding: 10px;\n  text-align: center;\n  margin: 9px 15px 15px 15px;\n  border-radius: 2px;\n  cursor: pointer;\n}\nmulti-well-histogram .main .button-update:hover {\n  background: #1ba0ec;\n  transition: all 0.5s;\n}\nmulti-well-histogram .main .disabled-click {\n  pointer-events: none;\n  opacity: 0.2;\n}\nmulti-well-histogram .main .label-list-view {\n  font-weight: bold;\n  background: #fff;\n  display: flex;\n  justify-content: space-between;\n  font-weight: 400;\n  min-width: 40px;\n}\nmulti-well-histogram .main .label-info-image {\n  background: #fff;\n  min-width: 99px;\n  display: flex;\n  align-items: center;\n  border-radius: 3px;\n  padding: 5px 10px;\n  margin-right: 15px;\n  justify-content: space-between;\n}\nmulti-well-histogram .main .button-td {\n  cursor: pointer;\n  background: #f4f4f4;\n  padding: 3px 10px;\n  border-radius: 2px;\n  border: 1px solid #e8e8e8;\n}\nmulti-well-histogram .main .button-td:hover {\n  background: #87c1ff;\n  color: #fff;\n}\nmulti-well-histogram .main .header-icon {\n  margin-right: 10px;\n  cursor: pointer;\n  width: 10px;\n}\nmulti-well-histogram .main .label-button {\n  float: right;\n  font-size: 115%;\n  color: #bbbbbb;\n  margin: 2px 5px 0 15px;\n  pointer-events: none;\n}\nmulti-well-histogram .main .button-with-label-layer {\n  cursor: pointer;\n  background: #f4f4f4;\n  font-size: 10px;\n  padding: 5px 7px;\n  margin-left: 5px;\n  border: 1px solid #e4e4e4;\n  border-radius: 2px;\n  flex: 1;\n  text-align: center;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .button-with-label-layer:hover {\n  background: #fff;\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .button-with-label {\n  cursor: pointer;\n  background: #f4f4f4;\n  font-size: 10px;\n  padding: 5px 10px;\n  border: 1px solid #f4f4f4;\n  border-radius: 20px;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .button-with-label:hover {\n  border: 1px solid #0077be;\n}\nmulti-well-histogram .main .button-with-label.active {\n  background: #f4f4f4;\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .tab-with-label {\n  cursor: pointer;\n  color: #cacaca;\n  transition: all 0.2s ease-in;\n  margin: 0 10px;\n  white-space: nowrap;\n  font-weight: bold;\n}\nmulti-well-histogram .main .tab-with-label:hover {\n  color: #0077be;\n}\nmulti-well-histogram .main .tab-with-label.active {\n  color: #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .select-table-header {\n  border: 1px solid #eee;\n  background: #f4f4f4;\n  padding: 5px 16px;\n  margin: 0 15px 15px 0;\n  cursor: pointer;\n  border-radius: 2px;\n  min-width: 91px;\n  display: flex;\n  justify-content: center;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .select-table-header.active {\n  color: #0077be;\n  border: 1px solid #0077be;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .label-option-sidebar {\n  font-weight: bold;\n  font-size: 12px;\n  color: #646464;\n  background: #fff;\n  padding: 11px 16px;\n}\nmulti-well-histogram .main .selection-sidebar {\n  border: 1px solid #e4e4e4;\n  border-radius: 2px;\n  padding: 1px 10px;\n  align-items: center;\n  display: flex;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram .main .selection-sidebar:hover {\n  border: 1px solid #0077be;\n}\nmulti-well-histogram .main .selection-sidebar > input:focus {\n  outline: none;\n}\nmulti-well-histogram .main .input-suggestions {\n  margin-left: 10px;\n  border: none;\n  flex: 1;\n  color: #0077be;\n  text-align: right;\n}\nmulti-well-histogram .axis-bar {\n  background: #fff;\n  border-radius: 2px;\n  border-bottom: 1px solid #dbdbdb87;\n  font-size: 12px;\n  display: flex;\n  width: 100%;\n  text-align: left;\n  flex: 1;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 10px;\n  transition: all 0.2s ease-in;\n}\nmulti-well-histogram ::-webkit-scrollbar {\n  background: #f4f4f4;\n  width: 5px;\n}\nmulti-well-histogram ::-webkit-scrollbar-thumb {\n  background-color: #dcdcdc;\n}\nmulti-well-histogram .fix-header-table {\n  overflow-y: auto;\n  display: flex;\n  flex: 1;\n}\nmulti-well-histogram .fix-header-table th {\n  position: sticky;\n  top: 0;\n}\nmulti-well-histogram .rectangle {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #0077be;\n}\nmulti-well-histogram table {\n  border-collapse: collapse;\n  table-layout: fixed;\n  width: 100%;\n  user-select: none;\n}\nmulti-well-histogram table th {\n  position: sticky;\n  top: 0;\n}\nmulti-well-histogram thead {\n  border-bottom: 1px solid #ccc;\n}\nmulti-well-histogram td,\nmulti-well-histogram th {\n  border-bottom: 1px solid #f0f0f0;\n  border-right: 1px solid #f0f0f0;\n  padding-top: 10px;\n  padding-bottom: 9px;\n  padding-left: 14px;\n  overflow: hidden;\n}\nmulti-well-histogram tr {\n  border-right: 4px solid #fff;\n}\nmulti-well-histogram tr.updated {\n  background-color: #c2eaff70;\n}\nmulti-well-histogram tr.created {\n  background-color: #abeaab29;\n}\nmulti-well-histogram tr.deleted {\n  background-color: #f4f4f4;\n  pointer-events: none;\n  color: #d8d3d3;\n}\nmulti-well-histogram tr:hover {\n  border-right: 4px solid #0077be;\n  background: #f9f9f9;\n}\nmulti-well-histogram th {\n  padding-top: 9px;\n  padding-bottom: 10px;\n  text-align: left;\n  background-color: #ffffff;\n  color: #0077be;\n}\nmulti-well-histogram ::placeholder {\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: #9e9e9e;\n  opacity: 1;\n  /* Firefox */\n}\n',""])},function(e,t,n){e.exports='<header ng-if="self.dragHeader">{{ \'Histogram\' }}\n</header>\n<div class="main">\n    <div style="display:flex; width: 100%; height: 100%; flex: 1;">\n        <div class="main-body">\n            '+n(31)+"\n        </div>\n        <wi-droppable on-drop=\"self.onDrop\" container-style=\"{display:'flex',flex: 1, position: 'relative', height: '100%'}\">\n            <div style=\" height: 100%; right: 0; border-left: 1px solid #ccc;\">\n                "+n(32)+"\n            </div>\n        </wi-droppable>\n    </div>\n</div>\n"},function(e,t){e.exports='<div class="label-list-view ng-scope"\n    style="display :flex; background: #f4f4f4; padding: 9px 15px; justify-content: flex-start;">\n    \x3c!-- <span  class="reload-16x16" style="cursor: pointer; margin-right: 10px;"></span>\n    <span  class="save-16x16" style="cursor: pointer; margin-right: 10px;"></span>\n    <span  class="save-as-16x16" style="cursor: pointer; margin-right: 10px;"></span> --\x3e\n    <span class="fn-button" ng-click="self.refresh()">RELOAD</span>\n    <span class="fn-button" ng-click="self.save()">SAVE</span>\n    <span class="fn-button" ng-click="self.saveAs()">SAVE AS</span>\n    <span class="fn-button" ng-click="self.print()">PRINT</span>\n    <span class="fn-button" ng-click="self.exportStatistic()">Export Statistic</span>\n</div>\n<div style="flex: 1; display: flex; flex-direction: column;">\n    <div class="main-body-center border-style printable" style="position: relative;">\n        <layer-collection v-padding="50" h-padding=\'60\'>\n            <axis-layer min-val="self.getLeft()" max-val="self.getRight()" loga="self.getLoga()"\n                n-ticks="self.getMajor() * self.getMinor()" minor-ticks="self.getMinor()" precision="4"\n                grid="!!self.config.grid" placement="1"\n                get-min-val="self.getLeft" get-max-val="self.getRight">\n            </axis-layer>\n            <axis-layer ng-if="self.getHistogramMode() === \'frequency\'"\n                min-val=\'self.minY || 0\' max-val=\'self.getMaxY() || 100\' n-ticks="10" minor-ticks="1"\n                precision="4" grid="!!self.config.grid" axis-direction="\'up\'" placement="0"></axis-layer>\n            <axis-layer ng-if="self.getHistogramMode() === \'percentage\'"\n                min-val=\'0\' max-val=\'self.getMaxY() || 100\' n-ticks="10" minor-ticks="1"\n                precision="2" grid="!!self.config.grid" axis-direction="\'up\'" placement="0"></axis-layer>\n            <axis-layer min-val="0" max-val="100" n-ticks="10" minor-ticks="1" precision="4"\n                grid="false" axis-direction="\'up\'" placement="1"></axis-layer>\n            <canvas-barchart-layer ng-show="!bins._notUsed" plot-type="self.getHistogramMode()"\n                ng-if="self.getDisplayMode() == \'bar\' && self.getStackMode() == \'none\'"\n                ng-repeat="bins in self.histogramList" min-val="self.getLeft()" max-val="self.getRight()"\n                min-y=\'self.minY || 0\' max-y=\'self.getMaxY() || 100\' loga="self.getLoga()" autofit=\'false\'\n                bins="bins" bin-gap="self.getBinGap()" color-func="self.colorFn">\n            </canvas-barchart-layer>\n            <canvas-barchart-layer ng-show="!groupOfBins._notUsed" plot-type="self.getHistogramMode()" ng-if="self.getDisplayMode() == \'bar\' &&\n                self.getStackMode() == \'well\'" ng-repeat="groupOfBins in self.histogramList"\n                min-val="self.getLeft()" max-val="self.getRight()" min-y=\'self.minY || 0\'\n                max-y=\'self.getMaxY() || 100\' loga="self.getLoga()" autofit=\'false\' bins="groupOfBins"\n                bin-gap="self.getBinGap()" color-func="self.colorFn" multiple=\'true\'>\n            </canvas-barchart-layer>\n            <canvas-barchart-layer ng-show="!groupOfBins._notUsed" plot-type="self.getHistogramMode()" ng-if="self.getDisplayMode() == \'bar\' &&\n                self.getStackMode() == \'zone\'" ng-repeat="groupOfBins in self.histogramList"\n                min-val="self.getLeft()" max-val="self.getRight()" min-y=\'self.minY || 0\'\n                max-y=\'self.getMaxY() || 100\' loga="self.getLoga()" autofit=\'false\' bins="groupOfBins"\n                bin-gap="self.getBinGap()" color-func="self.colorFn" multiple=\'true\'>\n            </canvas-barchart-layer>\n            <canvas-barchart-layer ng-show="!bins._notUsed" plot-type="self.getHistogramMode()" ng-if="self.getDisplayMode() == \'bar\' &&\n                self.getStackMode() == \'all\'" min-val="self.getLeft()" max-val="self.getRight()"\n                min-y=\'self.minY || 0\' max-y=\'self.getMaxY() || 100\' loga="self.getLoga()" autofit=\'false\'\n                bins="bins" bin-gap="self.getBinGap()" color-func="self.colorFn" multiple=\'true\'\n                ng-repeat="bins in self.histogramList">\n            </canvas-barchart-layer>\n            <line-formula-layer ng-if="self.condition4GaussianLine()" min-val=\'self.getLeft()\' max-val=\'self.getRight()\'\n                min-y=\'self.minY || 0\' max-y=\'self.getMaxY() || 100\' autofit=\'true\' resolution=\'5000\' loga="self.getLoga()"\n                formula="self.gaussianLine" line-color="self.gaussianLine.color" line-width="self.gaussianLine.width">\n            </line-formula-layer>\n            <control-marker-layer ng-if="self.condition4GaussianLine()"\n                loga="self.getLoga()"\n                min-val="self.getLeft()" max-val="self.getRight()" min-y=\'self.minY || 0\'\n                max-y=\'self.getMaxY() || 100\'\n                markers="self.gaussianLine.sigmaLines" draggable="false"\n                not-use-background=\'true\'\n                axis-direction="\'right\'"\n                get-marker-value="self.getMarkerGaussianVal"\n                set-marker-value="self.setMarkerGaussianVal"\n                get-marker-style-fn="self.markerGaussianStyle"\n                get-marker-name="self.markerName"\n                marker-width="19">\n            </control-marker-layer>\n            <line-formula-layer ng-if="self.condition4LogNormalD()" min-val=\'self.getLeft()\' max-val=\'self.getRight()\'\n                loga="self.getLoga()" min-y=\'self.minY || 0\' max-y=\'self.getMaxY() || 100\' autofit=\'true\' resolution=\'5000\'\n                eqn-offsets="[\'65px\', \'0%\']" formula="self.logNormalDLine" line-color="self.logNormalDLine.color"\n                line-width="self.logNormalDLine.width" show-equation=\'true\'>\n            </line-formula-layer>\n            <line-point-layer ng-if="self.condition4CumulativeLine()" min-val="self.getLeft()" plot-type="self.getHistogramMode()"\n                max-val="self.getRight()" min-y=\'self.minY || 0\' max-y=\'self.getMaxY() || 100\' loga="self.getLoga()"\n                min-draw="self.getLeft()" max-draw="self.getRight()" min-draw-y="self.minY || 0" max-draw-y="self.getMaxY() || 100"\n                autofit=\'false\' get-x=\'self.getCumulativeX\' get-y=\'self.getCumulativeY\' line-data="self.cmltLineData"\n                line-color="self.cmltLineData.color" line-width=\'self.cmltLineData.width\' line-dash="\'2 0\'">\n            </line-point-layer>\n            <line-point-layer ng-if="self.getDisplayMode() === \'line\' && !bins._notUsed" plot-type="self.getHistogramMode()"\n                ng-repeat="bins in self.histogramList" min-val="self.getLeft()" max-val="self.getRight()"\n                min-y=\'self.minY || 0\' max-y=\'self.getMaxY() || 100\' loga="self.getLoga()" autofit=\'false\'\n                get-x=\'self.getBinX\' get-y=\'self.getBinY\' line-data="bins" line-color="bins.color"\n                line-width=\'2\' line-dash="\'2 0\'" color-func="self.colorFn">\n            </line-point-layer>\n            <control-marker-layer ng-if="self.ctrlParams && self.ctrlParams.length && self.validPlotRegion()"\n                min-val="self.getLeft()" max-val="self.getRight()" min-y=\'self.minY || 0\'\n                max-y=\'self.getMaxY() || 100\'\n                markers="self.ctrlParams" draggable="true"\n                markers-mask = "self.ctrlParamsMask"\n                order-free=\'true\' loga="self.getLoga()"\n                not-use-background=\'self.notCPBackground\'\n                axis-direction="\'right\'"\n                get-marker-value="self.cpGetMarkerVal"\n                set-marker-value="self.cpSetMarkerVal"\n                get-marker-style-fn="self.cpMarkerStyle"\n                get-marker-name="self.cpMarkerName"\n                marker-width="19"\n                on-marker-drag-end="self.onMarkerDragEnd">\n            </control-marker-layer>\n        </layer-collection>\n        <p style="position: absolute; font-weight: bold; left: 50%; transform: translateX(-50%); bottom: 0">\n            {{self.getConfigXLabel()}} ({{ self.config.xUnit || self.defaultConfig.xUnit }})</p>\n        <p\n            style="position: absolute; top: 23px; right: 45%;text-transform: uppercase; font-weight: bold; transform: translateY(-50%);">\n            {{self.getConfigTitle()}}</p>\n        <p style="position: absolute; font-weight: bold;top: 23px;left: 15px; transform: translateY(-50%);"\n            ng-if="self.getHistogramMode() === \'frequency\'">Frequency</p>\n        <p style="position: absolute; font-weight: bold;top: 23px;left: 15px; transform: translateY(-50%);"\n            ng-if="self.getHistogramMode() === \'percentage\'">Percentage (%)</p>\n        <p style="position: absolute; font-weight: bold;top: 23px; right: 15px;transform: translateY(-50%);">Percentile (%)</p>\n    </div>\n    <div class="statistic-table" resizable r-directions="[\'top\']" r-flex="true">\n        <div style="overflow: auto; position: absolute;overflow: auto; position: absolute; top: 0; right: 0; left: 0; bottom: 0;" >\n            <wi-table-view ng-if="self.histogramList.length" row-count="self.getZoneNames().length"\n                col-count="self.getHeaders().length" col-headers="self.getHeaders()"\n                get-row-icons="self.getStatsRowIcons" get-row-icon-style="self.getStatsIconStyle"\n                row-headers="self.getZoneNames()" accessor="self.statsValue" valid-row="self.isLayerUsed">\n            </wi-table-view>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){e.exports='\x3c!-- <side-bar ng-if="self.familyTable && self.palTable" my-default-width="370" orientation="w" collapsed="false"> --\x3e\n<side-bar my-default-width="370" orientation="w" collapsed="false">\n    <div style="display: flex; flex-direction: column; width: 100%; height: 100%;">\n        \x3c!--Wells--\x3e\n        <div ng-show="isSet(1)" style="overflow: auto;flex: 1;display:flex;flex-direction:column;">\n            '+n(33)+'\n        </div>\n        \x3c!--Zone--\x3e\n        <div ng-show="isSet(2)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n            '+n(34)+'\n        </div>\n        \x3c!--Control Params--\x3e\n        <div ng-show="isSet(7) && self.ctrlParams.length" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n            '+n(35)+'\n        </div>\n        \x3c!--Assistive Lines--\x3e\n        <div ng-show="isSet(6)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n            '+n(36)+'\n        </div>\n        \x3c!--Configuration--\x3e\n        <div ng-show="isSet(3)" style="overflow: hidden;flex: 1;display: flex;flex-direction: column;">\n            '+n(37)+'\n        </div>\n        \x3c!--Statistic--\x3e\n        <div ng-show="isSet(4)" style="overflow: hidden;flex: 1;display: flex;flex-direction: column;">\n            '+n(38)+'\n        </div>\n        \x3c!--Layers--\x3e\n        <div ng-show="isSet(5)" style="overflow: auto; flex: 1; display: flex; flex-direction: column;">\n            '+n(39)+'\n        </div>\n        \x3c!-- -----PRINT SETTINGS----- --\x3e\n        <div ng-show="isSet(8)" style="overflow: hidden;flex: 1; display: flex; flex-direction: column;">\n            '+n(40)+'\n        </div>\n        <div style="display: flex;">\n            <span class="button-update" ng-class="{\'disabled-click\': !self.isSettingChange}" ng-click="self.genHistogramList()">\n                Update\n            </span>\n        </div>\n    </div>\n    <div class="label-list-view" style="   \n            display: flex;\n            border-left: 1px solid #e4e4e4;\n            flex-direction: column;\n            justify-content: start;\n            padding: 0px;\n            right: 0;\n            background: #fff;\n            overflow-y: overlay;\n            overflow-x: hidden;\n            position: sticky;\n            box-shadow: 0 10px 10px #00000017;">\n        <div style="\n            transform-origin: left;\n            transform: translate(20px, -50%) rotate(90deg);\n            display: flex;\n            position: absolute;">\n            <div ng-class="{\'active\' : isSet(1)}" ng-click="setTab(1)" class="tab-with-label">\n                <div >\n                    Wells\n                </div>\n            </div>\n            <div ng-class="{\'active\' : isSet(3)}" ng-click="setTab(3)" class="tab-with-label">\n                <div >\n                    Configuration\n                </div>\n            </div>\n            \x3c!--<div ng-show=\'self.ctrlParams.length\' ng-class="{\'active\' : isSet(7)}" ng-click="setTab(7)" class="tab-with-label">--\x3e\n                \x3c!--<div>--\x3e\n                    \x3c!--Control Params--\x3e\n                \x3c!--</div>--\x3e\n            \x3c!--</div>--\x3e\n            <div ng-class="{\'active\' : isSet(2)}" ng-click="setTab(2)" class="tab-with-label"\n                ng-show="!self.ctrlParams || !self.ctrlParams.length">\n                <div >\n                    Zone\n                </div>\n            </div>\n            <div ng-class="{\'active\' : isSet(6)}" ng-click="setTab(6)" class="tab-with-label">\n                <div >\n                    Assistive Lines\n                </div>\n            </div>\n            <div ng-class="{\'active\' : isSet(4)}" ng-click="setTab(4)" class="tab-with-label">\n                <div >\n                    Statistic\n                </div>\n            </div>\n            <div ng-class="{\'active\' : isSet(5)}" ng-click="setTab(5)" class="tab-with-label">\n                <div >\n                    Layers\n                </div>\n            </div>\n            <div class="tab-with-label" ng-class="{\'active\' : isSet(8)}" ng-click="setTab(8)">\n                <div >\n                    Print Setting\n                </div>\n            </div>\n        </div>\n    </div>\n</side-bar>\n'},function(e,t){e.exports='<div class="label-option-sidebar"\n    style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Wells</div>\n</div>\n<div class="label-option-sidebar" style="margin-top: 10px; display: flex; justify-content: space-between;">\n    <span>Input</span>\n    <div>\n        <span ng-class="{\'active\' : self.selectionType === \'family-group\'}" ng-click="self.selectionType=\'family-group\'"\n            class="button-with-label" style="margin-right: 8px;">Family Group</span>\n        <span ng-class="{\'active\' : self.selectionType === \'family\'}" ng-click="self.selectionType=\'family\'"\n            class="button-with-label" style="margin-right: 8px;">Family</span>\n        <span ng-class="{\'active\' : self.selectionType === \'curve\'}" ng-click="self.selectionType=\'curve\'"\n            class="button-with-label">Curve</span>\n    </div>\n</div>\n<div class="label-option-sidebar" style="display: flex;">\n    <div class="selection-sidebar" style="flex: 1;">\n        <span>X Axis</span>\n        <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.selectionList\'\n            current-select="self.selectionValue" on-item-changed="self.onInputSelectionChanged">\n        </wi-dropdown-list>\n    </div>\n</div>\n<div style="overflow: auto; display:flex; flex-direction: column; flex: 1;">\n    <wi-sortable item-list="self.treeConfig" related-list="[self.wellSpec]" update-fn="self.sortableUpdate">\n        <div class="sort-item" style="border: 1px solid #e4e4e4;margin: 5px 16px;border-radius: 2px;"\n            ng-repeat=\'well in self.treeConfig\'>\n            <div style="display: flex; flex-direction: row; position: relative; padding: 9px 10px;background: #f4f4f4; align-items: center;justify-content: space-between;text-align: center;">\n                <div style="display: flex; align-items: center;">\n                    <i class="header-icon" ng-class="{\'fa fa-caret-down\': well._notHidden, \'fa fa-caret-right\': !well._notHidden}"\n                        ng-click="well._notHidden = !well._notHidden"></i>\n                    <div style="border-radius: 2px; padding: 1px 10px;max-width: 150px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"\n                        ng-bind="well.name"></div>\n                </div>\n                <div style="display: flex; align-items: center;position:absolute; right: 10px;">\n\n                    <span ng-class="{\'red-color fa fa-eye-slash\': well._notUsed, \'blue-color fa fa-eye\': !well._notUsed }"\n                        ng-click="self.toggleWell(well)" style="cursor: pointer; margin-right: 17px;">\n                    </span>\n                    <span class="fa fa-filter" ng-class="{\'blue-color\': self.hasDiscriminator(well)}"\n                        ng-click="self.discriminatorDialog(well)" style="cursor: pointer; margin-right: 17px;">\n                    </span>\n                    <span class="fa fa-times-circle" ng-click="self.removeWell(well)"\n                        style="color: rgb(163, 163, 163);cursor: pointer;margin-right: 5px;">\n                    </span>\n                </div>\n            </div>\n            <div style="display: flex;position: relative;flex-direction: row ; flex-wrap: wrap; max-width: 420px;border-top: 1px solid #dbdbdb; background: #f4f4f4; align-items: center;justify-content: flex-start;text-align: center;">\n                <div class="axis-bar">\n                    <div style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis; flex: 1;" title="{{self.getWellSpec(well).datasetName}}">Dataset: {{self.getWellSpec(well).datasetName}}</div>\n                    <div style="border-right: 1px solid #ddd;height: 17px;margin: 0 10px;"></div>\n                    <div style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis; flex: 1;" title="{{self.getCurve(well).name}}">Curve: {{self.getCurve(well).name}}</div>\n                </div>\n            </div>\n            <div>\n                <wi-tree-view-virtual ng-hide="!well._notHidden" tree-root="well" get-label="self.getLabel" filter="self.selectionValue"\n                get-icon="self.getIcon" get-children="self.getChildren" keep-children=\'true\' uncollapsible=\'false\'\n                run-match="self.runMatch" hide-unmatched="true" hide-search=\'true\' click-fn=\'self.clickFunction\' vlist-height="110" collapsed="false">\n                </wi-tree-view-virtual>\n            </div>\n        </div>\n    </wi-sortable>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Zone</div>\n</div>\n<div class="label-option-sidebar" style="padding: 16px 16px;">\n    <div class="selection-sidebar">\n        <span>Zoneset</span>\n        <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.zonesetList\' on-wi-dropdown-init="self.zonesetDropdownInit"\n            current-select="self.zonesetName" on-item-changed="self.onZonesetSelectionChanged">\n        </wi-dropdown-list>\n    </div>\n</div>\n<div style="display: flex; padding: 0 16px 11px 16px;">\n    <span ng-click="self.hideSelectedZone()" class="button-with-label-layer"\n        style="margin-left: 0;">Deactivate</span>\n    <span ng-click="self.showSelectedZone()" class="button-with-label-layer"\n        style="margin-left: 15px;">Activate</span>\n    <span ng-click="self.hideAllZone()" class="button-with-label-layer"\n        style="margin-left: 15px;">Deactivate All</span>\n    <span ng-click="self.showAllZone()" class="button-with-label-layer"\n        style="margin-left: 15px;">Activate All</span>\n</div>\n<div ng-show="self.zoneTree" class="disable-node-caret"\n    style="border: 1px solid #e4e4e4;margin: 5px 15px;border-radius: 2px;flex: 1;overflow: auto; display: flex;">\n    <wi-tree-view-virtual style="flex: 1;" tree-root="self.zoneTreeUniq" get-label="self.getZoneLabel"\n        filter="self.zoneFilter" get-icon="self.getZoneIcon" get-children="self.noChildren"\n        keep-children=\'true\' run-match="self.runZoneMatch" hide-unmatched="true"\n        hide-search=\'false\' click-fn=\'self.click2ToggleZone\'>\n    </wi-tree-view-virtual>\n</div>\n<div ng-hide="self.zoneTree" style="border: 1px solid #e4e4e4; margin: 5px 15px;">\n    zonationAll\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Control Params</div>\n</div>\n<div style="overflow: hidden; display: flex; flex-direction: column; flex: 1;">\n    <div class="label-option-sidebar" style="padding: 16px; display: flex; justify-content: space-between; flex-direction: column; flex: 1; overflow: hidden;">\n        <div>\n            <div class="switch-label">\n                Use Background\n                <label class="switch">\n                        <input type="checkbox">\n                        <span class="slider round" ng-click="self.notCPBackground = !self.notCPBackground"></span>\n                </label>\n            </div>\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-bottom: 6px; margin-top: 18px;">\n            </div>\n        </div>\n        \n        <div style="display: flex; padding: 16px 0;">\n            <span ng-click="self.hideSelectedCtrlParams()" class="button-with-label-layer"\n                style="margin-left: 0px;">Hide</span>\n            <span ng-click="self.showSelectedCtrlParams()" class="button-with-label-layer"\n                style="margin-left: 15px;">Show</span>\n            <span ng-click="self.hideAllCtrlParams()" class="button-with-label-layer" style="margin-left: 15px;">Hide\n                All</span>\n            <span ng-click="self.showAllCtrlParams()" class="button-with-label-layer" style="margin-left: 15px;">Show\n                All</span>\n        </div>\n        <div ng-show="self.histogramList"\n            style="border: 1px solid #eee; flex:1; overflow: hidden;" class="disable-node-caret">\n            <wi-tree-view-virtual tree-root="self.ctrlParams" get-label="self.cpMarkerName"\n                filter="self.cpFilter" get-icon="self.cpIcon" get-icons="self.cpIcons"\n                get-children="self.noChildren" icon-style="self.cpIconStyle" keep-children=\'true\'\n                run-match="self.runCPMatch" hide-unmatched="true" hide-search=\'false\'\n                click-fn=\'self.click2ToggleCtrlParams\'>\n            </wi-tree-view-virtual>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Assistive Lines</div>\n</div>\n<div style="flex:1;overflow: auto;">\n    <div class="label-option-sidebar"\n        style="height: 100%; padding: 16px; display: flex;justify-content: space-between;flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Gaussian / Log-normal Distribution\n            <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div style="margin-bottom: 5px;">\n            <span ng-class="{\'active\' : !self.config.notUsedGaussian}"\n                ng-click="self.toggleGaussianLine(false)" class="button-with-label"\n                style="margin-right: 8px;">Gaussian</span>\n            <span ng-class="{\'active\' : self.config.notUsedGaussian}"\n                ng-click="self.toggleGaussianLine(true)" class="button-with-label">Log-normal Distribution</span>\n            <span ng-class="{\'active\' : !self.config.notShowCumulative}"\n                ng-click="self.config.notShowCumulative = !self.config.notShowCumulative" class="button-with-label">Cumulative</span>\n        </div>\n        <div style="display: flex; padding: 16px 0; font-weight: initial; color: #333;">\n            <span ng-click="self.hideSelectedGaussian()" class="button-with-label-layer"\n                style="margin-left: 0;">Deactivate</span>\n            <span ng-click="self.showSelectedGaussian()" class="button-with-label-layer"\n                style="margin-left: 15px;">Activate</span>\n            <span ng-click="self.hideAllGaussian()" class="button-with-label-layer"\n                style="margin-left: 15px;">Deactivate All</span>\n            <span ng-click="self.showAllGaussian()" class="button-with-label-layer"\n                style="margin-left: 15px;">Activate All</span>\n        </div>\n        <div ng-show="self.histogramList"\n            style="border: 1px solid #eee; margin-bottom: 15px;flex:1;overflow: hidden;" class="disable-node-caret">\n            <wi-tree-view-virtual tree-root="self.getLayerTree()" get-label="self.getLayerLabel"\n                filter="self.layerFilter" get-icon="self.getGaussianIcon" get-icons="self.getGaussianIcons"\n                get-children="self.noChildren" icon-style="self.getGaussianIconStyle" keep-children=\'true\'\n                run-match="self.runLayerMatch" hide-unmatched="true" hide-search=\'false\'\n                click-fn=\'self.click2ToggleGaussian\'>\n            </wi-tree-view-virtual>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Configuration</div>\n</div>\n<div class="selection-sidebar" style="padding: 9px 10px 5px 10px; margin: 16px 16px 5px 16px;">\n    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n        item-label="\'Title\'" item-value="self.getConfigTitle"\n        set-value="self.setConfigTitle" enabled="true" label-style="{}"\n        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n    </editable>\n</div>\n<div style="font-weight: bold;display: flex; padding: 11px 16px; margin-left: 3px;color: #717171;">X-Axis Scale\n    <div\n        style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n    </div>\n</div>\n\x3c!-- <div class="label-option-sidebar" style="margin-top: -5px;">\n    <span>X-Axis Scale</span>\n</div> --\x3e\n<div style="overflow: auto;">\n    <div class="label-option-sidebar" style="padding: 5px 16px;">\n\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'X Label\'" item-value="self.getConfigXLabel"\n                set-value="self.setConfigXLabel" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div class="selection-sidebar" style="flex: 1;">\n            <span>Unit</span>\n            <wi-dropdown-list style="flex:1; margin-left: 10px;" items=\'self.xUnitList\'\n                current-select="self.config.xUnit || self.defaultConfig.xUnit" on-item-changed="self.onUnitChange">\n            </wi-dropdown-list>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n\n        <div style="display: flex;">\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Left\'" item-value="self.getLeft"\n                    set-value="self.setConfigLeft" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n            <div style="margin-right: 15px; "></div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Right\'" item-value="self.getRight"\n                    set-value="self.setConfigRight" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n        </div>\n        <div style="margin-bottom: 15px; "></div>\n        <div style="display: flex;">\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px; flex: 1;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Major\'" item-value="self.getMajor"\n                    set-value="self.setConfigMajor" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n            <div style="margin-right: 15px; "></div>\n            <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;flex: 1;">\n                <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                    item-label="\'Minor\'" item-value="self.getMinor"\n                    set-value="self.setConfigMinor" enabled="true" label-style="{}"\n                    content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                </editable>\n            </div>\n        </div>\n        \n        <div style="margin-bottom: 15px; "></div>\n\n        <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n            <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                item-label="\'Divisions\'" item-value="self.getDivisions"\n                set-value="self.setConfigDivisions" enabled="true" label-style="{}"\n                content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n            </editable>\n        </div>\n        \n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 20px; display: flex; justify-content: space-between;   flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Scale and Grid\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <span ng-class="{\'active\' : self.config.loga}"\n                ng-click="self.config.loga = !self.config.loga" class="button-with-label"\n                style="margin-right: 8px;">Log Scale</span>\n            <span ng-class="{\'active\' : self.config.grid}"\n                ng-click="self.config.grid = !self.config.grid" class="button-with-label"\n                style="margin-right: 8px;">Show Grid</span>\n            <span ng-class="{\'active\' : self.config.flipHorizontal}"\n                ng-click="self.config.flipHorizontal = !self.config.flipHorizontal"\n                class="button-with-label">Flip Horizontally</span>\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 20px; display: flex; justify-content: space-between; flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Display Mode\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n\n        <div>\n            <span ng-class="{\'active\' : self.config.displayMode === \'bar\'}"\n                ng-click="self.config.displayMode=\'bar\'" class="button-with-label"\n                style="margin-right: 8px;"> Bar Mode</span>\n            <span ng-class="{\'active\' : self.config.displayMode === \'line\'}"\n                ng-click="self.config.displayMode=\'line\'" class="button-with-label">Line\n                Mode</span>\n        </div>\n\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 20px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Color Mode\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <span ng-class="{\'active\' : self.config.colorMode === \'zone\'}"\n                ng-click="self.config.colorMode=\'zone\'" class="button-with-label"\n                style="margin-right: 8px;"> Zone Color</span>\n            <span ng-class="{\'active\' : self.config.colorMode === \'well\'}"\n                style="margin-right: 8px;" ng-click="self.config.colorMode=\'well\'"\n                class="button-with-label">Well Color</span>\n            <span ng-class="{\'active\' : self.config.colorMode === \'index\'}"\n                style="margin-right: 8px;" ng-click="self.config.colorMode=\'index\'"\n                class="button-with-label">Index Color</span>\n            \x3c!-- <span ng-class="{\'active\' : self.config.colorMode === \'user\'}"\n                ng-click="self.config.colorMode=\'user\'" class="button-with-label">User Defined</span> --\x3e\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 20px; display: flex; justify-content: space-between; flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Stack Mode\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <span ng-class="{\'active\' : self.config.stackMode === \'none\'}"\n                ng-click="self.config.stackMode=\'none\';self.resetHistogramList();" class="button-with-label"\n                style="margin-right: 8px;">No Stack</span>\n            <span ng-class="{\'active\' : self.config.stackMode === \'well\'}"\n                style="margin-right: 8px;" ng-click="self.config.stackMode=\'well\';self.resetHistogramList();"\n                class="button-with-label">Well</span>\n            <span ng-class="{\'active\' : self.config.stackMode === \'zone\'}"\n                style="margin-right: 8px;" ng-click="self.config.stackMode=\'zone\';self.resetHistogramList();"\n                class="button-with-label">Zone</span>\n            <span ng-class="{\'active\' : self.config.stackMode === \'all\'}"\n                ng-click="self.config.stackMode=\'all\';self.resetHistogramList();" class="button-with-label">All</span>\n        </div>\n    </div>\n    <div class="label-option-sidebar"\n        style="padding: 10px 20px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Histogram Mode\n            <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;"></div>\n        </div>\n        <div>\n            <span ng-class="{\'active\' : self.getHistogramMode() === \'frequency\'}"\n                ng-click="self.changeHistogramMode(\'frequency\')" class="button-with-label"\n                style="margin-right: 8px;"> Frequency Count</span>\n            <span ng-class="{\'active\' : self.getHistogramMode() === \'percentage\'}"\n                ng-click="self.changeHistogramMode(\'percentage\')"\n                class="button-with-label">Percentage</span>\n        </div>\n\n    </div>\n    \x3c!-- <div class="label-option-sidebar"\n        style="padding: 20px 20px; display: flex; justify-content: space-between;  flex-direction: column;">\n        <div style="display: flex;margin-bottom: 16px;">Depth Limitation Mode\n            <div\n                style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n            </div>\n        </div>\n        <div>\n            <div ng-show="self.config.limitType === \'interval\'">\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Top\'" item-value="self.getConfigLimitTop"\n                        set-value="self.setConfigLimitTop" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n                <div style="margin-bottom: 15px; "></div>\n                <div class="selection-sidebar" style="padding: 9px 10px 5px 10px;">\n                    <editable style="flex:1;display:flex;flex-direction:row;overflow:hidden;"\n                        item-label="\'Bottom\'" item-value="self.getConfigLimitBottom"\n                        set-value="self.setConfigLimitBottom" enabled="true" label-style="{}"\n                        content-style="{flex:1,float:\'none\',\'text-align\':\'right\'}">\n                    </editable>\n                </div>\n                <div style="margin-bottom: 15px; "></div>\n            </div>\n            <span ng-class="{\'active\' : self.config.limitType === \'interval\'}"\n                ng-click="self. config.limitType = \'interval\'" class="button-with-label"\n                style="margin-right: 8px;"> Interval Depth</span>\n            <span ng-class="{\'active\' : self.config.limitType === \'zonal\'}"\n                ng-click="self.config.limitType = \'zonal\'" class="button-with-label">Zonal\n                Depth</span>\n            <div style="margin-bottom: 15px; "></div>\n        </div>\n    </div> --\x3e\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Statistic</div>\n</div>\n<div onmouseover="this.style.overflow=\'overlay\'" onmouseout="this.style.overflow=\'hidden\'"style="flex:1; padding: 15px;">\n    <div style="display: flex;margin-bottom: 16px;">Table Information\n        <div style="border-bottom: 1px solid #e4e4e4;flex: 1;margin-left: 15px;margin-bottom: 6px;">\n        </div>\n    </div>\n    <div style="display: flex; flex-wrap: wrap;    position: absolute;">\n        <span ng-repeat="header in self.statisticHeaders" class="select-table-header"\n            ng-class="{\'active\' : self.statisticHeaderMasks[$index]}"\n            ng-click="self.statisticHeaderMasks[$index]= !self.statisticHeaderMasks[$index]">\n            {{header}}</span>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Layer</div>\n</div>\n<div style="display: flex; padding: 16px 16px 0px 16px;">\n    <span ng-click="self.hideSelectedLayer()" class="button-with-label-layer"\n        style="margin-left: 0px;">Deactivate</span>\n    <span ng-click="self.showSelectedLayer()" class="button-with-label-layer"\n        style="margin-left: 15px;">Activate</span>\n    <span ng-click="self.hideAllLayer()" class="button-with-label-layer" style="margin-left: 15px;">Deactivate\n        All</span>\n    <span ng-click="self.showAllLayer()" class="button-with-label-layer" style="margin-left: 15px;">Activate\n        All</span>\n</div>\n<div ng-show="self.histogramList" class="disable-node-caret"\n    style="border: 1px solid #eee; margin: 15px 15px 5px 15px;flex:1;overflow: hidden;">\n    <wi-tree-view-virtual tree-root="self.getLayerTree()" \n        get-label="self.getLayerLabel" filter="self.layerFilter"\n        get-icon="self.getLayerIcon" get-icons="self.getLayerIcons" get-children="self.noChildren"\n        icon-style="self.getLayerIconStyle" keep-children=\'true\' run-match="self.runLayerMatch"\n        hide-unmatched="true" hide-search=\'false\' click-fn=\'self.click2ToggleLayer\'>\n    </wi-tree-view-virtual>\n</div>\n'},function(e,t){e.exports='<div class="label-option-sidebar" style="padding: 12px 20px;display: flex;background: #f4f4f4;border-bottom: 1px solid #dcdcdc;justify-content: space-between;flex-direction: column;">\n    <div>Print Setting</div>\n</div>\n<print-settings style="overflow: auto;" plot-ctrl="self"></print-settings>\n'},function(e,t,n){e.exports.name="multiHistogram",n(42);function l(e,t,n,l,i,s,o){let a=this;a.silent=!0,e.tabIndex=0,this.$onInit=async function(){a.token&&l.setToken(a.token),console.log(a.zonesetNames)},a.activateTab=function(n){t(()=>{e.tabIndex=n})},this.getCtrlParams=function(e){return"function"==typeof a.ctrlParamsList?a.ctrlParamsList()[e]:a.ctrlParamsList[e]},this.onDrop=function(e,n,l){let s,r,f=n.data("idCurves");f?(a.warning=!1,o.show(document.getElementsByTagName("body")[0],!1),i.getCurveInfoPromise(f[0]).then(e=>(console.log(e),s=e.name,i.getDatasetInfoPromise(e.idDataset))).then(e=>{r=e.idWell,t(()=>{a.wellSpecs.push([{idWell:r}]),a.selectionTypes.push("curve"),a.selectionValues.push(s)}),o.hide()})):t(()=>{a.warning=!0})}}angular.module("multiHistogram",["multiWellHistogram","wiLoading"]).component("multiHistogram",{template:n(44),controller:l,controllerAs:"self",bindings:{token:"<",idProject:"<",wellSpecs:"=",zonesetNames:"<",selectionTypes:"<",selectionValues:"<",idHistograms:"<",configs:"<",noStack:"<",stackMode:"<",ctrlParamsList:"<",onSave:"<",onSaveAs:"<",titles:"<",prefixs:"<",cpGetMarkerVal:"<",cpSetMarkerVal:"<",cpMarkerStyle:"<",cpMarkerName:"<",cpIcons:"<",cpIconStyle:"<",onMarkerDragEnd:"<",onReload:"<"},transclude:!0}),l.$inject=["$scope","$timeout","$element","wiToken","wiApi","wiDialog","wiLoading"]},function(e,t,n){var l=n(43);"string"==typeof l&&(l=[[e.i,l,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(l,i);l.locals&&(e.exports=l.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"multi-histogram {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n}\nmulti-histogram multi-well-histogram {\n  height: 100%;\n}\nmulti-histogram input,\nmulti-histogram select {\n  box-shadow: none;\n}\nmulti-histogram ::-webkit-scrollbar-button:horizontal:increment {\n  /* Right */\n  background-image: none;\n}\nmulti-histogram ::-webkit-scrollbar-button:horizontal:decrement {\n  /* Left */\n  background-image: none;\n}\nmulti-histogram ::-webkit-scrollbar-button:vertical:increment {\n  /* Down */\n  background-image: none;\n}\nmulti-histogram ::-webkit-scrollbar-button:vertical:decrement {\n  /* Up */\n  background-image: none;\n}\nmulti-histogram .ui-select-match-text {\n  text-align: right;\n}\nmulti-histogram button.disable {\n  color: #aaa;\n  border-color: #aaa;\n}\nmulti-histogram .main {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n}\nmulti-histogram ::-webkit-scrollbar {\n  background: #f4f4f4;\n  width: 5px;\n  height: 5px;\n}\nmulti-histogram ::-webkit-scrollbar-thumb {\n  background-color: #dcdcdc;\n}\nmulti-histogram .tab {\n  display: flex;\n  z-index: 1;\n  color: #000;\n  background: #fff;\n  flex-basis: 40px;\n}\nmulti-histogram .tab .tab-name {\n  display: flex;\n  align-items: center;\n  padding: 11px 20px;\n  cursor: pointer;\n  letter-spacing: 1px;\n  transition: all 0.2s ease-in;\n  border-right: 1px solid #d9d9d9;\n  border-bottom: 2px solid #fff;\n}\nmulti-histogram .tab .tab-name:hover {\n  background: #fff;\n  transition: all 0.2s ease-in;\n}\nmulti-histogram .tab .tab-drop {\n  display: flex;\n  align-items: center;\n  padding: 11px 20px;\n  letter-spacing: 1px;\n  transition: all 0.2s ease-in;\n}\nmulti-histogram .tab .active {\n  color: #0077be;\n  background: #fff;\n  border-bottom: 2px solid #0077be;\n}\nmulti-histogram .warning {\n  display: none;\n}\nmulti-histogram .show-warning {\n  display: flex !important;\n  align-items: center;\n  background: #f47a7a;\n  padding: 10px;\n  height: 26px;\n  color: #fff;\n  border-radius: 2px;\n  margin-top: 7px;\n}\n",""])},function(e,t){e.exports='<wi-droppable style="display: flex;width: 100%;background: #ffffff;z-index: 1;box-shadow: 0 4px 9px #00000014;flex-basis: 40px;border-radius: 2px;" on-drop="self.onDrop"\n    container-style="{display:\'flex\',flex: 1, position: \'relative\'}">\n    <div class="tab">\n        <div class="tab-name" ng-repeat="sV in self.selectionValues" ng-class="{active: tabIndex === $index}"\n            ng-click="self.activateTab($index)">\n            <div ng-if="self.selectionTypes[$index] === \'curve\'" class="curve-16x16" style="margin-right: 10px;"></div>\n            <div ng-if="self.selectionTypes[$index] === \'family\'" class="family-16x16" style="margin-right: 10px;">\n            </div>\n            <div ng-if="self.selectionTypes[$index] === \'family-group\'" class="family-group-16x16"\n                style="margin-right: 10px;"></div>\n            {{self.selectionValues[$index]}}\n        </div>\n        <div class="tab-drop">\n            Drop curve here\n            <div style="margin-left: 15px; opacity: 0.4;" class="plus-16x16"></div>\n        </div>\n    </div>\n    <div ng-class="{\'show-warning\': self.warning}" class="warning">\n        DROP CURVE, TRY AGIAN!\n    </div>\n</wi-droppable>\n<div ng-show="tabIndex === $index" class="main" ng-repeat="sV in self.selectionValues">\n    <multi-well-histogram well-spec="self.wellSpecs[$index]" zoneset-name="self.zonesetNames[$index]"\n        selection-type="self.selectionTypes[$index]" selection-value="self.selectionValues[$index]"\n        ctrl-params="self.getCtrlParams($index)" zone-set-ctrl-lines="self.zoneSetCtrlLines"\n        config="self.configs[$index]" silent="self.silent" prefix=\'self.prefixs[$index]\'\n        cp-get-marker-val=\'self.cpGetMarkerVal\' cp-set-marker-val=\'self.cpSetMarkerVal\'\n        cp-marker-style=\'self.cpMarkerStyle\' cp-marker-name=\'self.cpMarkerName\'\n        cp-icons=\'self.cpIcons\' cp-icon-style=\'self.cpIconStyle\' no-stack="self.noStack"\n        stack-mode="self.stackMode" on-marker-drag-end="self.onMarkerDragEnd"\n        on-reload="self.onReload" id-project="self.idProject">\n    </multi-well-histogram>\n</div>\n'}]);